function uploadAttachment(n){var t=n.file,e=new FormData;e.append("Content-Type",t.type),e.append("photo[image]",t);var i=new XMLHttpRequest;return i.open("POST","/photos.json",!0),i.setRequestHeader("X-CSRF-Token",Rails.csrfToken()),i.upload.onprogress=function(t){var e=t.loaded/t.total*100;n.setUploadProgress(e)},i.onload=function(){if(201===i.status){var t=JSON.parse(i.responseText);return n.setAttributes({url:t.image_url,href:t.url})}},i.send(e)}(function(){}).call(this),function(){null==window.Set&&(window.Set=function(){function t(){this.clear()}return t.prototype.clear=function(){return this.values=[]},t.prototype.has=function(t){return-1!==this.values.indexOf(t)},t.prototype.add=function(t){return this.has(t)||this.values.push(t),this},t.prototype["delete"]=function(t){var e;return-1!==(e=this.values.indexOf(t))&&(this.values.splice(e,1),!0)},t.prototype.forEach=function(){var t;return(t=this.values).forEach.apply(t,arguments)},t}())}.call(this),function(t){function i(){}function r(t,e){return function(){t.apply(e,arguments)}}function o(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(t,this)}function s(n,i){for(;3===n._state;)n=n._value;return 0===n._state?void n._deferreds.push(i):(n._handled=!0,void p(function(){var t=1===n._state?i.onFulfilled:i.onRejected;if(null!==t){var e;try{e=t(n._value)}catch(s){return void u(i.promise,s)}a(i.promise,e)}else(1===n._state?a:u)(i.promise,n._value)}))}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void h(r(n,e),t)}t._state=1,t._value=e,c(t)}catch(a){u(t,a)}}function u(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&setTimeout(function(){t._handled||d(t._value)},1);for(var e=0,n=t._deferreds.length;e<n;e++)s(t,t._deferreds[e]);t._deferreds=null}function l(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function h(t,e){var n=!1;try{t(function(t){n||(n=!0,a(e,t))},function(t){n||(n=!0,u(e,t))})}catch(o){if(n)return;n=!0,u(e,o)}}var e=setTimeout,p="function"==typeof setImmediate&&setImmediate||function(t){e(t,1)},d=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};o.prototype["catch"]=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new o(i);return s(this,new l(t,e,n)),n},o.all=function(t){var a=Array.prototype.slice.call(t);return new o(function(i,r){function o(e,t){try{if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void n.call(t,function(t){o(e,t)},r)}a[e]=t,0==--s&&i(a)}catch(l){r(l)}}if(0===a.length)return i([]);for(var s=a.length,t=0;t<a.length;t++)o(t,a[t])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(n){return new o(function(t,e){e(n)})},o.race=function(r){return new o(function(t,e){for(var n=0,i=r.length;n<i;n++)r[n].then(t,e)})},o._setImmediateFn=function(t){p=t},o._setUnhandledRejectionFn=function(t){d=t},"undefined"!=typeof module&&module.exports?module.exports=o:t.Promise||(t.Promise=o)}(this),"undefined"==typeof WeakMap&&function(){var i=Object.defineProperty,t=Date.now()%1e9,e=function(){this.name="__st"+(1e9*Math.random()>>>0)+t+++"__"};e.prototype={set:function(t,e){var n=t[this.name];return n&&n[0]===t?n[1]=e:i(t,this.name,{value:[t,e],writable:!0}),this},get:function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:void 0},"delete":function(t){var e=t[this.name];return!(!e||e[0]!==t)&&(e[0]=e[1]=void 0,!0)},has:function(t){var e=t[this.name];return!!e&&e[0]===t}},window.WeakMap=e}(),function(t){function r(t){w.push(t),E||(E=!0,m(e))}function o(t){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(t)||t}function e(){E=!1;var t=w;w=[],t.sort(function(t,e){return t.uid_-e.uid_});var n=!1;t.forEach(function(t){var e=t.takeRecords();i(t),e.length&&(t.callback_(e,t),n=!0)}),n&&e()}function i(n){n.nodes_.forEach(function(t){var e=g.get(t);e&&e.forEach(function(t){t.observer===n&&t.removeTransientObservers()})})}function h(t,e){for(var n=t;n;n=n.parentNode){var i=g.get(n);if(i)for(var r=0;r<i.length;r++){var o=i[r],s=o.options;if(n===t||s.subtree){var a=e(s);a&&o.enqueue(a)}}}}function n(t){this.callback_=t,this.nodes_=[],this.records_=[],this.uid_=++C}function s(t,e){this.type=t,this.target=e,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function a(t){var e=new s(t.type,t.target);return e.addedNodes=t.addedNodes.slice(),e.removedNodes=t.removedNodes.slice(),e.previousSibling=t.previousSibling,e.nextSibling=t.nextSibling,e.attributeName=t.attributeName,e.attributeNamespace=t.attributeNamespace,e.oldValue=t.oldValue,e}function p(t,e){return b=new s(t,e)}function d(t){return A||((A=a(b)).oldValue=t,A)}function f(){b=A=void 0}function u(t){return t===A||t===b}function c(t,e){return t===e?t:A&&u(t)?A:null}function l(t,e,n){this.observer=t,this.target=e,this.options=n,this.transientObservedNodes=[]}if(!t.JsMutationObserver){var m,g=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))m=setTimeout;else if(window.setImmediate)m=window.setImmediate;else{var y=[],v=String(Math.random());window.addEventListener("message",function(t){if(t.data===v){var e=y;y=[],e.forEach(function(t){t()})}}),m=function(t){y.push(t),window.postMessage(v,"*")}}var b,A,E=!1,w=[],C=0;n.prototype={observe:function(t,e){if(t=o(t),!e.childList&&!e.attributes&&!e.characterData||e.attributeOldValue&&!e.attributes||e.attributeFilter&&e.attributeFilter.length&&!e.attributes||e.characterDataOldValue&&!e.characterData)throw new SyntaxError;var n=g.get(t);n||g.set(t,n=[]);for(var i,r=0;r<n.length;r++)if(n[r].observer===this){(i=n[r]).removeListeners(),i.options=e;break}i||(i=new l(this,t,e),n.push(i),this.nodes_.push(t)),i.addListeners()},disconnect:function(){this.nodes_.forEach(function(t){for(var e=g.get(t),n=0;n<e.length;n++){var i=e[n];if(i.observer===this){i.removeListeners(),e.splice(n,1);break}}},this),this.records_=[]},takeRecords:function(){var t=this.records_;return this.records_=[],t}},l.prototype={enqueue:function(t){var e=this.observer.records_,n=e.length;if(0<e.length){var i=c(e[n-1],t);if(i)return void(e[n-1]=i)}else r(this.observer);e[n]=t},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(t){var e=this.options;e.attributes&&t.addEventListener("DOMAttrModified",this,!0),e.characterData&&t.addEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.addEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(t){var e=this.options;e.attributes&&t.removeEventListener("DOMAttrModified",this,!0),e.characterData&&t.removeEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.removeEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(t){if(t!==this.target){this.addListeners_(t),this.transientObservedNodes.push(t);var e=g.get(t);e||g.set(t,e=[]),e.push(this)}},removeTransientObservers:function(){var t=this.transientObservedNodes;this.transientObservedNodes=[],t.forEach(function(t){this.removeListeners_(t);for(var e=g.get(t),n=0;n<e.length;n++)if(e[n]===this){e.splice(n,1);break}},this)},handleEvent:function(t){switch(t.stopImmediatePropagation(),t.type){case"DOMAttrModified":var e=t.attrName,n=t.relatedNode.namespaceURI,i=t.target;(o=new p("attributes",i)).attributeName=e,o.attributeNamespace=n;var r=t.attrChange===MutationEvent.ADDITION?null:t.prevValue;h(i,function(t){return!t.attributes||t.attributeFilter&&t.attributeFilter.length&&-1===t.attributeFilter.indexOf(e)&&-1===t.attributeFilter.indexOf(n)?void 0:t.attributeOldValue?d(r):o});break;case"DOMCharacterDataModified":var o=p("characterData",i=t.target);r=t.prevValue;h(i,function(t){return t.characterData?t.characterDataOldValue?d(r):o:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(t.target);case"DOMNodeInserted":var s,a,u=t.target;"DOMNodeInserted"===t.type?(s=[u],a=[]):(s=[],a=[u]);var c=u.previousSibling,l=u.nextSibling;(o=p("childList",t.target.parentNode)).addedNodes=s,o.removedNodes=a,o.previousSibling=c,o.nextSibling=l,h(t.relatedNode,function(t){return t.childList?o:void 0})}f()}},t.JsMutationObserver=n,t.MutationObserver||((t.MutationObserver=n)._isPolyfilled=!0)}}(self),function(){"use strict";if(!window.performance){var t=Date.now();window.performance={now:function(){return Date.now()-t}}}var e,n;if(window.requestAnimationFrame||(window.requestAnimationFrame=(e=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)?function(t){return e(function(){t(performance.now())})}:function(t){return window.setTimeout(t,1e3/60)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)}),!((n=document.createEvent("Event")).initEvent("foo",!0,!0),n.preventDefault(),n.defaultPrevented)){var i=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(i.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var r=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||r&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,Boolean(e.bubbles),Boolean(e.cancelable),e.detail),n},window.CustomEvent.prototype=window.Event.prototype),!window.Event||r&&"function"!=typeof window.Event){var o=window.Event;window.Event=function(t,e){e=e||{};var n=document.createEvent("Event");return n.initEvent(t,Boolean(e.bubbles),Boolean(e.cancelable)),n},window.Event.prototype=o.prototype}}(window.WebComponents),window.CustomElements=window.CustomElements||{flags:{}},function(e){var t=e.flags,n=[],i=function(t){n.push(t)},r=function(){n.forEach(function(t){t(e)})};e.addModule=i,e.initializeModules=r,e.hasNative=Boolean(document.registerElement),e.isIE=/Trident/.test(navigator.userAgent),e.useNative=!t.register&&e.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule(function(t){function i(t,e){r(t,function(t){return!!e(t)||void n(t,e)}),n(t,e)}function r(t,e,n){var i=t.firstElementChild;if(!i)for(i=t.firstChild;i&&i.nodeType!==Node.ELEMENT_NODE;)i=i.nextSibling;for(;i;)!0!==e(i,n)&&r(i,e,n),i=i.nextElementSibling;return null}function n(t,e){for(var n=t.shadowRoot;n;)i(n,e),n=n.olderShadowRoot}function e(t,e){a(t,e,[])}function a(t,e,n){if(t=window.wrap(t),!(0<=n.indexOf(t))){n.push(t);for(var i,r=t.querySelectorAll("link[rel="+u+"]"),o=0,s=r.length;o<s&&(i=r[o]);o++)i["import"]&&a(i["import"],e,n);e(t)}}var u=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";t.forDocumentTree=e,t.forSubtree=i}),window.CustomElements.addModule(function(n){function s(t,e){return i(t,e)||r(t,e)}function i(t,e){return!!n.upgrade(t,e)||void(e&&a(t))}function r(t,e){b(t,function(t){return!!i(t,e)||void 0})}function e(t){C.push(t),w||(w=!0,setTimeout(o))}function o(){w=!1;for(var t,e=C,n=0,i=e.length;n<i&&(t=e[n]);n++)t();C=[]}function a(t){E?e(function(){u(t)}):u(t)}function u(t){t.__upgraded__&&!t.__attached&&(t.__attached=!0,t.attachedCallback&&t.attachedCallback())}function c(t){l(t),b(t,function(t){l(t)})}function l(t){E?e(function(){h(t)}):h(t)}function h(t){t.__upgraded__&&t.__attached&&(t.__attached=!1,t.detachedCallback&&t.detachedCallback())}function p(t){for(var e=t,n=window.wrap(document);e;){if(e==n)return!0;e=e.parentNode||e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host}}function t(t){if(t.shadowRoot&&!t.shadowRoot.__watched){v.dom&&console.log("watching shadow-root for: ",t.localName);for(var e=t.shadowRoot;e;)m(e),e=e.olderShadowRoot}}function d(t,e){if(v.dom){var n=e[0];if(n&&"childList"===n.type&&n.addedNodes&&n.addedNodes){for(var i=n.addedNodes[0];i&&i!==document&&!i.host;)i=i.parentNode;var r=i&&(i.URL||i._URL||i.host&&i.host.localName)||"";r=r.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",e.length,r||"")}var o=p(t);e.forEach(function(t){"childList"===t.type&&(S(t.addedNodes,function(t){t.localName&&s(t,o)}),S(t.removedNodes,function(t){t.localName&&c(t)}))}),v.dom&&console.groupEnd()}function f(t){for((t=window.wrap(t))||(t=window.wrap(document));t.parentNode;)t=t.parentNode;var e=t.__observer;e&&(d(t,e.takeRecords()),o())}function m(t){if(!t.__observer){var e=new MutationObserver(d.bind(this,t));e.observe(t,{childList:!0,subtree:!0}),t.__observer=e}}function g(t){t=window.wrap(t),v.dom&&console.group("upgradeDocument: ",t.baseURI.split("/").pop()),s(t,t===window.wrap(document)),m(t),v.dom&&console.groupEnd()}function y(t){A(t,g)}var v=n.flags,b=n.forSubtree,A=n.forDocumentTree,E=window.MutationObserver._isPolyfilled&&v["throttle-attached"];n.hasPolyfillMutations=E,n.hasThrottledAttached=E;var w=!1,C=[],S=Array.prototype.forEach.call.bind(Array.prototype.forEach),x=Element.prototype.createShadowRoot;x&&(Element.prototype.createShadowRoot=function(){var t=x.call(this);return window.CustomElements.watchShadow(this),t}),n.watchShadow=t,n.upgradeDocumentTree=y,n.upgradeDocument=g,n.upgradeSubtree=r,n.upgradeAll=s,n.attached=a,n.takeRecords=f}),window.CustomElements.addModule(function(r){function t(t,e){if("template"===t.localName&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(t),!t.__upgraded__&&t.nodeType===Node.ELEMENT_NODE){var n=t.getAttribute("is"),i=r.getRegisteredDefinition(t.localName)||r.getRegisteredDefinition(n);if(i&&(n&&i.tag==t.localName||!n&&!i["extends"]))return o(t,i,e)}}function o(t,e,n){return a.upgrade&&console.group("upgrade:",t.localName),e.is&&t.setAttribute("is",e.is),i(t,e),t.__upgraded__=!0,s(t),n&&r.attached(t),r.upgradeSubtree(t,n),a.upgrade&&console.groupEnd(),t}function i(t,e){Object.__proto__||n(t,e.prototype,e["native"]),t.__proto__=e.prototype}function n(t,e,n){for(var i={},r=e;r!==n&&r!==HTMLElement.prototype;){for(var o,s=Object.getOwnPropertyNames(r),a=0;o=s[a];a++)i[o]||(Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o)),i[o]=1);r=Object.getPrototypeOf(r)}}function s(t){t.createdCallback&&t.createdCallback()}var a=r.flags;r.upgrade=t,r.upgradeWithDefinition=o,r.implementPrototype=i}),window.CustomElements.addModule(function(i){function t(t,e){var n=e||{};if(!t)throw new Error("document.registerElement: first argument `name` must not be empty");if(t.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(t)+"'.");if(s(t))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(t)+"'. The type name is invalid.");if(l(t))throw new Error("DuplicateDefinitionError: a type with name '"+String(t)+"' is already registered");return n.prototype||(n.prototype=Object.create(HTMLElement.prototype)),n.__name=t.toLowerCase(),n["extends"]&&(n["extends"]=n["extends"].toLowerCase()),n.lifecycle=n.lifecycle||{},n.ancestry=a(n["extends"]),u(n),c(n),r(n.prototype),h(n.__name,n),n.ctor=p(n),n.ctor.prototype=n.prototype,n.prototype.constructor=n.ctor,i.ready&&g(document),n.ctor}function r(t){if(!t.setAttribute._polyfilled){var n=t.setAttribute;t.setAttribute=function(t,e){o.call(this,t,e,n)};var e=t.removeAttribute;t.removeAttribute=function(t){o.call(this,t,null,e)},t.setAttribute._polyfilled=!0}}function o(t,e,n){t=t.toLowerCase();var i=this.getAttribute(t);n.apply(this,arguments);var r=this.getAttribute(t);this.attributeChangedCallback&&r!==i&&this.attributeChangedCallback(t,i,r)}function s(t){for(var e=0;e<E.length;e++)if(t===E[e])return!0}function a(t){var e=l(t);return e?a(e["extends"]).concat([e]):[]}function u(t){for(var e,n=t["extends"],i=0;e=t.ancestry[i];i++)n=e.is&&e.tag;t.tag=n||t.__name,n&&(t.is=t.__name)}function c(t){if(!Object.__proto__){var e=HTMLElement.prototype;if(t.is){var n=document.createElement(t.tag);e=Object.getPrototypeOf(n)}for(var i,r=t.prototype,o=!1;r;)r==e&&(o=!0),(i=Object.getPrototypeOf(r))&&(r.__proto__=i),r=i;o||console.warn(t.tag+" prototype not found in prototype chain for "+t.is),t["native"]=e}}function e(t){return v(S(t.tag),t)}function l(t){return t?w[t.toLowerCase()]:void 0}function h(t,e){w[t]=e}function p(t){return function(){return e(t)}}function n(t,e,n){return t===C?d(e,n):x(t,e)}function d(t,e){t&&(t=t.toLowerCase()),e&&(e=e.toLowerCase());var n,i=l(e||t);if(i){if(t==i.tag&&e==i.is)return new i.ctor;if(!e&&!i.is)return new i.ctor}return e?(n=d(t)).setAttribute("is",e):(n=S(t),0<=t.indexOf("-")&&b(n,HTMLElement)),n}function f(t,e){var n=t[e];t[e]=function(){var t=n.apply(this,arguments);return y(t),t}}var m,g=(i.isIE,i.upgradeDocumentTree),y=i.upgradeAll,v=i.upgradeWithDefinition,b=i.implementPrototype,A=i.useNative,E=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],w={},C="http://www.w3.org/1999/xhtml",S=document.createElement.bind(document),x=document.createElementNS.bind(document);m=Object.__proto__||A?function(t,e){return t instanceof e}:function(t,e){if(t instanceof e)return!0;for(var n=t;n;){if(n===e.prototype)return!0;n=n.__proto__}return!1},f(Node.prototype,"cloneNode"),f(document,"importNode"),document.registerElement=t,document.createElement=d,document.createElementNS=n,i.registry=w,i["instanceof"]=m,i.reservedTagList=E,i.getRegisteredDefinition=l,document.register=document.registerElement}),function(t){function e(){o(window.wrap(document)),window.CustomElements.ready=!0,(window.requestAnimationFrame||function(t){setTimeout(t,16)})(function(){setTimeout(function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})})}var n=t.useNative,i=t.initializeModules;if(t.isIE,n){var r=function(){};t.watchShadow=r,t.upgrade=r,t.upgradeAll=r,t.upgradeDocumentTree=r,t.upgradeSubtree=r,t.takeRecords=r,t["instanceof"]=function(t,e){return t instanceof e}}else i();var o=t.upgradeDocumentTree,s=t.upgradeDocument;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(t){return t}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(t){t["import"]&&s(wrap(t["import"]))}),"complete"===document.readyState||t.flags.eager)e();else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var a=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(a,e)}else e()}(window.CustomElements),function(){}.call(this),function(){var t=this;(function(){(function(){this.Trix={VERSION:"0.10.1",ZERO_WIDTH_SPACE:"\ufeff",NON_BREAKING_SPACE:"\xa0",OBJECT_REPLACEMENT_CHARACTER:"\ufffc",config:{}}}).call(this)}).call(t);var O=t.Trix;(function(){(function(){O.BasicObject=function(){function t(){}var s,a,i;return t.proxyMethod=function(t){var n,i,e,r,o;return e=a(t),n=e.name,r=e.toMethod,o=e.toProperty,i=e.optional,this.prototype[n]=function(){var t,e;return t=null!=r?i?"function"==typeof this[r]?this[r]():void 0:this[r]():null!=o?this[o]:void 0,i?null!=(e=null!=t?t[n]:void 0)?s.call(e,t,arguments):void 0:(e=t[n],s.call(e,t,arguments))}},a=function(t){var e,n;if(!(n=t.match(i)))throw new Error("can't parse @proxyMethod expression: "+t);return e={name:n[4]},null!=n[2]?e.toMethod=n[1]:e.toProperty=n[1],null!=n[3]&&(e.optional=!0),e},s=Function.prototype.apply,i=/^(.+?)(\(\))?(\?)?\.(.+?)$/,t}()}).call(this),function(){var i=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;O.Object=function(t){function e(){this.id=++n}var n;return i(e,t),n=0,e.fromJSONString=function(t){return this.fromJSON(JSON.parse(t))},e.prototype.hasSameConstructorAs=function(t){return this.constructor===(null!=t?t.constructor:void 0)},e.prototype.isEqualTo=function(t){return this===t},e.prototype.inspect=function(){var t,i,r;return t=function(){var t,e,n;for(i in n=[],e=null!=(t=this.contentsForInspection())?t:{})r=e[i],n.push(i+"="+r);return n}.call(this),"#<"+this.constructor.name+":"+this.id+(t.length?" "+t.join(", "):"")+">"},e.prototype.contentsForInspection=function(){},e.prototype.toJSONString=function(){return JSON.stringify(this)},e.prototype.toUTF16String=function(){return O.UTF16String.box(this)},e.prototype.getCacheKey=function(){return this.id.toString()},e}(O.BasicObject)}.call(this),function(){O.extend=function(t){var e,n;for(e in t)n=t[e],this[e]=n;return this}}.call(this),function(){O.extend({defer:function(t){return setTimeout(t,1)}})}.call(this),function(){var a,s;O.extend({normalizeSpaces:function(t){return t.replace(RegExp(""+O.ZERO_WIDTH_SPACE,"g"),"").replace(RegExp(""+O.NON_BREAKING_SPACE,"g")," ")},summarizeStringChange:function(t,e){var n,i,r,o;return t=O.UTF16String.box(t),(e=O.UTF16String.box(e)).length<t.length?(o=(i=s(t,e))[0],n=i[1]):(n=(r=s(e,t))[0],o=r[1]),{added:n,removed:o}}}),s=function(t,e){var n,i,r,o,s;return t.isEqualTo(e)?["",""]:(r=(o=(i=a(t,e)).utf16String.length)?(s=i.offset,n=t.codepoints.slice(0,s).concat(t.codepoints.slice(s+o)),a(e,O.UTF16String.fromCodepoints(n))):a(e,t),[i.utf16String.toString(),r.utf16String.toString()])},a=function(t,e){var n,i,r;for(n=0,i=t.length,r=e.length;n<i&&t.charAt(n).isEqualTo(e.charAt(n));)n++;for(;n+1<i&&t.charAt(i-1).isEqualTo(e.charAt(r-1));)i--,r--;return{utf16String:t.slice(n,i),offset:n}}}.call(this),function(){O.extend({copyObject:function(t){var e,n,i;for(e in null==t&&(t={}),n={},t)i=t[e],n[e]=i;return n},objectsAreEqual:function(t,e){var n;if(null==t&&(t={}),null==e&&(e={}),Object.keys(t).length!==Object.keys(e).length)return!1;for(n in t)if(t[n]!==e[n])return!1;return!0}})}.call(this),function(){var r=[].slice;O.extend({arraysAreEqual:function(t,e){var n,i,r;if(null==t&&(t=[]),null==e&&(e=[]),t.length!==e.length)return!1;for(i=n=0,r=t.length;n<r;i=++n)if(t[i]!==e[i])return!1;return!0},arrayStartsWith:function(t,e){return null==t&&(t=[]),null==e&&(e=[]),O.arraysAreEqual(t.slice(0,e.length),e)},spliceArray:function(t){var e,n,i;return n=t,e=2<=arguments.length?r.call(arguments,1):[],(i=n.slice(0)).splice.apply(i,e),i},summarizeArrayChange:function(t,e){var n,i,r,o,s,a,u,c,l,h,p;for(null==t&&(t=[]),null==e&&(e=[]),n=[],h=[],r=new Set,o=0,u=t.length;o<u;o++)p=t[o],r.add(p);for(i=new Set,s=0,c=e.length;s<c;s++)p=e[s],i.add(p),r.has(p)||n.push(p);for(a=0,l=t.length;a<l;a++)p=t[a],i.has(p)||h.push(p);return{added:n,removed:h}}})}.call(this),function(){var t,e,r,n;r=n=e=t=null,O.extend({getAllAttributeNames:function(){return null!=t?t:t=O.getTextAttributeNames().concat(O.getBlockAttributeNames())},getBlockConfig:function(t){return O.config.blockAttributes[t]},getBlockAttributeNames:function(){return null!=e?e:e=Object.keys(O.config.blockAttributes)},getTextConfig:function(t){return O.config.textAttributes[t]},getTextAttributeNames:function(){return null!=n?n:n=Object.keys(O.config.textAttributes)},getListAttributeNames:function(){var n,i;return null!=r?r:r=function(){var t,e;for(n in e=[],t=O.config.blockAttributes)null!=(i=t[n].listAttribute)&&e.push(i);return e}()}})}.call(this),function(){var d,n,t,e,i,r=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};d=document.documentElement,n=null!=(t=null!=(e=null!=(i=d.matchesSelector)?i:d.webkitMatchesSelector)?e:d.msMatchesSelector)?t:d.mozMatchesSelector,O.extend({handleEvent:function(t,e){var n,i,r,o,s,a,u,c,l,h,p;return s=(u=null!=e?e:{}).onElement,o=u.matchingSelector,p=u.withCallback,r=u.inPhase,a=u.preventDefault,l=u.times,n=null!=s?s:d,c=o,p,h="capturing"===r,(i=function(t){var e;return null!=l&&0==--l&&i.destroy(),null!=(e=O.findClosestElementFromNode(t.target,{matchingSelector:c}))&&(null!=p&&p.call(e,t,e),a)?t.preventDefault():void 0}).destroy=function(){return n.removeEventListener(t,i,h)},n.addEventListener(t,i,h),i},handleEventOnce:function(t,e){return null==e&&(e={}),e.times=1,O.handleEvent(t,e)},triggerEvent:function(t,e){var n,i,r,o,s,a,u;return a=(u=null!=e?e:{}).onElement,i=u.bubbles,r=u.cancelable,n=u.attributes,o=null!=a?a:d,i=!1!==i,r=!1!==r,(s=document.createEvent("Events")).initEvent(t,i,r),null!=n&&O.extend.call(s,n),o.dispatchEvent(s)},elementMatchesSelector:function(t,e){return 1===(null!=t?t.nodeType:void 0)?n.call(t,e):void 0},findClosestElementFromNode:function(t,e){var n,i,r;for(n=(i=null!=e?e:{}).matchingSelector,r=i.untilNode;null!=t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.parentNode;if(null!=t){if(null==n)return t;if(t.closest&&null==r)return t.closest(n);for(;t&&t!==r;){if(O.elementMatchesSelector(t,n))return t;t=t.parentNode}}},findInnerElement:function(t){for(;null!=t?t.firstElementChild:void 0;)t=t.firstElementChild;return t},innerElementIsActive:function(t){return document.activeElement!==t&&O.elementContainsNode(t,document.activeElement)},elementContainsNode:function(t,e){if(t&&e)for(;e;){if(e===t)return!0;e=e.parentNode}},findNodeFromContainerAndOffset:function(t,e){var n;if(t)return t.nodeType===Node.TEXT_NODE?t:0===e?null!=(n=t.firstChild)?n:t:t.childNodes.item(e-1)},findElementFromContainerAndOffset:function(t,e){var n;return n=O.findNodeFromContainerAndOffset(t,e),O.findClosestElementFromNode(n)},findChildIndexOfNode:function(t){var e;if(null!=t?t.parentNode:void 0){for(e=0;t=t.previousSibling;)e++;return e}},walkTree:function(t,e){var n,i,r,o,s;return i=(r=null!=e?e:{}).onlyNodesOfType,o=r.usingFilter,n=r.expandEntityReferences,s=function(){switch(i){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}}(),document.createTreeWalker(t,s,null!=o?o:null,!0===n)},tagName:function(t){var e;return null!=t&&null!=(e=t.tagName)?e.toLowerCase():void 0},makeElement:function(t,e){var n,i,r,o,s,a,u,c,l,h;if(null==e&&(e={}),"object"==typeof t?t=(e=t).tagName:e={attributes:e},i=document.createElement(t),null!=e.editable&&(null==e.attributes&&(e.attributes={}),e.attributes.contenteditable=e.editable),e.attributes)for(o in a=e.attributes)h=a[o],i.setAttribute(o,h);if(e.style)for(o in u=e.style)h=u[o],i.style[o]=h;if(e.data)for(o in c=e.data)h=c[o],i.dataset[o]=h;if(e.className)for(r=0,s=(l=e.className.split(" ")).length;r<s;r++)n=l[r],i.classList.add(n);return e.textContent&&(i.textContent=e.textContent),i},cloneFragment:function(t){var e,n,i,r,o;for(e=document.createDocumentFragment(),n=0,i=(o=t.childNodes).length;n<i;n++)r=o[n],e.appendChild(r.cloneNode(!0));return e},makeFragment:function(t){var e,n,i;for(null==t&&(t=""),(e=document.createElement("div")).innerHTML=t,n=document.createDocumentFragment();i=e.firstChild;)n.appendChild(i);return n},getBlockTagNames:function(){var n,i;return null!=O.blockTagNames?O.blockTagNames:O.blockTagNames=function(){var t,e;for(n in e=[],t=O.config.blockAttributes)i=t[n],e.push(i.tagName);return e}()},nodeIsBlockContainer:function(t){return O.nodeIsBlockStartComment(null!=t?t.firstChild:void 0)},nodeProbablyIsBlockContainer:function(t){var e,n;return e=O.tagName(t),0<=r.call(O.getBlockTagNames(),e)&&(n=O.tagName(t.firstChild),r.call(O.getBlockTagNames(),n)<0)},nodeIsBlockStart:function(t,e){return(null!=e?e:{strict:!0}).strict?O.nodeIsBlockStartComment(t):O.nodeIsBlockStartComment(t)||!O.nodeIsBlockStartComment(t.firstChild)&&O.nodeProbablyIsBlockContainer(t)},nodeIsBlockStartComment:function(t){return O.nodeIsCommentNode(t)&&"block"===(null!=t?t.data:void 0)},nodeIsCommentNode:function(t){return(null!=t?t.nodeType:void 0)===Node.COMMENT_NODE},nodeIsCursorTarget:function(t){return t?O.nodeIsTextNode(t)?t.data===O.ZERO_WIDTH_SPACE:O.nodeIsCursorTarget(t.firstChild):void 0},nodeIsAttachmentElement:function(t){return O.elementMatchesSelector(t,O.AttachmentView.attachmentSelector)},nodeIsEmptyTextNode:function(t){return O.nodeIsTextNode(t)&&""===(null!=t?t.data:void 0)},nodeIsTextNode:function(t){return(null!=t?t.nodeType:void 0)===Node.TEXT_NODE}})}.call(this),function(){var e,n,u,i,c;e=O.copyObject,i=O.objectsAreEqual,O.extend({normalizeRange:u=function(t){var e;if(null!=t)return Array.isArray(t)||(t=[t,t]),[n(t[0]),n(null!=(e=t[1])?e:t[0])]},rangeIsCollapsed:function(t){var e,n,i;if(null!=t)return i=(n=u(t))[0],e=n[1],c(i,e)},rangesAreEqual:function(t,e){var n,i,r,o,s,a;if(null!=t&&null!=e)return i=(r=u(t))[0],n=r[1],a=(o=u(e))[0],s=o[1],c(i,a)&&c(n,s)}}),n=function(t){return"number"==typeof t?t:e(t)},c=function(t,e){return"number"==typeof t?t===e:i(t,e)}}.call(this),function(){var c,n,l,h;c={extendsTagName:"div",css:"%t { display: block; }"},O.registerElement=function(t,e){var n,i,r,o,s,a,u;return null==e&&(e={}),t=t.toLowerCase(),o=null!=(u=(s=h(e)).extendsTagName)?u:c.extendsTagName,delete s.extendsTagName,i=s.defaultCSS,delete s.defaultCSS,null!=i&&o===c.extendsTagName?i+="\n"+c.css:i=c.css,l(i,t),(r=Object.getPrototypeOf(document.createElement(o))).__super__=r,a=Object.create(r,s),n=document.registerElement(t,{prototype:a}),Object.defineProperty(a,"constructor",{value:n}),n},l=function(t,e){return n(e).textContent=t.replace(/%t/g,e)},n=function(t){var e;return(e=document.createElement("style")).setAttribute("type","text/css"),e.setAttribute("data-tag-name",t.toLowerCase()),document.head.insertBefore(e,document.head.firstChild),e},h=function(t){var e,n,i;for(e in n={},t)i=t[e],n[e]="function"==typeof i?{value:i}:i;return n}}.call(this),function(){var n,e;O.extend({getDOMSelection:function(){var t;return 0<(t=window.getSelection()).rangeCount?t:void 0},getDOMRange:function(){var t,e;return(t=null!=(e=O.getDOMSelection())?e.getRangeAt(0):void 0)&&!n(t)?t:void 0},setDOMRange:function(t){var e;return(e=window.getSelection()).removeAllRanges(),e.addRange(t),O.selectionChangeObserver.update()}}),n=function(t){return e(t.startContainer)||e(t.endContainer)},e=function(t){return!Object.getPrototypeOf(t)}}.call(this),function(){}.call(this),function(){var s,u=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;s=O.arraysAreEqual,O.Hash=function(t){function e(t){null==t&&(t={}),this.values=o(t),e.__super__.constructor.apply(this,arguments)}var a,o,n,i,r;return u(e,t),e.fromCommonAttributesOfObjects=function(t){var e,n,i,r,o,s;if(null==t&&(t=[]),!t.length)return new this;for(i=(e=a(t[0])).getKeys(),n=0,r=(s=t.slice(1)).length;n<r;n++)o=s[n],i=e.getKeysCommonToHash(a(o)),e=e.slice(i);return e},e.box=function(t){return a(t)},e.prototype.add=function(t,e){return this.merge(i(t,e))},e.prototype.remove=function(t){return new O.Hash(o(this.values,t))},e.prototype.get=function(t){return this.values[t]},e.prototype.has=function(t){return t in this.values},e.prototype.merge=function(t){return new O.Hash(n(this.values,r(t)))},e.prototype.slice=function(t){var e,n,i,r;for(r={},e=0,i=t.length;e<i;e++)n=t[e],this.has(n)&&(r[n]=this.values[n]);return new O.Hash(r)},e.prototype.getKeys=function(){return Object.keys(this.values)},e.prototype.getKeysCommonToHash=function(t){var e,n,i,r,o;for(t=a(t),o=[],e=0,i=(r=this.getKeys()).length;e<i;e++)n=r[e],this.values[n]===t.values[n]&&o.push(n);return o},e.prototype.isEqualTo=function(t){return s(this.toArray(),a(t).toArray())},e.prototype.isEmpty=function(){return 0===this.getKeys().length},e.prototype.toArray=function(){var e,n,i;return(null!=this.array?this.array:this.array=function(){var t;for(e in n=[],t=this.values)i=t[e],n.push(e,i);return n}.call(this)).slice(0)},e.prototype.toObject=function(){return o(this.values)},e.prototype.toJSON=function(){return this.toObject()},e.prototype.contentsForInspection=function(){return{values:JSON.stringify(this.values)}},i=function(t,e){var n;return(n={})[t]=e,n},n=function(t,e){var n,i,r;for(n in i=o(t),e)r=e[n],i[n]=r
;return i},o=function(t,e){var n,i,r,o,s;for(o={},n=0,r=(s=Object.keys(t).sort()).length;n<r;n++)(i=s[n])!==e&&(o[i]=t[i]);return o},a=function(t){return t instanceof O.Hash?t:new O.Hash(t)},r=function(t){return t instanceof O.Hash?t.values:t},e}(O.Object)}.call(this),function(){O.ObjectGroup=function(){function t(t,e){var n,i;this.objects=null!=t?t:[],i=e.depth,(n=e.asTree)&&(this.depth=i,this.objects=this.constructor.groupObjects(this.objects,{asTree:n,depth:this.depth+1}))}return t.groupObjects=function(t,e){var n,i,r,o,s,a,u,c,l;for(null==t&&(t=[]),r=(l=null!=e?e:{}).depth,(n=l.asTree)&&null==r&&(r=0),c=[],s=0,a=t.length;s<a;s++){if(u=t[s],o){if(("function"==typeof u.canBeGrouped?u.canBeGrouped(r):void 0)&&("function"==typeof(i=o[o.length-1]).canBeGroupedWith?i.canBeGroupedWith(u,r):void 0)){o.push(u);continue}c.push(new this(o,{depth:r,asTree:n})),o=null}("function"==typeof u.canBeGrouped?u.canBeGrouped(r):void 0)?o=[u]:c.push(u)}return o&&c.push(new this(o,{depth:r,asTree:n})),c},t.prototype.getObjects=function(){return this.objects},t.prototype.getDepth=function(){return this.depth},t.prototype.getCacheKey=function(){var t,e,n,i,r;for(e=["objectGroup"],t=0,n=(r=this.getObjects()).length;t<n;t++)i=r[t],e.push(i.getCacheKey());return e.join("/")},t}()}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;O.ObjectMap=function(t){function e(t){var e,n,i,r,o;for(null==t&&(t=[]),this.objects={},i=0,r=t.length;i<r;i++)o=t[i],n=JSON.stringify(o),null==(e=this.objects)[n]&&(e[n]=o)}return n(e,t),e.prototype.find=function(t){var e;return e=JSON.stringify(t),this.objects[e]},e}(O.BasicObject)}.call(this),function(){O.ElementStore=function(){function t(t){this.reset(t)}var i;return t.prototype.add=function(t){var e;return e=i(t),this.elements[e]=t},t.prototype.remove=function(t){var e,n;return e=i(t),(n=this.elements[e])?(delete this.elements[e],n):void 0},t.prototype.reset=function(t){var e,n,i;for(null==t&&(t=[]),this.elements={},n=0,i=t.length;n<i;n++)e=t[n],this.add(e);return t},i=function(t){return t.dataset.trixStoreKey},t}()}.call(this),function(){}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;O.Operation=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.isPerforming=function(){return!0===this.performing},e.prototype.hasPerformed=function(){return!0===this.performed},e.prototype.hasSucceeded=function(){return this.performed&&this.succeeded},e.prototype.hasFailed=function(){return this.performed&&!this.succeeded},e.prototype.getPromise=function(){return null!=this.promise?this.promise:this.promise=new Promise((r=this,function(n,i){return r.performing=!0,r.perform(function(t,e){return r.succeeded=t,r.performing=!1,r.performed=!0,r.succeeded?n(e):i(e)})}));var r},e.prototype.perform=function(t){return t(!1)},e.prototype.release=function(){var t;return null!=(t=this.promise)&&"function"==typeof t.cancel&&t.cancel(),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null},e.proxyMethod("getPromise().then"),e.proxyMethod("getPromise().catch"),e}(O.BasicObject)}.call(this),function(){var t,e,n,i,r,o=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;O.UTF16String=function(t){function e(t,e){this.ucs2String=t,this.codepoints=e,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}return o(e,t),e.box=function(t){return null==t&&(t=""),t instanceof this?t:this.fromUCS2String(null!=t?t.toString():void 0)},e.fromUCS2String=function(t){return new this(t,i(t))},e.fromCodepoints=function(t){return new this(r(t),t)},e.prototype.offsetToUCS2Offset=function(t){return r(this.codepoints.slice(0,Math.max(0,t))).length},e.prototype.offsetFromUCS2Offset=function(t){return i(this.ucs2String.slice(0,Math.max(0,t))).length},e.prototype.slice=function(){var t;return this.constructor.fromCodepoints((t=this.codepoints).slice.apply(t,arguments))},e.prototype.charAt=function(t){return this.slice(t,t+1)},e.prototype.isEqualTo=function(t){return this.constructor.box(t).ucs2String===this.ucs2String},e.prototype.toJSON=function(){return this.ucs2String},e.prototype.getCacheKey=function(){return this.ucs2String},e.prototype.toString=function(){return this.ucs2String},e}(O.BasicObject),t=1===("function"==typeof Array.from?Array.from("\ud83d\udc7c").length:void 0),e=null!=("function"==typeof" ".codePointAt?" ".codePointAt(0):void 0),n=" \ud83d\udc7c"===("function"==typeof String.fromCodePoint?String.fromCodePoint(32,128124):void 0),i=t&&e?function(t){return Array.from(t).map(function(t){return t.codePointAt(0)})}:function(t){var e,n,i,r,o;for(r=[],e=0,i=t.length;e<i;)55296<=(o=t.charCodeAt(e++))&&o<=56319&&e<i&&(56320==(64512&(n=t.charCodeAt(e++)))?o=((1023&o)<<10)+(1023&n)+65536:e--),r.push(o);return r},r=n?function(t){return String.fromCodePoint.apply(String,t)}:function(i){var r,o;return function(){var t,e,n;for(n=[],t=0,e=i.length;t<e;t++)o=i[t],r="",65535<o&&(o-=65536,r+=String.fromCharCode(o>>>10&1023|55296),o=56320|1023&o),n.push(r+String.fromCharCode(o));return n}().join("")}}.call(this),function(){}.call(this),function(){}.call(this),function(){O.config.lang={bold:"Bold",bullets:"Bullets","byte":"Byte",bytes:"Bytes",captionPlaceholder:"Type a caption here\u2026",captionPrompt:"Add a caption\u2026",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",urlPlaceholder:"Enter a URL\u2026",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"}}.call(this),function(){O.config.css={classNames:{attachment:{container:"attachment",typePrefix:"attachment-",caption:"caption",captionEdited:"caption-edited",captionEditor:"caption-editor",editingCaption:"caption-editing",progressBar:"progress",removeButton:"remove icon",size:"size"}}}}.call(this),function(){var e;O.config.blockAttributes=e={"default":{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test:function(t){return O.tagName(t.parentNode)===e[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test:function(t){return O.tagName(t.parentNode)===e[this.listAttribute].tagName}}}}.call(this),function(){var i,r;i=O.config.lang,r=[i.bytes,i.KB,i.MB,i.GB,i.TB,i.PB],O.config.fileSize={prefix:"IEC",precision:2,formatter:function(t){var e,n;switch(t){case 0:return"0 "+i.bytes;case 1:return"1 "+i["byte"];default:return e=function(){switch(this.prefix){case"SI":return 1e3;case"IEC":return 1024}}.call(this),n=Math.floor(Math.log(t)/Math.log(e)),(t/Math.pow(e,n)).toFixed(this.precision).replace(/0*$/,"").replace(/\.$/,"")+" "+r[n]}}}}.call(this),function(){O.config.textAttributes={bold:{tagName:"strong",inheritable:!0,parser:function(t){var e;return"bold"===(e=window.getComputedStyle(t)).fontWeight||600<=e.fontWeight}},italic:{tagName:"em",inheritable:!0,parser:function(t){return"italic"===window.getComputedStyle(t).fontStyle}},href:{groupTagName:"a",parser:function(t){var e,n;return n="a:not("+O.AttachmentView.attachmentSelector+")",(e=O.findClosestElementFromNode(t,{matchingSelector:n}))?e.getAttribute("href"):void 0}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}}}.call(this),function(){var b,A,E,w,C;C="[data-trix-serialize=false]",w=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable"],E="["+(A="data-trix-serialized-attributes")+"]",b=new RegExp("<!--block-->","g"),O.extend({serializers:{"application/json":function(t){var e;if(t instanceof O.Document)e=t;else{if(!(t instanceof HTMLElement))throw new Error("unserializable object");e=O.Document.fromHTML(t.innerHTML)}return e.toSerializableDocument().toJSONString()},"text/html":function(t){var e,n,i,r,o,s,a,u,c,l,h,p,d,f,m,g,y;if(t instanceof O.Document)r=O.DocumentView.render(t);else{if(!(t instanceof HTMLElement))throw new Error("unserializable object");r=t.cloneNode(!0)}for(o=0,c=(f=r.querySelectorAll(C)).length;o<c;o++)(i=f[o]).parentNode.removeChild(i);for(s=0,l=w.length;s<l;s++)for(e=w[s],a=0,h=(m=r.querySelectorAll("["+e+"]")).length;a<h;a++)(i=m[a]).removeAttribute(e);for(u=0,p=(g=r.querySelectorAll(E)).length;u<p;u++){i=g[u];try{for(d in n=JSON.parse(i.getAttribute(A)),i.removeAttribute(A),n)y=n[d],i.setAttribute(d,y)}catch(v){}}return r.innerHTML.replace(b,"")}},deserializers:{"application/json":function(t){return O.Document.fromJSONString(t)},"text/html":function(t){return O.Document.fromHTML(t)}},serializeToContentType:function(t,e){var n;if(n=O.serializers[e])return n(t);throw new Error("unknown content type: "+e)},deserializeFromContentType:function(t,e){var n;if(n=O.deserializers[e])return n(t);throw new Error("unknown content type: "+e)}})}.call(this),function(){var t,e;e=O.makeFragment,t=O.config.lang,O.config.toolbar={content:e('<div class="button_row">\n  <span class="button_group text_tools">\n    <button type="button" class="icon bold" data-trix-attribute="bold" data-trix-key="b" title="'+t.bold+'">'+t.bold+'</button>\n    <button type="button" class="icon italic" data-trix-attribute="italic" data-trix-key="i" title="'+t.italic+'">'+t.italic+'</button>\n    <button type="button" class="icon strike" data-trix-attribute="strike" title="'+t.strike+'">'+t.strike+'</button>\n    <button type="button" class="icon link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="'+t.link+'">'+t.link+'</button>\n  </span>\n\n  <span class="button_group block_tools">\n    <button type="button" class="icon heading-1" data-trix-attribute="heading1" title="'+t.heading1+'">'+t.heading1+'</button>\n    <button type="button" class="icon quote" data-trix-attribute="quote" title="'+t.quote+'">'+t.quote+'</button>\n    <button type="button" class="icon code" data-trix-attribute="code" title="'+t.code+'">'+t.code+'</button>\n    <button type="button" class="icon list bullets" data-trix-attribute="bullet" title="'+t.bullets+'">'+t.bullets+'</button>\n    <button type="button" class="icon list numbers" data-trix-attribute="number" title="'+t.numbers+'">'+t.numbers+'</button>\n    <button type="button" class="icon nesting-level decrease" data-trix-action="decreaseNestingLevel" title="'+t.outdent+'">'+t.outdent+'</button>\n    <button type="button" class="icon nesting-level increase" data-trix-action="increaseNestingLevel" title="'+t.indent+'">'+t.indent+'</button>\n  </span>\n\n  <span class="button_group history_tools">\n    <button type="button" class="icon undo" data-trix-action="undo" data-trix-key="z" title="'+t.undo+'">'+t.undo+'</button>\n    <button type="button" class="icon redo" data-trix-action="redo" data-trix-key="shift+z" title="'+t.redo+'">'+t.redo+'</button>\n  </span>\n</div>\n\n<div class="dialogs">\n  <div class="dialog link_dialog" data-trix-attribute="href" data-trix-dialog="href">\n    <div class="link_url_fields">\n      <input type="url" required name="href" placeholder="'+t.urlPlaceholder+'">\n      <div class="button_group">\n        <input type="button" value="'+t.link+'" data-trix-method="setAttribute">\n        <input type="button" value="'+t.unlink+'" data-trix-method="removeAttribute">\n      </div>\n    </div>\n  </div>\n</div>')}}.call(this),function(){O.config.undoInterval=5e3}.call(this),function(){var t,e;t=O.makeElement,e={cursorTarget:t({tagName:"span",textContent:O.ZERO_WIDTH_SPACE,data:{trixSelection:!0,trixCursorTarget:!0,trixSerialize:!1}})},O.extend({selectionElements:{selector:"[data-trix-selection]",cssText:"font-size: 0 !important;\npadding: 0 !important;\nmargin: 0 !important;\nborder: none !important;\nline-height: 0 !important;",create:function(t){return e[t].cloneNode(!0)}}})}.call(this),function(){}.call(this),function(){var t;t=O.cloneFragment,O.registerElement("trix-toolbar",{defaultCSS:"%t {\n  white-space: collapse;\n}\n\n%t .dialog {\n  display: none;\n}\n\n%t .dialog.active {\n  display: block;\n}\n\n%t .dialog input.validate:invalid {\n  background-color: #ffdddd;\n}\n\n%t[native] {\n  display: none;\n}",createdCallback:function(){return""===this.innerHTML?this.appendChild(t(O.config.toolbar.content)):void 0}})}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty,s=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};O.ObjectView=function(t){function e(t,e){this.object=t,this.options=null!=e?e:{},this.childViews=[],this.rootView=this}return n(e,t),e.prototype.getNodes=function(){var t,e,n,i,r;for(null==this.nodes&&(this.nodes=this.createNodes()),r=[],t=0,e=(i=this.nodes).length;t<e;t++)n=i[t],r.push(n.cloneNode(!0));return r},e.prototype.invalidate=function(){var t;return(this.nodes=null)!=(t=this.parentView)?t.invalidate():void 0},e.prototype.invalidateViewForObject=function(t){var e;return null!=(e=this.findViewForObject(t))?e.invalidate():void 0},e.prototype.findOrCreateCachedChildView=function(t,e){var n;return(n=this.getCachedViewForObject(e))?this.recordChildView(n):(n=this.createChildView.apply(this,arguments),this.cacheViewForObject(n,e)),n},e.prototype.createChildView=function(t,e,n){var i;return null==n&&(n={}),e instanceof O.ObjectGroup&&(n.viewClass=t,t=O.ObjectGroupView),i=new t(e,n),this.recordChildView(i)},e.prototype.recordChildView=function(t){return t.parentView=this,t.rootView=this.rootView,s.call(this.childViews,t)<0&&this.childViews.push(t),t},e.prototype.getAllChildViews=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.childViews).length;e<n;e++)t=i[e],r.push(t),r=r.concat(t.getAllChildViews());return r},e.prototype.findElement=function(){return this.findElementForObject(this.object)},e.prototype.findElementForObject=function(t){var e;return(e=null!=t?t.id:void 0)?this.rootView.element.querySelector("[data-trix-id='"+e+"']"):void 0},e.prototype.findViewForObject=function(t){var e,n,i,r;for(e=0,n=(i=this.getAllChildViews()).length;e<n;e++)if((r=i[e]).object===t)return r},e.prototype.getViewCache=function(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?null!=this.viewCache?this.viewCache:this.viewCache={}:void 0},e.prototype.isViewCachingEnabled=function(){return!1!==this.shouldCacheViews},e.prototype.enableViewCaching=function(){return this.shouldCacheViews=!0},e.prototype.disableViewCaching=function(){return this.shouldCacheViews=!1},e.prototype.getCachedViewForObject=function(t){var e;return null!=(e=this.getViewCache())?e[t.getCacheKey()]:void 0},e.prototype.cacheViewForObject=function(t,e){var n;return null!=(n=this.getViewCache())?n[e.getCacheKey()]=t:void 0},e.prototype.garbageCollectCachedViews=function(){var t,e,n,i,r,o;if(t=this.getViewCache()){for(e in o=this.getAllChildViews().concat(this),n=function(){var t,e,n;for(n=[],t=0,e=o.length;t<e;t++)r=o[t],n.push(r.object.getCacheKey());return n}(),i=[],t)s.call(n,e)<0&&i.push(delete t[e]);return i}},e}(O.BasicObject)}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;O.ObjectGroupView=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}return n(e,t),e.prototype.getChildViews=function(){var t,e,n,i;if(!this.childViews.length)for(t=0,e=(i=this.objectGroup.getObjects()).length;t<e;t++)n=i[t],this.findOrCreateCachedChildView(this.viewClass,n,this.options);return this.childViews},e.prototype.createNodes=function(){var t,e,n,i,r,o,s,a;for(t=this.createContainerElement(),e=0,i=(s=this.getChildViews()).length;e<i;e++)for(n=0,r=(a=s[e].getNodes()).length;n<r;n++)o=a[n],t.appendChild(o);return[t]},e.prototype.createContainerElement=function(t){return null==t&&(t=this.objectGroup.getDepth()),this.getChildViews()[0].createContainerElement(t)},e}(O.ObjectView)}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;O.Controller=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e}(O.BasicObject)}.call(this),function(){var o,h,s,p,u,a,c=function(t,e){return function(){return t.apply(e,arguments)}},d=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty,f=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};o=O.findClosestElementFromNode,s=O.nodeIsEmptyTextNode,h=O.nodeIsBlockStartComment,p=O.normalizeSpaces,u=O.summarizeStringChange,a=O.tagName,O.MutationObserver=function(t){function e(t){this.element=t,this.didMutate=c(this.didMutate,this),this.observer=new window.MutationObserver(this.didMutate),this.start()}var l,n,i,r;return d(e,t),i="["+(n="data-trix-mutable")+"]",r={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},e.prototype.start=function(){return this.reset(),this.observer.observe(this.element,r)},e.prototype.stop=function(){return this.observer.disconnect()},e.prototype.didMutate=function(t){var e,n;return(e=this.mutations).push.apply(e,this.findSignificantMutations(t)),this.mutations.length?(null!=(n=this.delegate)&&"function"==typeof n.elementDidMutate&&n.elementDidMutate(this.getMutationSummary()),this.reset()):void 0},e.prototype.reset=function(){return this.mutations=[]},e.prototype.findSignificantMutations=function(t){var e,n,i,r;for(r=[],e=0,n=t.length;e<n;e++)i=t[e],this.mutationIsSignificant(i)&&r.push(i);return r},e.prototype.mutationIsSignificant=function(t){var e,n,i,r;for(e=0,n=(r=this.nodesModifiedByMutation(t)).length;e<n;e++)if(i=r[e],this.nodeIsSignificant(i))return!0;return!1},e.prototype.nodeIsSignificant=function(t){return t!==this.element&&!this.nodeIsMutable(t)&&!s(t)},e.prototype.nodeIsMutable=function(t){return o(t,{matchingSelector:i})},e.prototype.nodesModifiedByMutation=function(t){var e;switch(e=[],t.type){case"attributes":t.attributeName!==n&&e.push(t.target);break;case"characterData":e.push(t.target.parentNode),e.push(t.target);break;case"childList":e.push.apply(e,t.addedNodes),e.push.apply(e,t.removedNodes)}return e},e.prototype.getMutationSummary=function(){return this.getTextMutationSummary()},e.prototype.getTextMutationSummary=function(){var t,e,n,i,r,o,s,a,u,c,l;for(n=(a=this.getTextChangesFromCharacterData()).additions,r=a.deletions,o=0,s=(u=(l=this.getTextChangesFromChildList()).additions).length;o<s;o++)e=u[o],f.call(n,e)<0&&n.push(e);return r.push.apply(r,l.deletions),c={},(t=n.join(""))&&(c.textAdded=t),(i=r.join(""))&&(c.textDeleted=i),c},e.prototype.getMutationsByType=function(t){var e,n,i,r,o;for(o=[],e=0,n=(r=this.mutations).length;e<n;e++)(i=r[e]).type===t&&o.push(i);return o},e.prototype.getTextChangesFromChildList=function(){var t,e,i,n,r,o,s,a,u,c;for(t=[],s=[],e=0,n=(o=this.getMutationsByType("childList")).length;e<n;e++)r=o[e],t.push.apply(t,r.addedNodes),s.push.apply(s,r.removedNodes);return 0===t.length&&1===s.length&&h(s[0])?(u=[],c=["\n"]):(u=l(t),c=l(s)),{additions:function(){var t,e,n;for(n=[],i=t=0,e=u.length;t<e;i=++t)(a=u[i])!==c[i]&&n.push(p(a));return n}(),deletions:function(){var t,e,n;for(n=[],i=t=0,e=c.length;t<e;i=++t)(a=c[i])!==u[i]&&n.push(p(a));return n}()}},e.prototype.getTextChangesFromCharacterData=function(){var t,e,n,i,r,o,s,a;return(e=this.getMutationsByType("characterData")).length&&(a=e[0],n=e[e.length-1],r=p(a.oldValue),i=p(n.target.data),t=(o=u(r,i)).added,s=o.removed),{additions:t?[t]:[],deletions:s?[s]:[]}},l=function(t){var e,n,i,r;for(null==t&&(t=[]),r=[],e=0,n=t.length;e<n;e++)switch(i=t[e],i.nodeType){case Node.TEXT_NODE:r.push(i.data);break;case Node.ELEMENT_NODE:"br"===a(i)?r.push("\n"):r.push.apply(r,l(i.childNodes))}return r},e}(O.BasicObject)}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;O.FileVerificationOperation=function(t){function e(t){this.file=t}return n(e,t),e.prototype.perform=function(e){var n,i;return(n=new FileReader).onerror=function(){return e(!1)},n.onload=(i=this,function(){n.onerror=null;try{n.abort()}catch(t){}return e(!0,i.file)}),n.readAsArrayBuffer(this.file)},e}(O.Operation)}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;O.CompositionInput=function(t){function e(t){var e;this.inputController=t,e=this.inputController,this.responder=e.responder,this.delegate=e.delegate,this.inputSummary=e.inputSummary,this.data={}}return n(e,t),e.prototype.start=function(t){var e,n;return this.data.start=t,"keypress"===this.inputSummary.eventName&&this.inputSummary.textAdded&&null!=(e=this.responder)&&e.deleteInDirection("left"),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=null!=(n=this.responder)?n.getSelectedRange():void 0},e.prototype.update=function(t){var e;return this.data.update=t,(e=this.selectPlaceholder())?(this.forgetPlaceholder(),this.range=e):void 0},e.prototype.end=function(t){var e,n,i,r;return this.data.end=t,this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0}),null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.setSelectedRange(this.range),null!=(i=this.responder)&&i.insertString(this.data.end),null!=(r=this.responder)?r.setSelectedRange(this.range[0]+this.data.end.length):void 0):null!=this.data.start||null!=this.data.update?(this.requestReparse(),this.inputController.reset()):void 0},e.prototype.getEndData=function(){return this.data.end},e.prototype.isEnded=function(){return null!=this.getEndData()},e.prototype.canApplyToDocument=function(){var t,e;return 0===(null!=(t=this.data.start)?t.length:void 0)&&0<(null!=(e=this.data.end)?e.length:void 0)&&null!=this.range},e.proxyMethod("inputController.setInputSummary"),e.proxyMethod("inputController.requestRender"),e.proxyMethod("inputController.requestReparse"),e.proxyMethod("responder?.selectionIsExpanded"),e.proxyMethod("responder?.insertPlaceholder"),e.proxyMethod("responder?.selectPlaceholder"),e.proxyMethod("responder?.forgetPlaceholder"),e}(O.BasicObject)}.call(this),function(){var x,i,T,n,r,l,o,s,a,u,_,c,h=function(t,e){function n(){this.constructor=t}for(var i in e)p.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},p={}.hasOwnProperty,D=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};n=O.handleEvent,a=O.makeElement,r=O.innerElementIsActive,u=O.objectsAreEqual,O.tagName,O.InputController=function(t){function e(t){var e;for(e in this.element=t,this.resetInputSummary(),this.mutationObserver=new O.MutationObserver(this.element),(this.mutationObserver.delegate=this).events)n(e,{onElement:this.element,withCallback:this.handlerFor(e),inPhase:"capturing"})}var S;return h(e,t),S=0,e.keyNames={8:"backspace",9:"tab",13:"return",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"},e.prototype.handlerFor=function(e){return n=this,function(t){return n.handleInput(function(){return r(this.element)?void 0:(this.eventName=e,this.events[e].call(this,t))})};var n},e.prototype.setInputSummary=function(t){var e,n;for(e in null==t&&(t={}),this.inputSummary.eventName=this.eventName,t)n=t[e],this.inputSummary[e]=n;return this.inputSummary},e.prototype.resetInputSummary=function(){return this.inputSummary={}},e.prototype.reset=function(){return this.resetInputSummary(),O.selectionChangeObserver.reset()},e.prototype.editorWillSyncDocumentView=function(){return this.mutationObserver.stop()},e.prototype.editorDidSyncDocumentView=function(){return this.mutationObserver.start()},e.prototype.requestRender=function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.inputControllerDidRequestRender?t.inputControllerDidRequestRender():void 0},e.prototype.requestReparse=function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.inputControllerDidRequestReparse&&t.inputControllerDidRequestReparse(),this.requestRender()},e.prototype.elementDidMutate=function(t){var e;return this.isComposing()?null!=(e=this.delegate)&&"function"==typeof e.inputControllerDidAllowUnhandledInput?e.inputControllerDidAllowUnhandledInput():void 0:this.handleInput(function(){return this.mutationIsSignificant(t)&&(this.mutationIsExpected(t)?this.requestRender():this.requestReparse()),this.reset()})},e.prototype.mutationIsExpected=function(t){var e,n,i,r,o,s,a,u,c;return s=t.textAdded,a=t.textDeleted,!!this.inputSummary.preferDocument||(e=null!=s?s===this.inputSummary.textAdded:!this.inputSummary.textAdded,n=null!=a?this.inputSummary.didDelete:!this.inputSummary.didDelete,c="\n"===a&&!n,!!(((u="\n"===s&&!e)&&!c||c&&!u)&&(r=this.getSelectedRange())&&(i=u?-1:1,null!=(o=this.responder)?o.positionIsBlockBreak(r[1]+i):void 0))||e&&n)},e.prototype.mutationIsSignificant=function(t){var e,n,i;return i=0<Object.keys(t).length,e=""===(null!=(n=this.compositionInput)?n.getEndData():void 0),i||!e},e.prototype.attachFiles=function(i){var r,t,e;return t=function(){var t,e,n;for(n=[],t=0,e=i.length;t<e;t++)r=i[t],n.push(new O.FileVerificationOperation(r));return n}(),Promise.all(t).then((e=this,function(n){return e.handleInput(function(){var t,e;return null!=(t=this.delegate)&&t.inputControllerWillAttachFiles(),null!=(e=this.responder)&&e.insertFiles(n),this.requestRender()})}))},e.prototype.events={keydown:function(r){var t,e,n,i,o,s,a,u,c;if(this.isComposing()||this.resetInputSummary(),i=this.constructor.keyNames[r.keyCode]){for(e=this.keys,n=0,s=(u=["ctrl","alt","shift","meta"]).length;n<s;n++)a=u[n],r[a+"Key"]&&("ctrl"===a&&(a="control"),e=null!=e?e[a]:void 0);null!=(null!=e?e[i]:void 0)&&(this.setInputSummary({keyName:i}),O.selectionChangeObserver.reset(),e[i].call(this,r))}return l(r)&&(t=String.fromCharCode(r.keyCode).toLowerCase())&&((o=function(){var t,e,n,i;for(i=[],t=0,e=(n=["alt","shift"]).length;t<e;t++)a=n[t],r[a+"Key"]&&i.push(a);return i}()).push(t),null!=(c=this.delegate)?c.inputControllerDidReceiveKeyboardCommand(o):void 0)?r.preventDefault():void 0},keypress:function(t){var e,n,i;if(null==this.inputSummary.eventName&&(!t.metaKey&&!t.ctrlKey||t.altKey)&&!s(t)&&!o(t))return null===t.which?e=String.fromCharCode(t.keyCode):0!==t.which&&0!==t.charCode&&(e=String.fromCharCode(t.charCode)),null!=e?(null!=(n=this.delegate)&&n.inputControllerWillPerformTyping(),null!=(i=this.responder)&&i.insertString(e),this.setInputSummary({textAdded:e,didDelete:this.selectionIsExpanded()})):void 0},textInput:function(t){var e,n,i,r;return e=t.data,(r=this.inputSummary.textAdded)&&r!==e&&r.toUpperCase()===e?(n=this.getSelectedRange(),this.setSelectedRange([n[0],n[1]+r.length]),null!=(i=this.responder)&&i.insertString(e),this.setInputSummary({textAdded:e}),this.setSelectedRange(n)):void 0},dragenter:function(t){return t.preventDefault()},dragstart:function(t){var e;return t.target,this.serializeSelectionToDataTransfer(t.dataTransfer),this.draggedRange=this.getSelectedRange(),null!=(e=this.delegate)&&"function"==typeof e.inputControllerDidStartDrag?e.inputControllerDidStartDrag():void 0},dragover:function(t){var e,n;return!this.draggedRange&&!this.canAcceptDataTransfer(t.dataTransfer)||(t.preventDefault(),e={x:t.clientX,y:t.clientY},u(e,this.draggingPoint))?void 0:(this.draggingPoint=e,null!=(n=this.delegate)&&"function"==typeof n.inputControllerDidReceiveDragOverPoint?n.inputControllerDidReceiveDragOverPoint(this.draggingPoint):void 0)},dragend:function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.inputControllerDidCancelDrag&&t.inputControllerDidCancelDrag(),this.draggedRange=null,this.draggingPoint=null},drop:function(t){var e,n,i,r,o,s,a,u,c;return t.preventDefault(),i=null!=(o=t.dataTransfer)?o.files:void 0,r={x:t.clientX,y:t.clientY},null!=(s=this.responder)&&s.setLocationRangeFromPointRange(r),(null!=i?i.length:void 0)?this.attachFiles(i):this.draggedRange?(null!=(a=this.delegate)&&a.inputControllerWillMoveText(),null!=(u=this.responder)&&u.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()):(n=t.dataTransfer.getData("application/x-trix-document"))&&(e=O.Document.fromJSONString(n),null!=(c=this.responder)&&c.insertDocument(e),this.requestRender()),this.draggedRange=null,this.draggingPoint=null},cut:function(t){var e;return this.serializeSelectionToDataTransfer(t.clipboardData)&&t.preventDefault(),null!=(e=this.delegate)&&e.inputControllerWillCutText(),this.deleteInDirection("backward"),t.defaultPrevented?this.requestRender():void 0},copy:function(t){return this.serializeSelectionToDataTransfer(t.clipboardData)?t.preventDefault():void 0},paste:function(t){var e,n,i,r,o,s,a,u,c,l,h,p,d,f,m,g,y,v,b,A,E,w,C;return o=null!=(a=t.clipboardData)?a:t.testClipboardData,s={paste:o},null==o||_(t)?void this.getPastedHTMLUsingHiddenElement((C=this,function(t){var e,n,i;return s.html=t,null!=(e=C.delegate)&&e.inputControllerWillPasteText(s),null!=(n=C.responder)&&n.insertHTML(t),C.requestRender(),null!=(i=C.delegate)?i.inputControllerDidPaste(s):void 0})):((i=o.getData("URL"))?(w=o.getData("public.url-name")||i,s.string=w,this.setInputSummary({textAdded:w,didDelete:this.selectionIsExpanded()}),null!=(u=this.delegate)&&u.inputControllerWillPasteText(s),null!=(f=this.responder)&&f.insertText(O.Text.textForStringWithAttributes(w,{href:i})),this.requestRender(),null!=(m=this.delegate)&&m.inputControllerDidPaste(s)):x(o)?(w=o.getData("text/plain"),s.string=w,this.setInputSummary({textAdded:w,didDelete:this.selectionIsExpanded()}),null!=(g=this.delegate)&&g.inputControllerWillPasteText(s),null!=(y=this.responder)&&y.insertString(w),this.requestRender(),null!=(v=this.delegate)&&v.inputControllerDidPaste(s)):(r=o.getData("text/html"))?(s.html=r,null!=(b=this.delegate)&&b.inputControllerWillPasteText(s),null!=(A=this.responder)&&A.insertHTML(r),this.requestRender(),null!=(E=this.delegate)&&E.inputControllerDidPaste(s)):0<=D.call(o.types,"Files")&&(n=null!=(c=o.items)&&null!=(l=c[0])&&"function"==typeof l.getAsFile?l.getAsFile():void 0)&&(!n.name&&(e=T(n))&&(n.name="pasted-file-"+ ++S+"."+e),s.file=n,null!=(h=this.delegate)&&h.inputControllerWillAttachFiles(),null!=(p=this.responder)&&p.insertFile(n),this.requestRender(),null!=(d=this.delegate)&&d.inputControllerDidPaste(s)),t.preventDefault())},compositionstart:function(t){return this.getCompositionInput().start(t.data)},compositionupdate:function(t){return this.getCompositionInput().update(t.data)},compositionend:function(t){return this.getCompositionInput().end(t.data)},input:function(t){return t.stopPropagation()}},e.prototype.keys={backspace:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",t)},"delete":function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",t)},"return":function(){var t,e;return this.setInputSummary({preferDocument:!0}),null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),null!=(e=this.responder)?e.insertLineBreak():void 0},tab:function(t){var e,n;return(null!=(e=this.responder)?e.canIncreaseNestingLevel():void 0)?(null!=(n=this.responder)&&n.increaseNestingLevel(),this.requestRender(),t.preventDefault()):void 0},left:function(t){var e;return this.selectionIsInCursorTarget()?(t.preventDefault(),null!=(e=this.responder)?e.moveCursorInDirection("backward"):void 0):void 0},right:function(t){var e;return this.selectionIsInCursorTarget()?(t.preventDefault(),null!=(e=this.responder
)?e.moveCursorInDirection("forward"):void 0):void 0},control:{d:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",t)},h:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",t)},o:function(t){var e,n;return t.preventDefault(),null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.insertString("\n",{updatePosition:!1}),this.requestRender()}},shift:{"return":function(t){var e,n;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.insertString("\n"),this.requestRender(),t.preventDefault()},tab:function(t){var e,n;return(null!=(e=this.responder)?e.canDecreaseNestingLevel():void 0)?(null!=(n=this.responder)&&n.decreaseNestingLevel(),this.requestRender(),t.preventDefault()):void 0},left:function(t){return this.selectionIsInCursorTarget()?(t.preventDefault(),this.expandSelectionInDirection("backward")):void 0},right:function(t){return this.selectionIsInCursorTarget()?(t.preventDefault(),this.expandSelectionInDirection("forward")):void 0}},alt:{backspace:function(){var t;return this.setInputSummary({preferDocument:!1}),null!=(t=this.delegate)?t.inputControllerWillPerformTyping():void 0}},meta:{backspace:function(){var t;return this.setInputSummary({preferDocument:!1}),null!=(t=this.delegate)?t.inputControllerWillPerformTyping():void 0}}},e.prototype.handleInput=function(t){var e,n;try{return null!=(e=this.delegate)&&e.inputControllerWillHandleInput(),t.call(this)}finally{null!=(n=this.delegate)&&n.inputControllerDidHandleInput()}},e.prototype.getCompositionInput=function(){return this.isComposing()?this.compositionInput:this.compositionInput=new O.CompositionInput(this)},e.prototype.isComposing=function(){return null!=this.compositionInput&&!this.compositionInput.isEnded()},e.prototype.deleteInDirection=function(t,e){var n;return!1!==(null!=(n=this.responder)?n.deleteInDirection(t):void 0)?this.setInputSummary({didDelete:!0}):e?(e.preventDefault(),this.requestRender()):void 0},e.prototype.serializeSelectionToDataTransfer=function(t){var e,n;if(i(t))return e=null!=(n=this.responder)?n.getSelectedDocument().toSerializableDocument():void 0,t.setData("application/x-trix-document",JSON.stringify(e)),t.setData("text/html",O.DocumentView.render(e).innerHTML),t.setData("text/plain",e.toString().replace(/\n$/,"")),!0},e.prototype.canAcceptDataTransfer=function(t){var e,n,i,r,o;for(o={},e=0,n=(r=null!=(i=null!=t?t.types:void 0)?i:[]).length;e<n;e++)o[r[e]]=!0;return o.Files||o["application/x-trix-document"]||o["text/html"]||o["text/plain"]},e.prototype.getPastedHTMLUsingHiddenElement=function(e){var n,i,t,r;return i=this.getSelectedRange(),t={position:"absolute",left:window.pageXOffset+"px",top:window.pageYOffset+"px",opacity:0},n=a({style:t,tagName:"div",editable:!0}),document.body.appendChild(n),n.focus(),requestAnimationFrame((r=this,function(){var t;return t=n.innerHTML,document.body.removeChild(n),r.setSelectedRange(i),e(t)}))},e.proxyMethod("responder?.getSelectedRange"),e.proxyMethod("responder?.setSelectedRange"),e.proxyMethod("responder?.expandSelectionInDirection"),e.proxyMethod("responder?.selectionIsInCursorTarget"),e.proxyMethod("responder?.selectionIsExpanded"),e}(O.BasicObject),T=function(t){var e,n;return null!=(e=t.type)&&null!=(n=e.match(/\/(\w+)$/))?n[1]:void 0},s=function(t){return t.metaKey&&t.altKey&&!t.shiftKey&&94===t.keyCode},o=function(t){return t.metaKey&&t.altKey&&t.shiftKey&&9674===t.keyCode},l=function(t){return/Mac|^iP/.test(navigator.platform)?t.metaKey:t.ctrlKey},_=function(t){var e,n;return(n=null!=(e=t.clipboardData)?e.types:void 0)?D.call(n,"text/html")<0&&(0<=D.call(n,"com.apple.webarchive")||0<=D.call(n,"com.apple.flat-rtfd")):void 0},x=function(t){var e,n,i;return i=t.getData("text/plain"),n=t.getData("text/html"),i&&n?((e=a("div")).innerHTML=n,e.textContent===i?!e.querySelector(":not(meta)"):void 0):null!=i?i.length:void 0},c={"application/x-trix-feature-detection":"test"},i=function(t){var e,n;if(null!=(null!=t?t.setData:void 0)){for(e in c)if(n=c[e],t.setData(e,n),t.getData(e)!==n)return;return!0}}}.call(this),function(){var o,s,i,a,u,r,c=function(t,e){return function(){return t.apply(e,arguments)}},l=function(t,e){function n(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;s=O.handleEvent,u=O.makeElement,r=O.tagName,i=O.InputController.keyNames,a=O.config.lang,o=O.config.css.classNames,O.AttachmentEditorController=function(t){function e(t,e,n){this.attachmentPiece=t,this.element=e,this.container=n,this.uninstall=c(this.uninstall,this),this.didKeyDownCaption=c(this.didKeyDownCaption,this),this.didChangeCaption=c(this.didChangeCaption,this),this.didClickCaption=c(this.didClickCaption,this),this.didClickRemoveButton=c(this.didClickRemoveButton,this),this.attachment=this.attachmentPiece.attachment,"a"===r(this.element)&&(this.element=this.element.firstChild),this.install()}var n;return l(e,t),n=function(e){return function(){var t;return(t=e.apply(this,arguments))["do"](),null==this.undos&&(this.undos=[]),this.undos.push(t.undo)}},e.prototype.install=function(){return this.makeElementMutable(),this.attachment.isPreviewable()&&this.makeCaptionEditable(),this.addRemoveButton()},e.prototype.makeElementMutable=n(function(){return{"do":(e=this,function(){return e.element.dataset.trixMutable=!0}),undo:(t=this,function(){return delete t.element.dataset.trixMutable})};var t,e}),e.prototype.makeCaptionEditable=n(function(){var t,e,n;return t=this.element.querySelector("figcaption"),e=null,{"do":(n=this,function(){return e=s("click",{onElement:t,withCallback:n.didClickCaption,inPhase:"capturing"})}),undo:function(){return e.destroy()}}}),e.prototype.addRemoveButton=n(function(){var t,e,n;return t=u({tagName:"button",textContent:a.remove,className:o.attachment.removeButton,attributes:{type:"button",title:a.remove},data:{trixMutable:!0}}),s("click",{onElement:t,withCallback:this.didClickRemoveButton}),{"do":(n=this,function(){return n.element.appendChild(t)}),undo:(e=this,function(){return e.element.removeChild(t)})}}),e.prototype.editCaption=n(function(){var t,e,n,i,r;return(i=u({tagName:"textarea",className:o.attachment.captionEditor,attributes:{placeholder:a.captionPlaceholder}})).value=this.attachmentPiece.getCaption(),(r=i.cloneNode()).classList.add("trix-autoresize-clone"),t=function(){return r.value=i.value,i.style.height=r.scrollHeight+"px"},s("input",{onElement:i,withCallback:t}),s("keydown",{onElement:i,withCallback:this.didKeyDownCaption}),s("change",{onElement:i,withCallback:this.didChangeCaption}),s("blur",{onElement:i,withCallback:this.uninstall}),n=this.element.querySelector("figcaption"),e=n.cloneNode(),{"do":function(){return n.style.display="none",e.appendChild(i),e.appendChild(r),e.classList.add(o.attachment.editingCaption),n.parentElement.insertBefore(e,n),t(),i.focus()},undo:function(){return e.parentNode.removeChild(e),n.style.display=null}}}),e.prototype.didClickRemoveButton=function(t){var e;return t.preventDefault(),t.stopPropagation(),null!=(e=this.delegate)?e.attachmentEditorDidRequestRemovalOfAttachment(this.attachment):void 0},e.prototype.didClickCaption=function(t){return t.preventDefault(),this.editCaption()},e.prototype.didChangeCaption=function(t){var e,n,i;return(e=t.target.value.replace(/\s/g," ").trim())?null!=(n=this.delegate)&&"function"==typeof n.attachmentEditorDidRequestUpdatingAttributesForAttachment?n.attachmentEditorDidRequestUpdatingAttributesForAttachment({caption:e},this.attachment):void 0:null!=(i=this.delegate)&&"function"==typeof i.attachmentEditorDidRequestRemovingAttributeForAttachment?i.attachmentEditorDidRequestRemovingAttributeForAttachment("caption",this.attachment):void 0},e.prototype.didKeyDownCaption=function(t){var e;return"return"===i[t.keyCode]?(t.preventDefault(),this.didChangeCaption(t),null!=(e=this.delegate)&&"function"==typeof e.attachmentEditorDidRequestDeselectingAttachment?e.attachmentEditorDidRequestDeselectingAttachment(this.attachment):void 0):void 0},e.prototype.uninstall=function(){for(var t,e;e=this.undos.pop();)e();return null!=(t=this.delegate)?t.didUninstallAttachmentEditor(this):void 0},e}(O.BasicObject)}.call(this),function(){var h,n,p,d,i=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;p=O.makeElement,d=O.selectionElements,h=O.config.css.classNames,O.AttachmentView=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.attachment=this.object,(this.attachment.uploadProgressDelegate=this).attachmentPiece=this.options.piece}return i(e,t),e.attachmentSelector="[data-trix-attachment]",e.prototype.createContentNodes=function(){return[]},e.prototype.createNodes=function(){var t,e,n,i,r,o,s,a,u,c,l;if(i=p({tagName:"figure",className:this.getClassName()}),this.attachment.hasContent())i.innerHTML=this.attachment.getContent();else for(o=0,a=(c=this.createContentNodes()).length;o<a;o++)u=c[o],i.appendChild(u);for(s in i.appendChild(this.createCaptionElement()),e={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},(t=this.attachmentPiece.getAttributesForAttachment()).isEmpty()||(e.trixAttributes=JSON.stringify(t)),this.attachment.isPending()&&(this.progressElement=p({tagName:"progress",attributes:{"class":h.attachment.progressBar,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),i.appendChild(this.progressElement),e.trixSerialize=!1),(r=this.getHref())?(n=p("a",{href:r})).appendChild(i):n=i,e)l=e[s],n.dataset[s]=l;return n.setAttribute("contenteditable",!1),[d.create("cursorTarget"),n,d.create("cursorTarget")]},e.prototype.createCaptionElement=function(){var t,e,n,i,r;return e=p({tagName:"figcaption",className:h.attachment.caption}),(t=this.attachmentPiece.getCaption())?(e.classList.add(h.attachment.captionEdited),e.textContent=t):(n=this.attachment.getFilename())&&(e.textContent=n,(i=this.attachment.getFormattedFilesize())&&(e.appendChild(document.createTextNode(" ")),r=p({tagName:"span",className:h.attachment.size,textContent:i}),e.appendChild(r))),e},e.prototype.getClassName=function(){var t,e;return e=[h.attachment.container,""+h.attachment.typePrefix+this.attachment.getType()],(t=this.attachment.getExtension())&&e.push(t),e.join(" ")},e.prototype.getHref=function(){return n(this.attachment.getContent(),"a")?void 0:this.attachment.getHref()},e.prototype.findProgressElement=function(){var t;return null!=(t=this.findElement())?t.querySelector("progress"):void 0},e.prototype.attachmentDidChangeUploadProgress=function(){var t,e;return e=this.attachment.getUploadProgress(),null!=(t=this.findProgressElement())?t.value=e:void 0},e}(O.ObjectView),n=function(t,e){var n;return(n=p("div")).innerHTML=null!=t?t:"",n.querySelector(e)}}.call(this),function(){var n,i=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;n=O.makeElement,O.PreviewableAttachmentView=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.attachment.previewDelegate=this}return i(e,t),e.prototype.createContentNodes=function(){return this.image=n({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]},e.prototype.refresh=function(t){var e;return null==t&&(t=null!=(e=this.findElement())?e.querySelector("img"):void 0),t?this.updateAttributesForImage(t):void 0},e.prototype.updateAttributesForImage=function(t){var e,n,i,r,o,s;return o=this.attachment.getURL(),n=this.attachment.getPreviewURL(),t.src=n||o,n===o?t.removeAttribute("data-trix-serialized-attributes"):(i=JSON.stringify({src:o}),t.setAttribute("data-trix-serialized-attributes",i)),s=this.attachment.getWidth(),e=this.attachment.getHeight(),null!=s&&(t.width=s),null!=e&&(t.height=e),r=["imageElement",this.attachment.id,t.src,t.width,t.height].join("/"),t.dataset.trixStoreKey=r},e.prototype.attachmentDidChangePreviewURL=function(){return this.refresh(this.image),this.refresh()},e}(O.AttachmentView)}.call(this),function(){var s,u,c,i=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;c=O.makeElement,s=O.findInnerElement,u=O.getTextConfig,O.PieceView=function(t){function e(){var t;e.__super__.constructor.apply(this,arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),t=this.options,this.textConfig=t.textConfig,this.context=t.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}var n;return i(e,t),e.prototype.createNodes=function(){var t,e,n,i,r,o;if(o=this.attachment?this.createAttachmentNodes():this.createStringNodes(),t=this.createElement()){for(n=s(t),e=0,i=o.length;e<i;e++)r=o[e],n.appendChild(r);o=[t]}return o},e.prototype.createAttachmentNodes=function(){var t;return t=this.attachment.isPreviewable()?O.PreviewableAttachmentView:O.AttachmentView,this.createChildView(t,this.piece.attachment,{piece:this.piece}).getNodes()},e.prototype.createStringNodes=function(){var t,e,n,i,r,o,s,a,u;if(null!=(s=this.textConfig)?s.plaintext:void 0)return[document.createTextNode(this.string)];for(o=[],n=e=0,i=(a=this.string.split("\n")).length;e<i;n=++e)u=a[n],0<n&&(t=c("br"),o.push(t)),u.length&&(r=document.createTextNode(this.preserveSpaces(u)),o.push(r));return o},e.prototype.createElement=function(){var t,e,n,i,r,o,s,a;for(i in this.attributes)if((t=u(i))&&(t.tagName&&(r=c(t.tagName),n?(n.appendChild(r),n=r):e=n=r),t.style))if(s)for(i in o=t.style)a=o[i],s[i]=a;else s=t.style;if(s)for(i in null==e&&(e=c("span")),s)a=s[i],e.style[i]=a;return e},e.prototype.createContainerElement=function(){var t,e,n,i,r;for(n in i=this.attributes)if(r=i[n],(e=u(n))&&e.groupTagName)return(t={})[n]=r,c(e.groupTagName,t)},n=O.NON_BREAKING_SPACE,e.prototype.preserveSpaces=function(t){return this.context.isLast&&(t=t.replace(/\ $/,n)),t=t.replace(/(\S)\ {3}(\S)/g,"$1 "+n+" $2").replace(/\ {2}/g,n+" ").replace(/\ {2}/g," "+n),(this.context.isFirst||this.context.followsWhitespace)&&(t=t.replace(/^\ /,n)),t},e}(O.ObjectView)}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;O.TextView=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.text=this.object,this.textConfig=this.options.textConfig}var l;return n(e,t),e.prototype.createNodes=function(){var t,e,n,i,r,o,s,a,u,c;for(o=[],i=(a=O.ObjectGroup.groupObjects(this.getPieces())).length-1,n=e=0,r=a.length;e<r;n=++e)s=a[n],t={},0===n&&(t.isFirst=!0),n===i&&(t.isLast=!0),l(u)&&(t.followsWhitespace=!0),c=this.findOrCreateCachedChildView(O.PieceView,s,{textConfig:this.textConfig,context:t}),o.push.apply(o,c.getNodes()),u=s;return o},e.prototype.getPieces=function(){var t,e,n,i,r;for(r=[],t=0,e=(i=this.text.getPieces()).length;t<e;t++)(n=i[t]).hasAttribute("blockBreak")||r.push(n);return r},l=function(t){return/\s$/.test(null!=t?t.toString():void 0)},e}(O.ObjectView)}.call(this),function(){var u,c,n=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;c=O.makeElement,u=O.getBlockConfig,O.BlockView=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.block=this.object,this.attributes=this.block.getAttributes()}return n(e,t),e.prototype.createNodes=function(){var t,e,n,i,r,o,s,a;if(r=[document.createComment("block")],this.block.isEmpty()?r.push(c("br")):(s=null!=(o=u(this.block.getLastAttribute()))?o.text:void 0,a=this.findOrCreateCachedChildView(O.TextView,this.block.text,{textConfig:s}),r.push.apply(r,a.getNodes()),this.shouldAddExtraNewlineElement()&&r.push(c("br"))),this.attributes.length)return r;for(t=c(O.config.blockAttributes["default"].tagName),e=0,n=r.length;e<n;e++)i=r[e],t.appendChild(i);return[t]},e.prototype.createContainerElement=function(t){var e,n;return e=this.attributes[t],n=u(e),c(n.tagName)},e.prototype.shouldAddExtraNewlineElement=function(){return/\n\n$/.test(this.block.toString())},e}(O.ObjectView)}.call(this),function(){var r,a,o=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;r=O.defer,a=O.makeElement,O.DocumentView=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.element=this.options.element,this.elementStore=new O.ElementStore,this.setDocument(this.object)}var n,l,i;return o(e,t),e.render=function(t){var e,n;return(n=new this(t,{element:e=a("div")})).render(),n.sync(),e},e.prototype.setDocument=function(t){return t.isEqualTo(this.document)?void 0:this.document=this.object=t},e.prototype.render=function(){var t,e,r,n,i,o,s;if(this.childViews=[],this.shadowElement=a("div"),!this.document.isEmpty()){for(o=[],t=0,e=(i=O.ObjectGroup.groupObjects(this.document.getBlocks(),{asTree:!0})).length;t<e;t++)n=i[t],s=this.findOrCreateCachedChildView(O.BlockView,n),o.push(function(){var t,e,n,i;for(i=[],t=0,e=(n=s.getNodes()).length;t<e;t++)r=n[t],i.push(this.shadowElement.appendChild(r));return i}.call(this));return o}},e.prototype.isSynced=function(){return n(this.shadowElement,this.element)},e.prototype.sync=function(){var t;for(t=this.createDocumentFragmentForSync();this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(t),this.didSync()},e.prototype.didSync=function(){return this.elementStore.reset(l(this.element)),r((t=this,function(){return t.garbageCollectCachedViews()}));var t},e.prototype.createDocumentFragmentForSync=function(){var t,e,n,i,r,o,s,a,u,c;for(e=document.createDocumentFragment(),n=0,r=(a=this.shadowElement.childNodes).length;n<r;n++)s=a[n],e.appendChild(s.cloneNode(!0));for(i=0,o=(u=l(e)).length;i<o;i++)t=u[i],(c=this.elementStore.remove(t))&&t.parentNode.replaceChild(c,t);return e},l=function(t){return t.querySelectorAll("[data-trix-store-key]")},n=function(t,e){return i(t.innerHTML)===i(e.innerHTML)},i=function(t){return t.replace(/&nbsp;/g," ")},e}(O.ObjectView)}.call(this),function(){var n,i,r,o,s=function(t,e){return function(){return t.apply(e,arguments)}},a=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;r=O.handleEvent,o=O.innerElementIsActive,i=O.defer,n=O.AttachmentView.attachmentSelector,O.CompositionController=function(t){function e(t,e){this.element=t,this.composition=e,this.didClickAttachment=s(this.didClickAttachment,this),this.didBlur=s(this.didBlur,this),this.didFocus=s(this.didFocus,this),this.documentView=new O.DocumentView(this.composition.document,{element:this.element}),r("focus",{onElement:this.element,withCallback:this.didFocus}),r("blur",{onElement:this.element,withCallback:this.didBlur}),r("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),r("mousedown",{onElement:this.element,matchingSelector:n,withCallback:this.didClickAttachment}),r("click",{onElement:this.element,matchingSelector:"a"+n,preventDefault:!0})}return a(e,t),e.prototype.didFocus=function(){var t,e,n,i;return t=function(){var t;return i.focused?void 0:(i.focused=!0,null!=(t=i.delegate)&&"function"==typeof t.compositionControllerDidFocus?t.compositionControllerDidFocus():void 0)},null!=(e=null!=(n=(i=this).blurPromise)?n.then(t):void 0)?e:t()},e.prototype.didBlur=function(){return this.blurPromise=new Promise((n=this,function(e){return i(function(){var t;return o(n.element)||(n.focused=null)!=(t=n.delegate)&&"function"==typeof t.compositionControllerDidBlur&&t.compositionControllerDidBlur(),n.blurPromise=null,e()})}));var n},e.prototype.didClickAttachment=function(t,e){var n,i;return n=this.findAttachmentForElement(e),null!=(i=this.delegate)&&"function"==typeof i.compositionControllerDidSelectAttachment?i.compositionControllerDidSelectAttachment(n):void 0},e.prototype.render=function(){var t,e,n;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.documentView.isSynced()||(null!=(t=this.delegate)&&"function"==typeof t.compositionControllerWillSyncDocumentView&&t.compositionControllerWillSyncDocumentView(),this.documentView.sync(),this.reinstallAttachmentEditor(),null!=(e=this.delegate)&&"function"==typeof e.compositionControllerDidSyncDocumentView&&e.compositionControllerDidSyncDocumentView()),null!=(n=this.delegate)&&"function"==typeof n.compositionControllerDidRender?n.compositionControllerDidRender():void 0},e.prototype.rerenderViewForObject=function(t){return this.invalidateViewForObject(t),this.render()},e.prototype.invalidateViewForObject=function(t){return this.documentView.invalidateViewForObject(t)},e.prototype.isViewCachingEnabled=function(){return this.documentView.isViewCachingEnabled()},e.prototype.enableViewCaching=function(){return this.documentView.enableViewCaching()},e.prototype.disableViewCaching=function(){return this.documentView.disableViewCaching()},e.prototype.refreshViewCache=function(){return this.documentView.garbageCollectCachedViews()},e.prototype.installAttachmentEditorForAttachment=function(t){var e,n,i;if((null!=(i=this.attachmentEditor)?i.attachment:void 0)!==t&&(n=this.documentView.findElementForObject(t)))return this.uninstallAttachmentEditor(),e=this.composition.document.getAttachmentPieceForAttachment(t),this.attachmentEditor=new O.AttachmentEditorController(e,n,this.element),this.attachmentEditor.delegate=this},e.prototype.uninstallAttachmentEditor=function(){var t;return null!=(t=this.attachmentEditor)?t.uninstall():void 0},e.prototype.reinstallAttachmentEditor=function(){var t;return this.attachmentEditor?(t=this.attachmentEditor.attachment,this.uninstallAttachmentEditor(),this.installAttachmentEditorForAttachment(t)):void 0},e.prototype.editAttachmentCaption=function(){var t;return null!=(t=this.attachmentEditor)?t.editCaption():void 0},e.prototype.didUninstallAttachmentEditor=function(){return this.attachmentEditor=null,this.render()},e.prototype.attachmentEditorDidRequestUpdatingAttributesForAttachment=function(t,e){var n;return null!=(n=this.delegate)&&"function"==typeof n.compositionControllerWillUpdateAttachment&&n.compositionControllerWillUpdateAttachment(e),this.composition.updateAttributesForAttachment(t,e)},e.prototype.attachmentEditorDidRequestRemovingAttributeForAttachment=function(t,e){var n;return null!=(n=this.delegate)&&"function"==typeof n.compositionControllerWillUpdateAttachment&&n.compositionControllerWillUpdateAttachment(e),this.composition.removeAttributeForAttachment(t,e)},e.prototype.attachmentEditorDidRequestRemovalOfAttachment=function(t){var e;return null!=(e=this.delegate)&&"function"==typeof e.compositionControllerDidRequestRemovalOfAttachment?e.compositionControllerDidRequestRemovalOfAttachment(t):void 0},e.prototype.attachmentEditorDidRequestDeselectingAttachment=function(t){var e;return null!=(e=this.delegate)&&"function"==typeof e.compositionControllerDidRequestDeselectingAttachment?e.compositionControllerDidRequestDeselectingAttachment(t):void 0},e.prototype.findAttachmentForElement=function(t){return this.composition.document.getAttachmentById(parseInt(t.dataset.trixId,10))},e}(O.BasicObject)}.call(this),function(){var d,f,m,g=function(t,e){return function(){return t.apply(e,arguments)}},y=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;f=O.handleEvent,m=O.triggerEvent,d=O.findClosestElementFromNode,O.ToolbarController=function(t){function e(t){this.element=t,this.didKeyDownDialogInput=g(this.didKeyDownDialogInput,this),this.didClickDialogButton=g(this.didClickDialogButton,this),this.didClickAttributeButton=g(this.didClickAttributeButton,this),this.didClickActionButton=g(this.didClickActionButton,this),this.attributes={},this.actions={},this.resetDialogInputs(),f("mousedown",{onElement:this.element,matchingSelector:s,withCallback:this.didClickActionButton}),f("mousedown",{onElement:this.element,matchingSelector:a,withCallback:this.didClickAttributeButton}),f("click",{onElement:this.element,matchingSelector:p,preventDefault:!0}),f("click",{onElement:this.element,matchingSelector:i,withCallback:this.didClickDialogButton}),f("keydown",{onElement:this.element,matchingSelector:o,withCallback:this.didKeyDownDialogInput})}var s,n,a,i,o,r,u,l,c,h,p;return y(e,t),p=[s="button[data-trix-action]",a="button[data-trix-attribute]"].join(", "),n=(r=".dialog[data-trix-dialog]")+".active",i=r+" input[data-trix-method]",o=r+" input[type=text], "+r+" input[type=url]",e.prototype.didClickActionButton=function(t,e){var n,i,r;return null!=(i=this.delegate)&&i.toolbarDidClickButton(),t.preventDefault(),n=u(e),this.getDialog(n)?this.toggleDialog(n):null!=(r=this.delegate)?r.toolbarDidInvokeAction(n):void 0},e.prototype.didClickAttributeButton=function(t,e){var n,i,r;return null!=(i=this.delegate)&&i.toolbarDidClickButton(),t.preventDefault(),n=l(e),this.getDialog(n)?this.toggleDialog(n):null!=(r=this.delegate)&&r.toolbarDidToggleAttribute(n),this.refreshAttributeButtons()},e.prototype.didClickDialogButton=function(t,e){var n;return n=d(e,{matchingSelector:r}),this[e.getAttribute("data-trix-method")].call(this,n)},e.prototype.didKeyDownDialogInput=function(t,e){var n,i;return 13===t.keyCode&&(t.preventDefault(),n=e.getAttribute("name"),i=this.getDialog(n),this.setAttribute(i)),27===t.keyCode?(t.preventDefault(),this.hideDialog()):void 0},e.prototype.updateActions=function(t){return this.actions=t,this.refreshActionButtons()},e.prototype.refreshActionButtons=function(){return this.eachActionButton((n=this,function(t,e){return t.disabled=!1===n.actions[e]}));var n},e.prototype.eachActionButton=function(t){var e,n,i,r,o;for(o=[],n=0,i=(r=this.element.querySelectorAll(s)).length;n<i;n++)e=r[n],o.push(t(e,u(e)));return o},e.prototype.updateAttributes=function(t){return this.attributes=t,this.refreshAttributeButtons()},e.prototype.refreshAttributeButtons=function(){return this.eachAttributeButton((n=this,function(t,e){return t.disabled=!1===n.attributes[e],n.attributes[e]||n.dialogIsVisible(e)?t.classList.add("active"):t.classList.remove("active")}));var n},e.prototype.eachAttributeButton=function(t){var e,n,i,r,o;for(o=[],n=0,i=(r=this.element.querySelectorAll(a)).length;n<i;n++)e=r[n],o.push(t(e,l(e)));return o},e.prototype.applyKeyboardCommand=function(t){var e,n,i,r,o,s;for(r=JSON.stringify(t.sort()),i=0,o=(s=this.element.querySelectorAll("[data-trix-key]")).length;i<o;i++)if(n=(e=s[i]).getAttribute("data-trix-key").split("+"),JSON.stringify(n.sort())===r)return m("mousedown",{onElement:e}),!0;return!1},e.prototype.dialogIsVisible=function(t){var e;return(e=this.getDialog(t))?e.classList.contains("active"):void 0},e.prototype.toggleDialog=function(t){return this.dialogIsVisible(t)?this.hideDialog():this.showDialog(t)},e.prototype.showDialog=function(t){var e,n,i,r,o,s,a,u,c;for(this.hideDialog(),null!=(s=this.delegate)&&s.toolbarWillShowDialog(),(n=this.getDialog(t)).classList.add("active"),i=0,o=(a=n.querySelectorAll("input[disabled]")).length;i<o;i++)a[i].removeAttribute("disabled");return(e=l(n))&&(r=h(n,t))&&(r.value=null!=(u=this.attributes[e])?u:"",r.select()),null!=(c=this.delegate)?c.toolbarDidShowDialog(t):void 0},e.prototype.setAttribute=function(t){var e,n,i;return e=l(t),(n=h(t,e)).willValidate&&!n.checkValidity()?(n.classList.add("validate"),n.focus()):(null!=(i=this.delegate)&&i.toolbarDidUpdateAttribute(e,n.value),this.hideDialog())},e.prototype.removeAttribute=function(t){var e,n;return e=l(t),null!=(n=this.delegate)&&n.toolbarDidRemoveAttribute(e),this.hideDialog()},e.prototype.hideDialog=function(){var t,e;return(t=this.element.querySelector(n))?(t.classList.remove("active"),this.resetDialogInputs(),null!=(e=this.delegate)?e.toolbarDidHideDialog(c(t)):void 0):void 0},e.prototype.resetDialogInputs=function(){var t,e,n,i,r;for(r=[],t=0,n=(i=this.element.querySelectorAll(o)).length;t<n;t++)(e=i[t]).setAttribute("disabled","disabled"),r.push(e.classList.remove("validate"));return r},e.prototype.getDialog=function(t){return this.element.querySelector(".dialog[data-trix-dialog="+t+"]")},h=function(t,e){return null==e&&(e=l(t)),t.querySelector("input[name='"+e+"']")},u=function(t){return t.getAttribute("data-trix-action")},l=function(t){return t.getAttribute("data-trix-attribute")},c=function(t){return t.getAttribute("data-trix-dialog")},e}(O.BasicObject)}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;O.ImagePreloadOperation=function(t){function e(t){this.url=t}return n(e,t),e.prototype.perform=function(t){var e,n;return(e=new Image).onload=(n=this,function(){return e.width=n.width=e.naturalWidth,e.height=n.height=e.naturalHeight,t(!0,e)}),e.onerror=function(){return t(!1)},e.src=this.url},e}(O.Operation)}.call(this),function(){var n=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;O.Attachment=function(t){function e(t){null==t&&(t={}),this.releaseFile=n(this.releaseFile,this),e.__super__.constructor.apply(this,arguments),this.attributes=O.Hash.box(t),this.didChangeAttributes()}return i(e,t),e.previewablePattern=/^image(\/(gif|png|jpe?g)|$)/,e.attachmentForFile=function(t){var e;return(e=new this(this.attributesForFile(t))).setFile(t),e},e.attributesForFile=function(t){return new O.Hash({filename:t.name,filesize:t.size,contentType:t.type})},e.fromJSON=function(t){return new this(t)},e.prototype.getAttribute=function(t){return this.attributes.get(t)},e.prototype.hasAttribute=function(t){return this.attributes.has(t)},e.prototype.getAttributes=function(){return this.attributes.toObject()},e.prototype.setAttributes=function(t){var e,n;return null==t&&(t={}),e=this.attributes.merge(t),this.attributes.isEqualTo(e)?void 0:(this.attributes=e,this.didChangeAttributes(),null!=(n=this.delegate)&&"function"==typeof n.attachmentDidChangeAttributes?n.attachmentDidChangeAttributes(this):void 0)},e.prototype.didChangeAttributes=function(){return this.isPreviewable()?this.preloadURL():void 0},e.prototype.isPending=function(){return null!=this.file&&!(this.getURL()||this.getHref())},e.prototype.isPreviewable=function(){return this.attributes.has("previewable")?this.attributes.get("previewable"):this.constructor.previewablePattern.test(this.getContentType())},e.prototype.getType=function(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"},e.prototype.getURL=function(){return this.attributes.get("url")},e.prototype.getHref=function(){return this.attributes.get("href")},e.prototype.getFilename=function(){var t;return null!=(t=this.attributes.get("filename"))?t:""},e.prototype.getFilesize=function(){return this.attributes.get("filesize")},e.prototype.getFormattedFilesize=function(){var t;return"number"==typeof(t=this.attributes.get("filesize"))?O.config.fileSize.formatter(t):""},e.prototype.getExtension=function(){var t;return null!=(t=this.getFilename().match(/\.(\w+)$/))?t[1].toLowerCase():void 0},e.prototype.getContentType=function(){return this.attributes.get("contentType")},e.prototype.hasContent=function(){return this.attributes.has("content")},e.prototype.getContent=function(){return this.attributes.get("content")},e.prototype.getWidth=function(){return this.attributes.get("width")},e.prototype.getHeight=function(){return this.attributes.get("height")},e.prototype.getFile=function(){return this.file},e.prototype.setFile=function(t){return this.file=t,this.isPreviewable()?this.preloadFile():void 0},e.prototype.releaseFile=function(){return this.releasePreloadedFile(),this.file=null},
e.prototype.getUploadProgress=function(){var t;return null!=(t=this.uploadProgress)?t:0},e.prototype.setUploadProgress=function(t){var e;return this.uploadProgress!==t?(this.uploadProgress=t,null!=(e=this.uploadProgressDelegate)&&"function"==typeof e.attachmentDidChangeUploadProgress?e.attachmentDidChangeUploadProgress(this):void 0):void 0},e.prototype.toJSON=function(){return this.getAttributes()},e.prototype.getCacheKey=function(){return[e.__super__.getCacheKey.apply(this,arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")},e.prototype.getPreviewURL=function(){return this.previewURL||this.preloadingURL},e.prototype.setPreviewURL=function(t){var e,n;return t!==this.getPreviewURL()?(this.previewURL=t,null!=(e=this.previewDelegate)&&"function"==typeof e.attachmentDidChangePreviewURL&&e.attachmentDidChangePreviewURL(this),null!=(n=this.delegate)&&"function"==typeof n.attachmentDidChangePreviewURL?n.attachmentDidChangePreviewURL(this):void 0):void 0},e.prototype.preloadURL=function(){return this.preload(this.getURL(),this.releaseFile)},e.prototype.preloadFile=function(){return this.file?(this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)):void 0},e.prototype.releasePreloadedFile=function(){return this.fileObjectURL?(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null):void 0},e.prototype.preload=function(i,r){var o;return i&&i!==this.getPreviewURL()?(this.preloadingURL=i,new O.ImagePreloadOperation(i).then((o=this,function(t){var e,n;return n=t.width,e=t.height,o.setAttributes({width:n,height:e}),o.preloadingURL=null,o.setPreviewURL(i),"function"==typeof r?r():void 0}))):void 0},e}(O.Object)}.call(this),function(){var e=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;O.Piece=function(t){function n(t,e){null==e&&(e={}),n.__super__.constructor.apply(this,arguments),this.attributes=O.Hash.box(e)}return e(n,t),n.types={},n.registerType=function(t,e){return e.type=t,this.types[t]=e},n.fromJSON=function(t){var e;return(e=this.types[t.type])?e.fromJSON(t):void 0},n.prototype.copyWithAttributes=function(t){return new this.constructor(this.getValue(),t)},n.prototype.copyWithAdditionalAttributes=function(t){return this.copyWithAttributes(this.attributes.merge(t))},n.prototype.copyWithoutAttribute=function(t){return this.copyWithAttributes(this.attributes.remove(t))},n.prototype.copy=function(){return this.copyWithAttributes(this.attributes)},n.prototype.getAttribute=function(t){return this.attributes.get(t)},n.prototype.getAttributesHash=function(){return this.attributes},n.prototype.getAttributes=function(){return this.attributes.toObject()},n.prototype.getCommonAttributes=function(){var e,n,t;return(t=pieceList.getPieceAtIndex(0))?(e=t.attributes,n=e.getKeys(),pieceList.eachPiece(function(t){return n=e.getKeysCommonToHash(t.attributes),e=e.slice(n)}),e.toObject()):{}},n.prototype.hasAttribute=function(t){return this.attributes.has(t)},n.prototype.hasSameStringValueAsPiece=function(t){return null!=t&&this.toString()===t.toString()},n.prototype.hasSameAttributesAsPiece=function(t){return null!=t&&(this.attributes===t.attributes||this.attributes.isEqualTo(t.attributes))},n.prototype.isBlockBreak=function(){return!1},n.prototype.isEqualTo=function(t){return n.__super__.isEqualTo.apply(this,arguments)||this.hasSameConstructorAs(t)&&this.hasSameStringValueAsPiece(t)&&this.hasSameAttributesAsPiece(t)},n.prototype.isEmpty=function(){return 0===this.length},n.prototype.isSerializable=function(){return!0},n.prototype.toJSON=function(){return{type:this.constructor.type,attributes:this.getAttributes()}},n.prototype.contentsForInspection=function(){return{type:this.constructor.type,attributes:this.attributes.inspect()}},n.prototype.canBeGrouped=function(){return this.hasAttribute("href")},n.prototype.canBeGroupedWith=function(t){return this.getAttribute("href")===t.getAttribute("href")},n.prototype.getLength=function(){return this.length},n.prototype.canBeConsolidatedWith=function(){return!1},n}(O.Object)}.call(this),function(){var e=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;O.Piece.registerType("attachment",O.AttachmentPiece=function(t){function n(t){this.attachment=t,n.__super__.constructor.apply(this,arguments),this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href")}return e(n,t),n.fromJSON=function(t){return new this(O.Attachment.fromJSON(t.attachment),t.attributes)},n.prototype.ensureAttachmentExclusivelyHasAttribute=function(t){return this.hasAttribute(t)&&this.attachment.hasAttribute(t)?this.attributes=this.attributes.remove(t):void 0},n.prototype.getValue=function(){return this.attachment},n.prototype.isSerializable=function(){return!this.attachment.isPending()},n.prototype.getCaption=function(){var t;return null!=(t=this.attributes.get("caption"))?t:""},n.prototype.getAttributesForAttachment=function(){return this.attributes.slice(["caption"])},n.prototype.canBeGrouped=function(){return n.__super__.canBeGrouped.apply(this,arguments)&&!this.attachment.hasAttribute("href")},n.prototype.isEqualTo=function(t){var e;return n.__super__.isEqualTo.apply(this,arguments)&&this.attachment.id===(null!=t&&null!=(e=t.attachment)?e.id:void 0)},n.prototype.toString=function(){return O.OBJECT_REPLACEMENT_CHARACTER},n.prototype.toJSON=function(){var t;return(t=n.__super__.toJSON.apply(this,arguments)).attachment=this.attachment,t},n.prototype.getCacheKey=function(){return[n.__super__.getCacheKey.apply(this,arguments),this.attachment.getCacheKey()].join("/")},n.prototype.toConsole=function(){return JSON.stringify(this.toString())},n}(O.Piece))}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;O.Piece.registerType("string",O.StringPiece=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.string=t,this.length=this.string.length}return n(e,t),e.fromJSON=function(t){return new this(t.string,t.attributes)},e.prototype.getValue=function(){return this.string},e.prototype.toString=function(){return this.string.toString()},e.prototype.isBlockBreak=function(){return"\n"===this.toString()&&!0===this.getAttribute("blockBreak")},e.prototype.toJSON=function(){var t;return(t=e.__super__.toJSON.apply(this,arguments)).string=this.string,t},e.prototype.canBeConsolidatedWith=function(t){return null!=t&&this.hasSameConstructorAs(t)&&this.hasSameAttributesAsPiece(t)},e.prototype.consolidateWith=function(t){return new this.constructor(this.toString()+t.toString(),this.attributes)},e.prototype.splitAtOffset=function(t){var e,n;return 0===t?(e=null,n=this):t===this.length?(e=this,n=null):(e=new this.constructor(this.string.slice(0,t),this.attributes),n=new this.constructor(this.string.slice(t),this.attributes)),[e,n]},e.prototype.toConsole=function(){var t;return 15<(t=this.string).length&&(t=t.slice(0,14)+"\u2026"),JSON.stringify(t.toString())},e}(O.Piece))}.call(this),function(){var i,r=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty,u=[].slice;i=O.spliceArray,O.SplittableList=function(t){function e(t){null==t&&(t=[]),e.__super__.constructor.apply(this,arguments),this.objects=t.slice(0),this.length=this.objects.length}var s,n,a;return r(e,t),e.box=function(t){return t instanceof this?t:new this(t)},e.prototype.indexOf=function(t){return this.objects.indexOf(t)},e.prototype.splice=function(){var t;return t=1<=arguments.length?u.call(arguments,0):[],new this.constructor(i.apply(null,[this.objects].concat(u.call(t))))},e.prototype.eachObject=function(t){var e,n,i,r,o,s;for(s=[],n=e=0,i=(o=this.objects).length;e<i;n=++e)r=o[n],s.push(t(r,n));return s},e.prototype.insertObjectAtIndex=function(t,e){return this.splice(e,0,t)},e.prototype.insertSplittableListAtIndex=function(t,e){return this.splice.apply(this,[e,0].concat(u.call(t.objects)))},e.prototype.insertSplittableListAtPosition=function(t,e){var n,i,r;return i=(r=this.splitObjectAtPosition(e))[0],n=r[1],new this.constructor(i).insertSplittableListAtIndex(t,n)},e.prototype.editObjectAtIndex=function(t,e){return this.replaceObjectAtIndex(e(this.objects[t]),t)},e.prototype.replaceObjectAtIndex=function(t,e){return this.splice(e,1,t)},e.prototype.removeObjectAtIndex=function(t){return this.splice(t,1)},e.prototype.getObjectAtIndex=function(t){return this.objects[t]},e.prototype.getSplittableListInRange=function(t){var e,n,i,r;return n=(i=this.splitObjectsAtRange(t))[0],e=i[1],r=i[2],new this.constructor(n.slice(e,r+1))},e.prototype.selectSplittableList=function(r){var o,t;return t=function(){var t,e,n,i;for(i=[],t=0,e=(n=this.objects).length;t<e;t++)o=n[t],r(o)&&i.push(o);return i}.call(this),new this.constructor(t)},e.prototype.removeObjectsInRange=function(t){var e,n,i,r;return n=(i=this.splitObjectsAtRange(t))[0],e=i[1],r=i[2],new this.constructor(n).splice(e,r-e+1)},e.prototype.transformObjectsInRange=function(t,i){var r,o,s,a,e,u,n;return e=this.splitObjectsAtRange(t),a=e[0],o=e[1],u=e[2],n=function(){var t,e,n;for(n=[],r=t=0,e=a.length;t<e;r=++t)s=a[r],n.push(o<=r&&r<=u?i(s):s);return n}(),new this.constructor(n)},e.prototype.splitObjectsAtRange=function(t){var e,n,i,r,o;return n=(r=this.splitObjectAtPosition(a(t)))[0],e=r[1],i=r[2],[n=(o=new this.constructor(n).splitObjectAtPosition(s(t)+i))[0],e,o[1]-1]},e.prototype.getObjectAtPosition=function(t){var e,n;return e=(n=this.findIndexAndOffsetAtPosition(t)).index,n.offset,this.objects[e]},e.prototype.splitObjectAtPosition=function(t){var e,n,i,r,o,s,a,u,c;return e=(o=this.findIndexAndOffsetAtPosition(t)).index,r=o.offset,i=this.objects.slice(0),null!=e?0===r?(u=e,c=0):(n=(s=this.getObjectAtIndex(e).splitAtOffset(r))[0],a=s[1],i.splice(e,1,n,a),u=e+1,c=n.getLength()-r):(u=i.length,c=0),[i,u,c]},e.prototype.consolidate=function(){var t,e,n,i,r,o;for(i=[],r=this.objects[0],t=0,e=(o=this.objects.slice(1)).length;t<e;t++)n=o[t],("function"==typeof r.canBeConsolidatedWith?r.canBeConsolidatedWith(n):void 0)?r=r.consolidateWith(n):(i.push(r),r=n);return null!=r&&i.push(r),new this.constructor(i)},e.prototype.consolidateFromIndexToIndex=function(t,e){var n,i;return i=this.objects.slice(0).slice(t,e+1),n=new this.constructor(i).consolidate().toArray(),this.splice.apply(this,[t,i.length].concat(u.call(n)))},e.prototype.findIndexAndOffsetAtPosition=function(t){var e,n,i,r,o,s;for(i=n=e=0,r=(s=this.objects).length;n<r;i=++n){if(o=e+s[i].getLength(),e<=t&&t<o)return{index:i,offset:t-e};e=o}return{index:null,offset:null}},e.prototype.findPositionAtIndexAndOffset=function(t,e){var n,i,r,o,s,a;for(n=i=s=0,r=(a=this.objects).length;i<r;n=++i)if(o=a[n],n<t)s+=o.getLength();else if(n===t){s+=e;break}return s},e.prototype.getEndPosition=function(){var i,r;return null!=this.endPosition?this.endPosition:this.endPosition=function(){var t,e,n;for(t=r=0,e=(n=this.objects).length;t<e;t++)i=n[t],r+=i.getLength();return r}.call(this)},e.prototype.toString=function(){return this.objects.join("")},e.prototype.toArray=function(){return this.objects.slice(0)},e.prototype.toJSON=function(){return this.toArray()},e.prototype.isEqualTo=function(t){return e.__super__.isEqualTo.apply(this,arguments)||n(this.objects,null!=t?t.objects:void 0)},n=function(t,e){var n,i,r,o,s;if(null==e&&(e=[]),t.length!==e.length)return!1;for(s=!0,i=n=0,r=t.length;n<r;i=++n)o=t[i],s&&!o.isEqualTo(e[i])&&(s=!1);return s},e.prototype.contentsForInspection=function(){var r;return{objects:"["+function(){var t,e,n,i;for(i=[],t=0,e=(n=this.objects).length;t<e;t++)r=n[t],i.push(r.inspect());return i}.call(this).join(", ")+"]"}},a=function(t){return t[0]},s=function(t){return t[1]},e}(O.Object)}.call(this),function(){var e=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;O.Text=function(t){function n(i){var r;null==i&&(i=[]),n.__super__.constructor.apply(this,arguments),this.pieceList=new O.SplittableList(function(){var t,e,n;for(n=[],t=0,e=i.length;t<e;t++)(r=i[t]).isEmpty()||n.push(r);return n}())}return e(n,t),n.textForAttachmentWithAttributes=function(t,e){return new this([new O.AttachmentPiece(t,e)])},n.textForStringWithAttributes=function(t,e){return new this([new O.StringPiece(t,e)])},n.fromJSON=function(i){var r;return new this(function(){var t,e,n;for(n=[],t=0,e=i.length;t<e;t++)r=i[t],n.push(O.Piece.fromJSON(r));return n}())},n.prototype.copy=function(){return this.copyWithPieceList(this.pieceList)},n.prototype.copyWithPieceList=function(t){return new this.constructor(t.consolidate().toArray())},n.prototype.copyUsingObjectMap=function(o){var s,t;return t=function(){var t,e,n,i,r;for(r=[],t=0,e=(n=this.getPieces()).length;t<e;t++)s=n[t],r.push(null!=(i=o.find(s))?i:s);return r}.call(this),new this.constructor(t)},n.prototype.appendText=function(t){return this.insertTextAtPosition(t,this.getLength())},n.prototype.insertTextAtPosition=function(t,e){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(t.pieceList,e))},n.prototype.removeTextAtRange=function(t){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(t))},n.prototype.replaceTextAtRange=function(t,e){return this.removeTextAtRange(e).insertTextAtPosition(t,e[0])},n.prototype.moveTextFromRangeToPosition=function(t,e){var n,i;if(!(t[0]<=e&&e<=t[1]))return n=(i=this.getTextAtRange(t)).getLength(),t[0]<e&&(e-=n),this.removeTextAtRange(t).insertTextAtPosition(i,e)},n.prototype.addAttributeAtRange=function(t,e,n){var i;return(i={})[t]=e,this.addAttributesAtRange(i,n)},n.prototype.addAttributesAtRange=function(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,function(t){return t.copyWithAdditionalAttributes(e)}))},n.prototype.removeAttributeAtRange=function(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,function(t){return t.copyWithoutAttribute(e)}))},n.prototype.setAttributesAtRange=function(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,function(t){return t.copyWithAttributes(e)}))},n.prototype.getAttributesAtPosition=function(t){var e,n;return null!=(e=null!=(n=this.pieceList.getObjectAtPosition(t))?n.getAttributes():void 0)?e:{}},n.prototype.getCommonAttributes=function(){var t,r;return t=function(){var t,e,n,i;for(i=[],t=0,e=(n=this.pieceList.toArray()).length;t<e;t++)r=n[t],i.push(r.getAttributes());return i}.call(this),O.Hash.fromCommonAttributesOfObjects(t).toObject()},n.prototype.getCommonAttributesAtRange=function(t){var e;return null!=(e=this.getTextAtRange(t).getCommonAttributes())?e:{}},n.prototype.getExpandedRangeForAttributeAtOffset=function(t,e){var n,i,r;for(n=r=e,i=this.getLength();0<n&&this.getCommonAttributesAtRange([n-1,r])[t];)n--;for(;r<i&&this.getCommonAttributesAtRange([e,r+1])[t];)r++;return[n,r]},n.prototype.getTextAtRange=function(t){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(t))},n.prototype.getStringAtRange=function(t){return this.pieceList.getSplittableListInRange(t).toString()},n.prototype.getStringAtPosition=function(t){return this.getStringAtRange([t,t+1])},n.prototype.startsWithString=function(t){return this.getStringAtRange([0,t.length])===t},n.prototype.endsWithString=function(t){var e;return e=this.getLength(),this.getStringAtRange([e-t.length,e])===t},n.prototype.getAttachmentPieces=function(){var t,e,n,i,r;for(r=[],t=0,e=(i=this.pieceList.toArray()).length;t<e;t++)null!=(n=i[t]).attachment&&r.push(n);return r},n.prototype.getAttachments=function(){var t,e,n,i,r;for(r=[],t=0,e=(i=this.getAttachmentPieces()).length;t<e;t++)n=i[t],r.push(n.attachment);return r},n.prototype.getAttachmentAndPositionById=function(t){var e,n,i,r,o,s;for(e=r=0,n=(o=this.pieceList.toArray()).length;e<n;e++){if((null!=(s=(i=o[e]).attachment)?s.id:void 0)===t)return{attachment:i.attachment,position:r};r+=i.length}return{attachment:null,position:null}},n.prototype.getAttachmentById=function(t){var e,n;return e=(n=this.getAttachmentAndPositionById(t)).attachment,n.position,e},n.prototype.getRangeOfAttachment=function(t){var e,n;return t=(n=this.getAttachmentAndPositionById(t.id)).attachment,e=n.position,null!=t?[e,e+1]:void 0},n.prototype.updateAttributesForAttachment=function(t,e){var n;return(n=this.getRangeOfAttachment(e))?this.addAttributesAtRange(t,n):this},n.prototype.getLength=function(){return this.pieceList.getEndPosition()},n.prototype.isEmpty=function(){return 0===this.getLength()},n.prototype.isEqualTo=function(t){var e;return n.__super__.isEqualTo.apply(this,arguments)||(null!=t&&null!=(e=t.pieceList)?e.isEqualTo(this.pieceList):void 0)},n.prototype.isBlockBreak=function(){return 1===this.getLength()&&this.pieceList.getObjectAtIndex(0).isBlockBreak()},n.prototype.eachPiece=function(t){return this.pieceList.eachObject(t)},n.prototype.getPieces=function(){return this.pieceList.toArray()},n.prototype.getPieceAtPosition=function(t){return this.pieceList.getObjectAtPosition(t)},n.prototype.contentsForInspection=function(){return{pieceList:this.pieceList.inspect()}},n.prototype.toSerializableText=function(){var t;return t=this.pieceList.selectSplittableList(function(t){return t.isSerializable()}),this.copyWithPieceList(t)},n.prototype.toString=function(){return this.pieceList.toString()},n.prototype.toJSON=function(){return this.pieceList.toJSON()},n.prototype.toConsole=function(){var r;return JSON.stringify(function(){var t,e,n,i;for(i=[],t=0,e=(n=this.pieceList.toArray()).length;t<e;t++)r=n[t],i.push(JSON.parse(r.toConsole()));return i}.call(this))},n}(O.Object)}.call(this),function(){var h,p,d,f,m=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty,g=[].slice,y=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};h=O.arraysAreEqual,f=O.spliceArray,p=O.getBlockConfig,O.getBlockAttributeNames,d=O.getListAttributeNames,O.Block=function(t){function n(t,e){null==t&&(t=new O.Text),null==e&&(e=[]),n.__super__.constructor.apply(this,arguments),this.text=i(t),this.attributes=e}var e,i,r,o,s,a,u,c,l;return m(n,t),n.fromJSON=function(t){return new this(O.Text.fromJSON(t.text),t.attributes)},n.prototype.isEmpty=function(){return this.text.isBlockBreak()},n.prototype.isEqualTo=function(t){return n.__super__.isEqualTo.apply(this,arguments)||this.text.isEqualTo(null!=t?t.text:void 0)&&h(this.attributes,null!=t?t.attributes:void 0)},n.prototype.copyWithText=function(t){return new this.constructor(t,this.attributes)},n.prototype.copyWithoutText=function(){return this.copyWithText(null)},n.prototype.copyWithAttributes=function(t){return new this.constructor(this.text,t)},n.prototype.copyUsingObjectMap=function(t){var e;return this.copyWithText((e=t.find(this.text))?e:this.text.copyUsingObjectMap(t))},n.prototype.addAttribute=function(t){var e;return e=this.attributes.concat(o(t)),this.copyWithAttributes(e)},n.prototype.removeAttribute=function(t){var e,n;return n=p(t).listAttribute,e=a(a(this.attributes,t),n),this.copyWithAttributes(e)},n.prototype.removeLastAttribute=function(){return this.removeAttribute(this.getLastAttribute())},n.prototype.getLastAttribute=function(){return s(this.attributes)},n.prototype.getAttributes=function(){return this.attributes.slice(0)},n.prototype.getAttributeLevel=function(){return this.attributes.length},n.prototype.getAttributeAtLevel=function(t){return this.attributes[t-1]},n.prototype.hasAttributes=function(){return 0<this.getAttributeLevel()},n.prototype.getLastNestableAttribute=function(){return s(this.getNestableAttributes())},n.prototype.getNestableAttributes=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.attributes).length;e<n;e++)t=i[e],p(t).nestable&&r.push(t);return r},n.prototype.getNestingLevel=function(){return this.getNestableAttributes().length},n.prototype.decreaseNestingLevel=function(){var t;return(t=this.getLastNestableAttribute())?this.removeAttribute(t):this},n.prototype.increaseNestingLevel=function(){var t,e,n;return(t=this.getLastNestableAttribute())?(n=this.attributes.lastIndexOf(t),e=f.apply(null,[this.attributes,n+1,0].concat(g.call(o(t)))),this.copyWithAttributes(e)):this},n.prototype.getListItemAttributes=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.attributes).length;e<n;e++)t=i[e],p(t).listAttribute&&r.push(t);return r},n.prototype.isListItem=function(){var t;return null!=(t=p(this.getLastAttribute()))?t.listAttribute:void 0},n.prototype.isTerminalBlock=function(){var t;return null!=(t=p(this.getLastAttribute()))?t.terminal:void 0},n.prototype.breaksOnReturn=function(){var t;return null!=(t=p(this.getLastAttribute()))?t.breakOnReturn:void 0},n.prototype.findLineBreakInDirectionFromPosition=function(t,e){var n,i;return i=this.toString(),-1!==(n=function(){switch(t){case"forward":return i.indexOf("\n",e);case"backward":return i.slice(0,e).lastIndexOf("\n")}}())?n:void 0},n.prototype.contentsForInspection=function(){return{text:this.text.inspect(),attributes:this.attributes}},n.prototype.toString=function(){return this.text.toString()},n.prototype.toJSON=function(){return{text:this.text,attributes:this.attributes}},n.prototype.getLength=function(){return this.text.getLength()},n.prototype.canBeConsolidatedWith=function(t){return!this.hasAttributes()&&!t.hasAttributes()},n.prototype.consolidateWith=function(t){var e,n;return e=O.Text.textForStringWithAttributes("\n"),n=this.getTextWithoutBlockBreak().appendText(e),this.copyWithText(n.appendText(t.text))},n.prototype.splitAtOffset=function(t){var e,n;return 0===t?(e=null,n=this):t===this.getLength()?(e=this,n=null):(e=this.copyWithText(this.text.getTextAtRange([0,t])),n=this.copyWithText(this.text.getTextAtRange([t,this.getLength()]))),[e,n]},n.prototype.getBlockBreakPosition=function(){return this.text.getLength()-1},n.prototype.getTextWithoutBlockBreak=function(){return u(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()},n.prototype.canBeGrouped=function(t){return this.attributes[t]},n.prototype.canBeGroupedWith=function(t,e){var n,i,r,o;return i=(r=t.getAttributes())[e],(n=this.attributes[e])===i&&!(!1===p(n).group&&(o=r[e+1],y.call(d(),o)<0))},i=function(t){return t=l(t),e(t)},l=function(t){var e,i,n,r,o,s;return r=!1,s=t.getPieces(),i=2<=s.length?g.call(s,0,e=s.length-1):(e=0,[]),null==(n=s[e++])?t:(i=function(){var t,e,n;for(n=[],t=0,e=i.length;t<e;t++)(o=i[t]).isBlockBreak()?(r=!0,n.push(c(o))):n.push(o);return n}(),r?new O.Text(g.call(i).concat([n])):t)},r=O.Text.textForStringWithAttributes("\n",{blockBreak:!0}),e=function(t){return u(t)?t:t.appendText(r)},u=function(t){var e;return 0!==(e=t.getLength())&&t.getTextAtRange([e-1,e]).isBlockBreak()},c=function(t){return t.copyWithoutAttribute("blockBreak")},o=function(t){var e;return null!=(e=p(t).listAttribute)?[e,t]:[t]},s=function(t){return t.slice(-1)[0]},a=function(t,e){var n;return-1===(n=t.lastIndexOf(e))?t:f(t,n,1)},n}(O.Object)}.call(this),function(){var v,b,A,E,w,C,S,x,T,_=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty,D=[].slice,k=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};v=O.arraysAreEqual,S=O.normalizeSpaces,w=O.makeElement,x=O.tagName,E=O.getBlockTagNames,T=O.walkTree,A=O.findClosestElementFromNode,b=O.elementContainsNode,C=O.nodeIsAttachmentElement,O.HTMLParser=function(t){function e(t,e){this.html=t,this.referenceElement=(null!=e?e:{}).referenceElement,this.blocks=[],this.blockElements=[],this.processedElements=[]}var g,i,n,r,y,s,o,a,u,c,l,h,p,d,f,m;return _(e,t),g="style href src width height class".split(" "),e.parse=function(t,e){var n;return(n=new this(t,e)).parse(),n},e.prototype.getDocument=function(){return O.Document.fromJSON(this.blocks)},e.prototype.parse=function(){var t,e;try{for(this.createHiddenContainer(),t=p(this.html),this.containerElement.innerHTML=t,e=T(this.containerElement,{usingFilter:c});e.nextNode();)this.processNode(e.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}},e.prototype.createHiddenContainer=function(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=w({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))},e.prototype.removeHiddenContainer=function(){return this.containerElement.parentNode.removeChild(this.containerElement)},p=function(t){var e,n,i,r,o,s,a,u,c,l,h,p,d,f,m;for(t=t.replace(/<\/html[^>]*>[^]*$/i,"</html>"),(n=document.implementation.createHTMLDocument("")).documentElement.innerHTML=t,e=n.body,i=0,s=(p=n.head.querySelectorAll("style")).length;i<s;i++)f=p[i],e.appendChild(f);for(h=[],m=T(e);m.nextNode();)switch(l=m.currentNode,l.nodeType){case Node.ELEMENT_NODE:if(y(l))h.push(l);else for(r=0,a=(d=D.call(l.attributes)).length;r<a;r++)c=d[r].name,0<=k.call(g,c)||0===c.indexOf("data-trix")||l.removeAttribute(c);break;case Node.COMMENT_NODE:h.push(l)}for(o=0,u=h.length;o<u;o++)(l=h[o]).parentNode.removeChild(l);return e.innerHTML},y=function(t){return(null!=t?t.nodeType:void 0)!==Node.ELEMENT_NODE||C(t)?void 0:"script"===x(t)||"false"===t.getAttribute("data-trix-serialize")},c=function(t){return"style"===x(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},e.prototype.processNode=function(t){switch(t.nodeType){case Node.TEXT_NODE:return this.processTextNode(t);case Node.ELEMENT_NODE:return this.appendBlockForElement(t),this.processElement(t)}},e.prototype.appendBlockForElement=function(t){var e,n,i,r;if(i=this.isBlockElement(t),n=b(this.currentBlockElement,t),i&&!this.isBlockElement(t.firstChild)){if(!(this.isInsignificantTextNode(t.firstChild)&&this.isBlockElement(t.firstElementChild)||(e=this.getBlockAttributes(t),n&&v(e,this.currentBlock.attributes))))return this.currentBlock=this.appendBlockForAttributesWithElement(e,t),this.currentBlockElement=t}else if(this.currentBlockElement&&!n&&!i)return(r=this.findParentBlockElement(t))?this.appendBlockForElement(r):(this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null)},e.prototype.findParentBlockElement=function(t){var e;for(e=t.parentElement;e&&e!==this.containerElement;){if(this.isBlockElement(e)&&0<=k.call(this.blockElements,e))return e;e=e.parentElement}return null},e.prototype.processTextNode=function(t){var e,n;return this.isInsignificantTextNode(t)?void 0:(n=t.data,r(t.parentNode)||(n=d(n),f(null!=(e=t.previousSibling)?e.textContent:void 0)&&(n=u(n))),this.appendStringWithAttributes(n,this.getTextAttributes(t.parentNode)))},e.prototype.processElement=function(t){var e,n,i,r,o;if(C(t))return e=s(t),Object.keys(e).length&&(r=this.getTextAttributes(t),this.appendAttachmentWithAttributes(e,r),t.innerHTML=""),this.processedElements.push(t);switch(x(t)){case"br":return this.isExtraBR(t)||this.isBlockElement(t.nextSibling)||this.appendStringWithAttributes("\n",this.getTextAttributes(t)),this.processedElements.push(t);case"img":for(n in e={url:t.getAttribute("src"),contentType:"image"},i=a(t))o=i[n],e[n]=o;return this.appendAttachmentWithAttributes(e,this.getTextAttributes(t)),this.processedElements.push(t);case"tr":if(t.parentNode.firstChild!==t)return this.appendStringWithAttributes("\n");break;case"td":if(t.parentNode.firstChild!==t)return this.appendStringWithAttributes(" | ")}},e.prototype.appendBlockForAttributesWithElement=function(t,e){var n;return this.blockElements.push(e),n=i(t),this.blocks.push(n),n},e.prototype.appendEmptyBlock=function(){return this.appendBlockForAttributesWithElement([],null)},e.prototype.appendStringWithAttributes=function(t,e){return this.appendPiece(h(t,e))},e.prototype.appendAttachmentWithAttributes=function(t,e){return this.appendPiece(l(t,e))},e.prototype.appendPiece=function(t){return 0===this.blocks.length&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(t)},e.prototype.appendStringToTextAtIndex=function(t,e){var n,i;return"string"===(null!=(n=(i=this.blocks[e].text)[i.length-1])?n.type:void 0)?n.string+=t:i.push(h(t))},e.prototype.prependStringToTextAtIndex=function(t,e){var n,i;return"string"===(null!=(n=(i=this.blocks[e].text)[0])?n.type:void 0)?n.string=t+n.string:i.unshift(h(t))},h=function(t,e){var n;return null==e&&(e={}),n="string",{string:t=S(t),attributes:e,type:n}},l=function(t,e){return null==e&&(e={}),{attachment:t,attributes:e,type:"attachment"}},i=function(t){return null==t&&(t={}),{text:[],attributes:t}},e.prototype.getTextAttributes=function(t){var e,n,i,r,o,s,a,u,c,l,h,p,d;for(e in i={},l=O.config.textAttributes)if((o=l[e]).tagName&&A(t,{matchingSelector:o.tagName,untilNode:this.containerElement}))i[e]=!0;else if(o.parser&&(d=o.parser(t))){for(n=!1,s=0,c=(h=this.findBlockElementAncestors(t)).length;s<c;s++)if(r=h[s],o.parser(r)===d){n=!0;break}n||(i[e]=d)}if(C(t)&&(a=t.getAttribute("data-trix-attributes")))for(u in p=JSON.parse(a))d=p[u],i[u]=d;return i},e.prototype.getBlockAttributes=function(t){var e,n,i,r;for(n=[];t&&t!==this.containerElement;){for(e in r=O.config.blockAttributes)!1!==(i=r[e]).parse&&x(t)===i.tagName&&(("function"==typeof i.test?i.test(t):void 0)||!i.test)&&(n.push(e),i.listAttribute&&n.push(i.listAttribute));t=t.parentNode}return n.reverse()},e.prototype.findBlockElementAncestors=function(t){var e,n;for(e=[];t&&t!==this.containerElement;)n=x(t),0<=k.call(E(),n)&&e.push(t),t=t.parentNode;return e},s=function(t){return JSON.parse(t.getAttribute("data-trix-attachment"))},a=function(t){var e,n,i;return i=t.getAttribute("width"),n=t.getAttribute("height"),e={},i&&(e.width=parseInt(i,10)),n&&(e.height=parseInt(n,10)),e},e.prototype.isBlockElement=function(t){var e;if((null!=t?t.nodeType:void 0)===Node.ELEMENT_NODE&&!A(t,{matchingSelector:"td",untilNode:this.containerElement}))return e=x(t),0<=k.call(E(),e)||"block"===window.getComputedStyle(t).display},e.prototype.isInsignificantTextNode=function(t){return(null!=t?t.nodeType:void 0)===Node.TEXT_NODE&&m(t.data)&&!r(t.parentNode)?!t.previousSibling||this.isBlockElement(t.previousSibling)||!t.nextSibling||this.isBlockElement(t.nextSibling):void 0},e.prototype.isExtraBR=function(t){return"br"===x(t)&&this.isBlockElement(t.parentNode)&&t.parentNode.lastChild===t},r=function(t){var e;return"pre"===(e=window.getComputedStyle(t).whiteSpace)||"pre-wrap"===e||"pre-line"===e},e.prototype.translateBlockElementMarginsToNewlines=function(){var t,e,n,i,r,o,s;for(t=this.getMarginOfDefaultBlockElement(),s=[],n=e=0,i=(o=this.blocks).length;e<i;n=++e)o[n],(r=this.getMarginOfBlockElementAtIndex(n))&&(r.top>2*t.top&&this.prependStringToTextAtIndex("\n",n),s.push(r.bottom>2*t.bottom?this.appendStringToTextAtIndex("\n",n):void 0));return s},e.prototype.getMarginOfBlockElementAtIndex=function(t){var e,n;return!(e=this.blockElements[t])||(n=x(e),0<=k.call(E(),n)||0<=k.call(this.processedElements,e))?void 0:o(e)},e.prototype.getMarginOfDefaultBlockElement=function(){var t;return t=w(O.config.blockAttributes["default"].tagName),this.containerElement.appendChild(t),o(t)},o=function(t){var e;return"block"===(e=window.getComputedStyle(t)).display?{top:parseInt(e.marginTop),bottom:parseInt(e.marginBottom)}:void 0},n=RegExp("[^\\S"+O.NON_BREAKING_SPACE+"]"),d=function(t){return t.replace(RegExp(""+n.source,"g")," ").replace(/\ {2,}/g," ")},u=function(t){return t.replace(RegExp("^"+n.source+"+"),"")},m=function(t){return RegExp("^"+n.source+"*$").test(t)},f=function(t){return/\s$/.test(t)},e}(O.BasicObject)}.call(this),function(){var f,a,b,A,n=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty,p=[].slice,d=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};f=O.arraysAreEqual,b=O.normalizeRange,A=O.rangeIsCollapsed,a=O.getBlockConfig,O.Document=function(t){function e(t){
null==t&&(t=[]),e.__super__.constructor.apply(this,arguments),0===t.length&&(t=[new O.Block]),this.blockList=O.SplittableList.box(t)}var h;return n(e,t),e.fromJSON=function(i){var r;return new this(function(){var t,e,n;for(n=[],t=0,e=i.length;t<e;t++)r=i[t],n.push(O.Block.fromJSON(r));return n}())},e.fromHTML=function(t,e){return O.HTMLParser.parse(t,e).getDocument()},e.fromString=function(t,e){var n;return n=O.Text.textForStringWithAttributes(t,e),new this([new O.Block(n)])},e.prototype.isEmpty=function(){var t;return 1===this.blockList.length&&((t=this.getBlockAtIndex(0)).isEmpty()&&!t.hasAttributes())},e.prototype.copy=function(t){var e;return null==t&&(t={}),e=t.consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray(),new this.constructor(e)},e.prototype.copyUsingObjectsFromDocument=function(t){var e;return e=new O.ObjectMap(t.getObjects()),this.copyUsingObjectMap(e)},e.prototype.copyUsingObjectMap=function(r){var o,t,s;return t=function(){var t,e,n,i;for(i=[],t=0,e=(n=this.getBlocks()).length;t<e;t++)o=n[t],i.push((s=r.find(o))?s:o.copyUsingObjectMap(r));return i}.call(this),new this.constructor(t)},e.prototype.copyWithBaseBlockAttributes=function(r){var o,s,t;return null==r&&(r=[]),t=function(){var t,e,n,i;for(i=[],t=0,e=(n=this.getBlocks()).length;t<e;t++)s=n[t],o=r.concat(s.getAttributes()),i.push(s.copyWithAttributes(o));return i}.call(this),new this.constructor(t)},e.prototype.replaceBlock=function(t,e){var n;return-1===(n=this.blockList.indexOf(t))?this:new this.constructor(this.blockList.replaceObjectAtIndex(e,n))},e.prototype.insertDocumentAtRange=function(t,e){var n,i,r,o,s,a,u;return i=t.blockList,s=(e=b(e))[0],r=(a=this.locationFromPosition(s)).index,o=a.offset,n=(u=this).getBlockAtPosition(s),A(e)&&n.isEmpty()&&!n.hasAttributes()?u=new this.constructor(u.blockList.removeObjectAtIndex(r)):n.getBlockBreakPosition()===o&&s++,u=u.removeTextAtRange(e),new this.constructor(u.blockList.insertSplittableListAtPosition(i,s))},e.prototype.mergeDocumentAtRange=function(t,e){var n,i,r,o,s,a,u,c,l,h,p,d;return p=(e=b(e))[0],h=this.locationFromPosition(p),i=this.getBlockAtIndex(h.index).getAttributes(),n=t.getBaseBlockAttributes(),d=i.slice(-n.length),f(n,d)?(u=i.slice(0,-n.length),a=t.copyWithBaseBlockAttributes(u)):a=t.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(i),r=a.getBlockCount(),o=a.getBlockAtIndex(0),f(i,o.getAttributes())?(s=o.getTextWithoutBlockBreak(),l=this.insertTextAtRange(s,e),1<r&&(a=new this.constructor(a.getBlocks().slice(1)),c=p+s.getLength(),l=l.insertDocumentAtRange(a,c))):l=this.insertDocumentAtRange(a,e),l},e.prototype.insertTextAtRange=function(e,t){var n,i,r,o,s;return s=(t=b(t))[0],i=(o=this.locationFromPosition(s)).index,r=o.offset,n=this.removeTextAtRange(t),new this.constructor(n.blockList.editObjectAtIndex(i,function(t){return t.copyWithText(t.text.insertTextAtPosition(e,r))}))},e.prototype.removeTextAtRange=function(t){var e,n,i,r,o,s,a,u,c,l,h,p,d,f,m,g,y,v;return u=(l=t=b(t))[0],g=l[1],A(t)?this:(s=(h=this.locationRangeFromRange(t))[0],f=h[1],o=s.index,a=s.offset,r=this.getBlockAtIndex(o),d=f.index,m=f.offset,p=this.getBlockAtIndex(d),g-u==1&&r.getBlockBreakPosition()===a&&p.getBlockBreakPosition()!==m&&"\n"===p.text.getStringAtPosition(m)?i=this.blockList.editObjectAtIndex(d,function(t){return t.copyWithText(t.text.removeTextAtRange([m,m+1]))}):(c=r.text.getTextAtRange([0,a]),y=p.text.getTextAtRange([m,p.getLength()]),v=c.appendText(y),n=o!==d&&0===a&&r.getAttributeLevel()>=p.getAttributeLevel()?p.copyWithText(v):r.copyWithText(v),e=d+1-o,i=this.blockList.splice(o,e,n)),new this.constructor(i))},e.prototype.moveTextFromRangeToPosition=function(t,e){var n,i,r,o,s,a,u,c,l,h;if(l=(a=t=b(t))[0],r=a[1],l<=e&&e<=r)return this;if(i=this.getDocumentAtRange(t),c=this.removeTextAtRange(t),(s=l<e)&&(e-=i.getLength()),!c.firstBlockInRangeIsEntirelySelected(t)){if(o=(u=i.getBlocks())[0],0===(n=2<=u.length?p.call(u,1):[]).length?(h=o.getTextWithoutBlockBreak(),s&&(e+=1)):h=o.text,c=c.insertTextAtRange(h,e),0===n.length)return c;i=new this.constructor(n),e+=h.getLength()}return c.insertDocumentAtRange(i,e)},e.prototype.addAttributeAtRange=function(i,r,t){var o;return o=this.blockList,this.eachBlockAtRange(t,function(t,e,n){return o=o.editObjectAtIndex(n,function(){return a(i)?t.addAttribute(i,r):e[0]===e[1]?t:t.copyWithText(t.text.addAttributeAtRange(i,r,e))})}),new this.constructor(o)},e.prototype.addAttribute=function(n,i){var r;return r=this.blockList,this.eachBlock(function(t,e){return r=r.editObjectAtIndex(e,function(){return t.addAttribute(n,i)})}),new this.constructor(r)},e.prototype.removeAttributeAtRange=function(i,t){var r;return r=this.blockList,this.eachBlockAtRange(t,function(t,e,n){return a(i)?r=r.editObjectAtIndex(n,function(){return t.removeAttribute(i)}):e[0]!==e[1]?r=r.editObjectAtIndex(n,function(){return t.copyWithText(t.text.removeAttributeAtRange(i,e))}):void 0}),new this.constructor(r)},e.prototype.updateAttributesForAttachment=function(e,n){var t,i,r;return i=this.getRangeOfAttachment(n)[0],t=this.locationFromPosition(i).index,r=this.getTextAtIndex(t),new this.constructor(this.blockList.editObjectAtIndex(t,function(t){return t.copyWithText(r.updateAttributesForAttachment(e,n))}))},e.prototype.removeAttributeForAttachment=function(t,e){var n;return n=this.getRangeOfAttachment(e),this.removeAttributeAtRange(t,n)},e.prototype.insertBlockBreakAtRange=function(t){var e,n,i,r;return r=(t=b(t))[0],i=this.locationFromPosition(r).offset,n=this.removeTextAtRange(t),0===i&&(e=[new O.Block]),new this.constructor(n.blockList.insertSplittableListAtPosition(new O.SplittableList(e),r))},e.prototype.applyBlockAttributeAtRange=function(t,e,n){var i,r,o,s;return r=(o=this.expandRangeToLineBreaksAndSplitBlocks(n)).document,n=o.range,(i=a(t)).listAttribute?(r=(s=(r=r.removeLastListAttributeAtRange(n,{exceptAttributeName:t})).convertLineBreaksToBlockBreaksInRange(n)).document,n=s.range):r=i.terminal?r.removeLastTerminalAttributeAtRange(n):r.consolidateBlocksAtRange(n),r.addAttributeAtRange(t,e,n)},e.prototype.removeLastListAttributeAtRange=function(t,r){var o;return null==r&&(r={}),o=this.blockList,this.eachBlockAtRange(t,function(t,e,n){var i;if((i=t.getLastAttribute())&&a(i).listAttribute&&i!==r.exceptAttributeName)return o=o.editObjectAtIndex(n,function(){return t.removeAttribute(i)})}),new this.constructor(o)},e.prototype.removeLastTerminalAttributeAtRange=function(t){var r;return r=this.blockList,this.eachBlockAtRange(t,function(t,e,n){var i;if((i=t.getLastAttribute())&&a(i).terminal)return r=r.editObjectAtIndex(n,function(){return t.removeAttribute(i)})}),new this.constructor(r)},e.prototype.firstBlockInRangeIsEntirelySelected=function(t){var e,n,i,r,o,s;return s=(r=t=b(t))[0],e=r[1],n=this.locationFromPosition(s),o=this.locationFromPosition(e),0===n.offset&&n.index<o.index||n.index===o.index&&(i=this.getBlockAtIndex(n.index).getLength(),0===n.offset&&o.offset===i)},e.prototype.expandRangeToLineBreaksAndSplitBlocks=function(t){var e,n,i,r,o,s,a,u,c;return c=(s=t=b(t))[0],r=s[1],u=this.locationFromPosition(c),i=this.locationFromPosition(r),a=(e=this).getBlockAtIndex(u.index),null!=(u.offset=a.findLineBreakInDirectionFromPosition("backward",u.offset))&&(o=e.positionFromLocation(u),e=e.insertBlockBreakAtRange([o,o+1]),i.index+=1,i.offset-=e.getBlockAtIndex(u.index).getLength(),u.index+=1),(u.offset=0)===i.offset&&i.index>u.index?(i.index-=1,i.offset=e.getBlockAtIndex(i.index).getBlockBreakPosition()):("\n"===(n=e.getBlockAtIndex(i.index)).text.getStringAtRange([i.offset-1,i.offset])?i.offset-=1:i.offset=n.findLineBreakInDirectionFromPosition("forward",i.offset),i.offset!==n.getBlockBreakPosition()&&(o=e.positionFromLocation(i),e=e.insertBlockBreakAtRange([o,o+1]))),c=e.positionFromLocation(u),r=e.positionFromLocation(i),{document:e,range:t=b([c,r])}},e.prototype.convertLineBreaksToBlockBreaksInRange=function(t){var e,n,i;return n=(t=b(t))[0],i=this.getStringAtRange(t).slice(0,-1),e=this,i.replace(/.*?\n/g,function(t){return n+=t.length,e=e.insertBlockBreakAtRange([n-1,n])}),{document:e,range:t}},e.prototype.consolidateBlocksAtRange=function(t){var e,n,i,r,o;return o=(i=t=b(t))[0],n=i[1],r=this.locationFromPosition(o).index,e=this.locationFromPosition(n).index,new this.constructor(this.blockList.consolidateFromIndexToIndex(r,e))},e.prototype.getDocumentAtRange=function(t){var e;return t=b(t),e=this.blockList.getSplittableListInRange(t).toArray(),new this.constructor(e)},e.prototype.getStringAtRange=function(t){return this.getDocumentAtRange(t).toString()},e.prototype.getBlockAtIndex=function(t){return this.blockList.getObjectAtIndex(t)},e.prototype.getBlockAtPosition=function(t){var e;return e=this.locationFromPosition(t).index,this.getBlockAtIndex(e)},e.prototype.getTextAtIndex=function(t){var e;return null!=(e=this.getBlockAtIndex(t))?e.text:void 0},e.prototype.getTextAtPosition=function(t){var e;return e=this.locationFromPosition(t).index,this.getTextAtIndex(e)},e.prototype.getPieceAtPosition=function(t){var e,n,i;return e=(i=this.locationFromPosition(t)).index,n=i.offset,this.getTextAtIndex(e).getPieceAtPosition(n)},e.prototype.getCharacterAtPosition=function(t){var e,n,i;return e=(i=this.locationFromPosition(t)).index,n=i.offset,this.getTextAtIndex(e).getStringAtRange([n,n+1])},e.prototype.getLength=function(){return this.blockList.getEndPosition()},e.prototype.getBlocks=function(){return this.blockList.toArray()},e.prototype.getBlockCount=function(){return this.blockList.length},e.prototype.getEditCount=function(){return this.editCount},e.prototype.eachBlock=function(t){return this.blockList.eachObject(t)},e.prototype.eachBlockAtRange=function(t,e){var n,i,r,o,s,a,u,c,l,h,p,d;if(p=(a=t=b(t))[0],r=a[1],h=this.locationFromPosition(p),i=this.locationFromPosition(r),h.index===i.index)return n=this.getBlockAtIndex(h.index),d=[h.offset,i.offset],e(n,d,h.index);for(l=[],s=o=u=h.index,c=i.index;u<=c?o<=c:c<=o;s=u<=c?++o:--o)(n=this.getBlockAtIndex(s))?(d=function(){switch(s){case h.index:return[h.offset,n.text.getLength()];case i.index:return[0,i.offset];default:return[0,n.text.getLength()]}}(),l.push(e(n,d,s))):l.push(void 0);return l},e.prototype.getCommonAttributesAtRange=function(t){var n,e,i;return e=(t=b(t))[0],A(t)?this.getCommonAttributesAtPosition(e):(i=[],n=[],this.eachBlockAtRange(t,function(t,e){return e[0]!==e[1]?(i.push(t.text.getCommonAttributesAtRange(e)),n.push(h(t))):void 0}),O.Hash.fromCommonAttributesOfObjects(i).merge(O.Hash.fromCommonAttributesOfObjects(n)).toObject())},e.prototype.getCommonAttributesAtPosition=function(t){var e,n,i,r,o,s,a,u,c,l;if(o=(c=this.locationFromPosition(t)).index,u=c.offset,!(i=this.getBlockAtIndex(o)))return{};for(a in r=h(i),e=i.text.getAttributesAtPosition(u),n=i.text.getAttributesAtPosition(u-1),s=function(){var t,e;for(a in e=[],t=O.config.textAttributes)(l=t[a]).inheritable&&e.push(a);return e}(),n)((l=n[a])===e[a]||0<=d.call(s,a))&&(r[a]=l);return r},e.prototype.getRangeOfCommonAttributeAtPosition=function(t,e){var n,i,r,o,s,a,u,c;return r=(s=this.locationFromPosition(e)).index,o=s.offset,c=(a=this.getTextAtIndex(r).getExpandedRangeForAttributeAtOffset(t,o))[0],i=a[1],u=this.positionFromLocation({index:r,offset:c}),n=this.positionFromLocation({index:r,offset:i}),b([u,n])},e.prototype.getBaseBlockAttributes=function(){var i,r,t,e,o,s,n;for(i=this.getBlockAtIndex(0).getAttributes(),t=e=1,n=this.getBlockCount();1<=n?e<n:n<e;t=1<=n?++e:--e)r=this.getBlockAtIndex(t).getAttributes(),s=Math.min(i.length,r.length),i=function(){var t,e,n;for(n=[],o=t=0,e=s;(0<=e?t<e:e<t)&&r[o]===i[o];o=0<=e?++t:--t)n.push(r[o]);return n}();return i},h=function(t){var e,n;return n={},(e=t.getLastAttribute())&&(n[e]=!0),n},e.prototype.getAttachmentById=function(t){var e,n,i,r;for(n=0,i=(r=this.getAttachments()).length;n<i;n++)if((e=r[n]).id===t)return e},e.prototype.getAttachmentPieces=function(){var n;return n=[],this.blockList.eachObject(function(t){var e;return e=t.text,n=n.concat(e.getAttachmentPieces())}),n},e.prototype.getAttachments=function(){var t,e,n,i,r;for(r=[],t=0,e=(i=this.getAttachmentPieces()).length;t<e;t++)n=i[t],r.push(n.attachment);return r},e.prototype.getRangeOfAttachment=function(t){var e,n,i,r,o,s,a;for(n=e=r=0,i=(o=this.blockList.toArray()).length;e<i;n=++e){if(a=(s=o[n].text).getRangeOfAttachment(t))return b([r+a[0],r+a[1]]);r+=s.getLength()}},e.prototype.getLocationRangeOfAttachment=function(t){var e;return e=this.getRangeOfAttachment(t),this.locationRangeFromRange(e)},e.prototype.getAttachmentPieceForAttachment=function(t){var e,n,i,r;for(e=0,n=(r=this.getAttachmentPieces()).length;e<n;e++)if((i=r[e]).attachment===t)return i},e.prototype.locationFromPosition=function(t){var e,n;return null!=(n=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,t))).index?n:{index:(e=this.getBlocks()).length-1,offset:e[e.length-1].getLength()}},e.prototype.positionFromLocation=function(t){return this.blockList.findPositionAtIndexAndOffset(t.index,t.offset)},e.prototype.locationRangeFromPosition=function(t){return b(this.locationFromPosition(t))},e.prototype.locationRangeFromRange=function(t){var e,n,i,r;if(t=b(t))return r=t[0],n=t[1],i=this.locationFromPosition(r),e=this.locationFromPosition(n),b([i,e])},e.prototype.rangeFromLocationRange=function(t){var e,n;return t=b(t),e=this.positionFromLocation(t[0]),A(t)||(n=this.positionFromLocation(t[1])),b([e,n])},e.prototype.isEqualTo=function(t){return this.blockList.isEqualTo(null!=t?t.blockList:void 0)},e.prototype.getTexts=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getBlocks()).length;e<n;e++)t=i[e],r.push(t.text);return r},e.prototype.getPieces=function(){var t,e,n,i,r;for(n=[],t=0,e=(i=this.getTexts()).length;t<e;t++)r=i[t],n.push.apply(n,r.getPieces());return n},e.prototype.getObjects=function(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())},e.prototype.toSerializableDocument=function(){var e;return e=[],this.blockList.eachObject(function(t){return e.push(t.copyWithText(t.text.toSerializableText()))}),new this.constructor(e)},e.prototype.toString=function(){return this.blockList.toString()},e.prototype.toJSON=function(){return this.blockList.toJSON()},e.prototype.toConsole=function(){var r;return JSON.stringify(function(){var t,e,n,i;for(i=[],t=0,e=(n=this.blockList.toArray()).length;t<e;t++)r=n[t],i.push(JSON.parse(r.text.toConsole()));return i}.call(this))},e}(O.Object)}.call(this),function(){O.LineBreakInsertion=function(){function t(t){var e;this.composition=t,this.document=this.composition.document,e=this.composition.getSelectedRange(),this.startPosition=e[0],this.endPosition=e[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}return t.prototype.shouldInsertBlockBreak=function(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?0!==this.startLocation.offset:this.breaksOnReturn&&"\n"!==this.nextCharacter},t.prototype.shouldBreakFormattedBlock=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&"\n"===this.nextCharacter||"\n"===this.previousCharacter)},t.prototype.shouldDecreaseListLevel=function(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()},t.prototype.shouldPrependListItem=function(){return this.block.isListItem()&&0===this.startLocation.offset&&!this.block.isEmpty()},t.prototype.shouldRemoveLastBlockAttribute=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()},t}()}.call(this),function(){var i,r,s,o,a,u,c,l,h,p,d=function(t,e){function n(){this.constructor=t}for(var i in e)f.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},f={}.hasOwnProperty;u=O.normalizeRange,h=O.rangesAreEqual,l=O.rangeIsCollapsed,c=O.objectsAreEqual,i=O.arrayStartsWith,p=O.summarizeArrayChange,s=O.getAllAttributeNames,o=O.getBlockConfig,a=O.getTextConfig,r=O.extend,O.Composition=function(t){function e(){this.document=new O.Document,this.attachments=[],this.currentAttributes={},this.revision=0}var n;return d(e,t),e.prototype.setDocument=function(t){var e;return t.isEqualTo(this.document)?void 0:(this.document=t,this.refreshAttachments(),this.revision++,null!=(e=this.delegate)&&"function"==typeof e.compositionDidChangeDocument?e.compositionDidChangeDocument(t):void 0)},e.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.getSelectedRange()}},e.prototype.loadSnapshot=function(t){var e,n,i,r;return e=t.document,r=t.selectedRange,null!=(n=this.delegate)&&"function"==typeof n.compositionWillLoadSnapshot&&n.compositionWillLoadSnapshot(),this.setDocument(null!=e?e:new O.Document),this.setSelection(null!=r?r:[0,0]),null!=(i=this.delegate)&&"function"==typeof i.compositionDidLoadSnapshot?i.compositionDidLoadSnapshot():void 0},e.prototype.insertText=function(t,e){var n,i,r,o;return o=(null!=e?e:{updatePosition:!0}).updatePosition,i=this.getSelectedRange(),this.setDocument(this.document.insertTextAtRange(t,i)),n=(r=i[0])+t.getLength(),o&&this.setSelection(n),this.notifyDelegateOfInsertionAtRange([r,n])},e.prototype.insertBlock=function(t){var e;return null==t&&(t=new O.Block),e=new O.Document([t]),this.insertDocument(e)},e.prototype.insertDocument=function(t){var e,n,i;return null==t&&(t=new O.Document),n=this.getSelectedRange(),this.setDocument(this.document.insertDocumentAtRange(t,n)),e=(i=n[0])+t.getLength(),this.setSelection(e),this.notifyDelegateOfInsertionAtRange([i,e])},e.prototype.insertString=function(t,e){var n,i;return n=this.getCurrentTextAttributes(),i=O.Text.textForStringWithAttributes(t,n),this.insertText(i,e)},e.prototype.insertBlockBreak=function(){var t,e,n;return e=this.getSelectedRange(),this.setDocument(this.document.insertBlockBreakAtRange(e)),t=(n=e[0])+1,this.setSelection(t),this.notifyDelegateOfInsertionAtRange([n,t])},e.prototype.insertLineBreak=function(){var t,e;return(e=new O.LineBreakInsertion(this)).shouldDecreaseListLevel()?(this.decreaseListLevel(),this.setSelection(e.startPosition)):e.shouldPrependListItem()?(t=new O.Document([e.block.copyWithoutText()]),this.insertDocument(t)):e.shouldInsertBlockBreak()?this.insertBlockBreak():e.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():e.shouldBreakFormattedBlock()?this.breakFormattedBlock(e):this.insertString("\n")},e.prototype.insertHTML=function(t){var e,n,i,r;return r=this.getPosition(),i=this.document.getLength(),e=O.Document.fromHTML(t),this.setDocument(this.document.mergeDocumentAtRange(e,this.getSelectedRange())),n=r+(this.document.getLength()-i),this.setSelection(n),this.notifyDelegateOfInsertionAtRange([n,n])},e.prototype.replaceHTML=function(t){var e,n,i;return e=O.Document.fromHTML(t).copyUsingObjectsFromDocument(this.document),n=this.getLocationRange({strict:!1}),i=this.document.rangeFromLocationRange(n),this.setDocument(e),this.setSelection(i)},e.prototype.insertFile=function(t){var e,n;return(null!=(n=this.delegate)?n.compositionShouldAcceptFile(t):void 0)?(e=O.Attachment.attachmentForFile(t),this.insertAttachment(e)):void 0},e.prototype.insertFiles=function(t){var e,n,i,r,o,s,a;for(a=new O.Text,r=0,o=t.length;r<o;r++)i=t[r],(null!=(s=this.delegate)?s.compositionShouldAcceptFile(i):void 0)&&(e=O.Attachment.attachmentForFile(i),n=O.Text.textForAttachmentWithAttributes(e,this.currentAttributes),a=a.appendText(n));return this.insertText(a)},e.prototype.insertAttachment=function(t){var e;return e=O.Text.textForAttachmentWithAttributes(t,this.currentAttributes),this.insertText(e)},e.prototype.deleteInDirection=function(t){var e,n,i,r,o,s,a;return r=this.getLocationRange(),o=this.getSelectedRange(),(s=l(o))?i="backward"===t&&0===r[0].offset:a=r[0].index!==r[1].index,!(i&&this.canDecreaseBlockAttributeLevel()&&((n=this.getBlock()).isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(o[0]),n.isEmpty()))&&(s&&(o=this.getExpandedRangeInDirection(t),"backward"===t&&(e=this.getAttachmentAtRange(o))),e?(this.editAttachment(e),!1):(this.setDocument(this.document.removeTextAtRange(o)),this.setSelection(o[0]),!i&&!a&&void 0))},e.prototype.moveTextFromRange=function(t){var e;return e=this.getSelectedRange()[0],this.setDocument(this.document.moveTextFromRangeToPosition(t,e)),this.setSelection(e)},e.prototype.removeAttachment=function(t){var e;return(e=this.document.getRangeOfAttachment(t))?(this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(e)),this.setSelection(e[0])):void 0},e.prototype.removeLastBlockAttribute=function(){var t,e,n,i;return i=(n=this.getSelectedRange())[0],e=n[1],t=this.document.getBlockAtPosition(e),this.removeCurrentAttribute(t.getLastAttribute()),this.setSelection(i)},n=" ",e.prototype.insertPlaceholder=function(){return this.placeholderPosition=this.getPosition(),this.insertString(n)},e.prototype.selectPlaceholder=function(){return null!=this.placeholderPosition?(this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+n.length]),this.getSelectedRange()):void 0},e.prototype.forgetPlaceholder=function(){return this.placeholderPosition=null},e.prototype.hasCurrentAttribute=function(t){var e;return null!=(e=this.currentAttributes[t])&&!1!==e},e.prototype.toggleCurrentAttribute=function(t){var e;return(e=!this.currentAttributes[t])?this.setCurrentAttribute(t,e):this.removeCurrentAttribute(t)},e.prototype.canSetCurrentAttribute=function(t){return o(t)?this.canSetCurrentBlockAttribute(t):this.canSetCurrentTextAttribute(t)},e.prototype.canSetCurrentTextAttribute=function(t){switch(t){case"href":return!this.selectionContainsAttachmentWithAttribute(t);default:return!0}},e.prototype.canSetCurrentBlockAttribute=function(){var t;if(t=this.getBlock())return!t.isTerminalBlock()},e.prototype.setCurrentAttribute=function(t,e){return o(t)?this.setBlockAttribute(t,e):(this.setTextAttribute(t,e),this.currentAttributes[t]=e,this.notifyDelegateOfCurrentAttributesChange())},e.prototype.setTextAttribute=function(t,e){var n,i;if(n=this.getSelectedRange())return n[0]!==n[1]?this.setDocument(this.document.addAttributeAtRange(t,e,n)):"href"===t?(i=O.Text.textForStringWithAttributes(e,{href:e}),this.insertText(i)):void 0},e.prototype.setBlockAttribute=function(t,e){var n;if(n=this.getSelectedRange())return this.canSetCurrentAttribute(t)?(this.getBlock(),this.setDocument(this.document.applyBlockAttributeAtRange(t,e,n)),this.setSelection(n)):void 0},e.prototype.removeCurrentAttribute=function(t){return o(t)?(this.removeBlockAttribute(t),this.updateCurrentAttributes()):(this.removeTextAttribute(t),delete this.currentAttributes[t],this.notifyDelegateOfCurrentAttributesChange())},e.prototype.removeTextAttribute=function(t){var e;if(e=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(t,e))},e.prototype.removeBlockAttribute=function(t){var e;if(e=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(t,e))},e.prototype.canDecreaseNestingLevel=function(){var t;return 0<(null!=(t=this.getBlock())?t.getNestingLevel():void 0)},e.prototype.canIncreaseNestingLevel=function(){var t,e,n;if(t=this.getBlock())return null!=(n=o(t.getLastNestableAttribute()))&&n.listAttribute?(e=this.getPreviousBlock())?i(e.getListItemAttributes(),t.getListItemAttributes()):void 0:0<t.getNestingLevel()},e.prototype.decreaseNestingLevel=function(){var t;if(t=this.getBlock())return this.setDocument(this.document.replaceBlock(t,t.decreaseNestingLevel()))},e.prototype.increaseNestingLevel=function(){var t;if(t=this.getBlock())return this.setDocument(this.document.replaceBlock(t,t.increaseNestingLevel()))},e.prototype.canDecreaseBlockAttributeLevel=function(){var t;return 0<(null!=(t=this.getBlock())?t.getAttributeLevel():void 0)},e.prototype.decreaseBlockAttributeLevel=function(){var t,e;return(t=null!=(e=this.getBlock())?e.getLastAttribute():void 0)?this.removeCurrentAttribute(t):void 0},e.prototype.decreaseListLevel=function(){var t,e,n,i,r,o;for(o=this.getSelectedRange()[0],n=r=this.document.locationFromPosition(o).index,t=this.getBlock().getAttributeLevel();(e=this.document.getBlockAtIndex(n+1))&&e.isListItem()&&e.getAttributeLevel()>t;)n++;return o=this.document.positionFromLocation({index:r,offset:0}),i=this.document.positionFromLocation({index:n,offset:0}),this.setDocument(this.document.removeLastListAttributeAtRange([o,i]))},e.prototype.updateCurrentAttributes=function(){var t,e,n,i,r,o;if(o=this.getSelectedRange({ignoreLock:!0})){for(e=this.document.getCommonAttributesAtRange(o),n=0,i=(r=s()).length;n<i;n++)e[t=r[n]]||this.canSetCurrentAttribute(t)||(e[t]=!1);if(!c(e,this.currentAttributes))return this.currentAttributes=e,this.notifyDelegateOfCurrentAttributesChange()}},e.prototype.getCurrentAttributes=function(){return r.call({},this.currentAttributes)},e.prototype.getCurrentTextAttributes=function(){var t,e,n,i;for(e in t={},n=this.currentAttributes)i=n[e],a(e)&&(t[e]=i);return t},e.prototype.freezeSelection=function(){return this.setCurrentAttribute("frozen",!0)},e.prototype.thawSelection=function(){return this.removeCurrentAttribute("frozen")},e.prototype.hasFrozenSelection=function(){return this.hasCurrentAttribute("frozen")},e.proxyMethod("getSelectionManager().getPointRange"),e.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),e.proxyMethod("getSelectionManager().locationIsCursorTarget"),e.proxyMethod("getSelectionManager().selectionIsExpanded"),e.proxyMethod("delegate?.getSelectionManager"),e.prototype.setSelection=function(t){var e,n;return e=this.document.locationRangeFromRange(t),null!=(n=this.delegate)?n.compositionDidRequestChangingSelectionToLocationRange(e):void 0},e.prototype.getSelectedRange=function(){var t;return(t=this.getLocationRange())?this.document.rangeFromLocationRange(t):void 0},e.prototype.setSelectedRange=function(t){var e;return e=this.document.locationRangeFromRange(t),this.getSelectionManager().setLocationRange(e)},e.prototype.getPosition=function(){var t;return(t=this.getLocationRange())?this.document.positionFromLocation(t[0]):void 0},e.prototype.getLocationRange=function(t){var e;return null!=(e=this.getSelectionManager().getLocationRange(t))?e:u({index:0,offset:0})},e.prototype.getExpandedRangeInDirection=function(t){var e,n,i;return i=(n=this.getSelectedRange())[0],e=n[1],"backward"===t?i=this.translateUTF16PositionFromOffset(i,-1):e=this.translateUTF16PositionFromOffset(e,1),u([i,e])},e.prototype.moveCursorInDirection=function(t){var e,n,i,r;return this.editingAttachment?i=this.document.getRangeOfAttachment(this.editingAttachment):(r=this.getSelectedRange(),i=this.getExpandedRangeInDirection(t),n=!h(r,i)),this.setSelectedRange("backward"===t?i[0]:i[1]),n&&(e=this.getAttachmentAtRange(i))?this.editAttachment(e):void 0},e.prototype.expandSelectionInDirection=function(t){var e;return e=this.getExpandedRangeInDirection(t),this.setSelectedRange(e)},e.prototype.expandSelectionForEditing=function(){return this.hasCurrentAttribute("href")?this.expandSelectionAroundCommonAttribute("href"):void 0},e.prototype.expandSelectionAroundCommonAttribute=function(t){var e,n;return e=this.getPosition(),n=this.document.getRangeOfCommonAttributeAtPosition(t,e),this.setSelectedRange(n)},e.prototype.selectionContainsAttachmentWithAttribute=function(t){var e,n,i,r;if(r=this.getSelectedRange()){for(e=0,n=(i=this.document.getDocumentAtRange(r).getAttachments()).length;e<n;e++)if(i[e].hasAttribute(t))return!0;return!1}},e.prototype.selectionIsInCursorTarget=function(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())},e.prototype.positionIsCursorTarget=function(t){var e;return(e=this.document.locationFromPosition(t))?this.locationIsCursorTarget(e):void 0},e.prototype.positionIsBlockBreak=function(t){var e;return null!=(e=this.document.getPieceAtPosition(t))?e.isBlockBreak():void 0},e.prototype.getSelectedDocument=function(){var t;return(t=this.getSelectedRange())?this.document.getDocumentAtRange(t):void 0},e.prototype.getAttachments=function(){return this.attachments.slice(0)},e.prototype.refreshAttachments=function(){var t,e,n,i,r,o,s,a,u,c,l,h;for(n=this.document.getAttachments(),t=(a=p(this.attachments,n)).added,l=a.removed,this.attachments=n,i=0,o=l.length;i<o;i++)((e=l[i]).delegate=null)!=(u=this.delegate)&&"function"==typeof u.compositionDidRemoveAttachment&&u.compositionDidRemoveAttachment(e);for(h=[],r=0,s=t.length;r<s;r++)(e=t[r]).delegate=this,h.push(null!=(c=this.delegate)&&"function"==typeof c.compositionDidAddAttachment?c.compositionDidAddAttachment(e):void 0);return h},e.prototype.attachmentDidChangeAttributes=function(t){var e;return this.revision++,null!=(e=this.delegate)&&"function"==typeof e.compositionDidEditAttachment?e.compositionDidEditAttachment(t):void 0},e.prototype.attachmentDidChangePreviewURL=function(t){var e;return this.revision++,null!=(e=this.delegate)&&"function"==typeof e.compositionDidChangeAttachmentPreviewURL?e.compositionDidChangeAttachmentPreviewURL(t):void 0},e.prototype.editAttachment=function(t){var e;if(t!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=t,null!=(e=this.delegate)&&"function"==typeof e.compositionDidStartEditingAttachment?e.compositionDidStartEditingAttachment(this.editingAttachment):void 0},e.prototype.stopEditingAttachment=function(){var t;if(this.editingAttachment)return null!=(t=this.delegate)&&"function"==typeof t.compositionDidStopEditingAttachment&&t.compositionDidStopEditingAttachment(this.editingAttachment),this.editingAttachment=null},e.prototype.canEditAttachmentCaption=function(){var t;return null!=(t=this.editingAttachment)?t.isPreviewable():void 0},e.prototype.updateAttributesForAttachment=function(t,e){return this.setDocument(this.document.updateAttributesForAttachment(t,e))},e.prototype.removeAttributeForAttachment=function(t,e){return this.setDocument(this.document.removeAttributeForAttachment(t,e))},e.prototype.breakFormattedBlock=function(t){var e,n,i,r,o;return n=t.document,e=t.block,o=[(r=t.startPosition)-1,r],e.getBlockBreakPosition()===t.startLocation.offset?(e.breaksOnReturn()&&"\n"===t.nextCharacter?r+=1:n=n.removeTextAtRange(o),o=[r,r]):"\n"===t.nextCharacter?"\n"===t.previousCharacter?o=[r-1,r+1]:(o=[r,r+1],r+=1):t.startLocation.offset-1!=0&&(r+=1),i=new O.Document([e.removeLastAttribute().copyWithoutText()]),this.setDocument(n.insertDocumentAtRange(i,o)),this.setSelection(r)},e.prototype.getPreviousBlock=function(){var t,e;return(e=this.getLocationRange())&&0<(t=e[0].index)?this.document.getBlockAtIndex(t-1):void 0},e.prototype.getBlock=function(){var t;return(t=this.getLocationRange())?this.document.getBlockAtIndex(t[0].index):void 0},e.prototype.getAttachmentAtRange=function(t){var e;return(e=this.document.getDocumentAtRange(t)).toString()===O.OBJECT_REPLACEMENT_CHARACTER+"\n"?e.getAttachments()[0]:void 0},e.prototype.notifyDelegateOfCurrentAttributesChange=function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.compositionDidChangeCurrentAttributes?t.compositionDidChangeCurrentAttributes(this.currentAttributes):void 0},e.prototype.notifyDelegateOfInsertionAtRange=function(t){var e;return null!=(e=this.delegate)&&"function"==typeof e.compositionDidPerformInsertionAtRange?e.compositionDidPerformInsertionAtRange(t):void 0},e.prototype.translateUTF16PositionFromOffset=function(t,e){var n,i;return n=(i=this.document.toUTF16String()).offsetFromUCS2Offset(t),i.offsetToUCS2Offset(n+e)},e}(O.BasicObject)}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;O.UndoManager=function(t){function e(t){this.composition=t,this.undoEntries=[],this.redoEntries=[]}var a;return n(e,t),e.prototype.recordUndoEntry=function(t,e){var n,i,r,o,s;return i=(o=null!=e?e:{}).context,n=o.consolidatable,r=this.undoEntries.slice(-1)[0],n&&a(r,t,i)?void 0:(s=this.createEntry({description:t,context:i}),this.undoEntries.push(s),this.redoEntries=[])},e.prototype.undo=function(){var t,e;return(e=this.undoEntries.pop())?(t=this.createEntry(e),this.redoEntries.push(t),this.composition.loadSnapshot(e.snapshot)):void 0},e.prototype.redo=function(){var t,e;return(t=this.redoEntries.pop())?(e=this.createEntry(t),this.undoEntries.push(e),this.composition.loadSnapshot(t.snapshot)):void 0
},e.prototype.canUndo=function(){return 0<this.undoEntries.length},e.prototype.canRedo=function(){return 0<this.redoEntries.length},e.prototype.createEntry=function(t){var e,n,i;return n=(i=null!=t?t:{}).description,e=i.context,{description:null!=n?n.toString():void 0,context:JSON.stringify(e),snapshot:this.composition.getSnapshot()}},a=function(t,e,n){return(null!=t?t.description:void 0)===(null!=e?e.toString():void 0)&&(null!=t?t.context:void 0)===JSON.stringify(n)},e}(O.BasicObject)}.call(this),function(){O.Editor=function(){function t(t,e,n){this.composition=t,this.selectionManager=e,this.element=n,this.undoManager=new O.UndoManager(this.composition)}return t.prototype.loadDocument=function(t){return this.loadSnapshot({document:t,selectedRange:[0,0]})},t.prototype.loadHTML=function(t){return null==t&&(t=""),this.loadDocument(O.Document.fromHTML(t,{referenceElement:this.element}))},t.prototype.loadJSON=function(t){var e,n;return e=t.document,n=t.selectedRange,e=O.Document.fromJSON(e),this.loadSnapshot({document:e,selectedRange:n})},t.prototype.loadSnapshot=function(t){return this.undoManager=new O.UndoManager(this.composition),this.composition.loadSnapshot(t)},t.prototype.getDocument=function(){return this.composition.document},t.prototype.getSelectedDocument=function(){return this.composition.getSelectedDocument()},t.prototype.getSnapshot=function(){return this.composition.getSnapshot()},t.prototype.toJSON=function(){return this.getSnapshot()},t.prototype.deleteInDirection=function(t){return this.composition.deleteInDirection(t)},t.prototype.insertAttachment=function(t){return this.composition.insertAttachment(t)},t.prototype.insertDocument=function(t){return this.composition.insertDocument(t)},t.prototype.insertFile=function(t){return this.composition.insertFile(t)},t.prototype.insertHTML=function(t){return this.composition.insertHTML(t)},t.prototype.insertString=function(t){return this.composition.insertString(t)},t.prototype.insertText=function(t){return this.composition.insertText(t)},t.prototype.insertLineBreak=function(){return this.composition.insertLineBreak()},t.prototype.getSelectedRange=function(){return this.composition.getSelectedRange()},t.prototype.getPosition=function(){return this.composition.getPosition()},t.prototype.getClientRectAtPosition=function(t){var e;return e=this.getDocument().locationRangeFromRange([t,t+1]),this.selectionManager.getClientRectAtLocationRange(e)},t.prototype.expandSelectionInDirection=function(t){return this.composition.expandSelectionInDirection(t)},t.prototype.moveCursorInDirection=function(t){return this.composition.moveCursorInDirection(t)},t.prototype.setSelectedRange=function(t){return this.composition.setSelectedRange(t)},t.prototype.activateAttribute=function(t,e){return null==e&&(e=!0),this.composition.setCurrentAttribute(t,e)},t.prototype.attributeIsActive=function(t){return this.composition.hasCurrentAttribute(t)},t.prototype.canActivateAttribute=function(t){return this.composition.canSetCurrentAttribute(t)},t.prototype.deactivateAttribute=function(t){return this.composition.removeCurrentAttribute(t)},t.prototype.canDecreaseNestingLevel=function(){return this.composition.canDecreaseNestingLevel()},t.prototype.canIncreaseNestingLevel=function(){return this.composition.canIncreaseNestingLevel()},t.prototype.decreaseNestingLevel=function(){return this.canDecreaseNestingLevel()?this.composition.decreaseNestingLevel():void 0},t.prototype.increaseNestingLevel=function(){return this.canIncreaseNestingLevel()?this.composition.increaseNestingLevel():void 0},t.prototype.canDecreaseIndentationLevel=function(){return this.canDecreaseNestingLevel()},t.prototype.canIncreaseIndentationLevel=function(){return this.canIncreaseNestingLevel()},t.prototype.decreaseIndentationLevel=function(){return this.decreaseNestingLevel()},t.prototype.increaseIndentationLevel=function(){return this.increaseNestingLevel()},t.prototype.canRedo=function(){return this.undoManager.canRedo()},t.prototype.canUndo=function(){return this.undoManager.canUndo()},t.prototype.recordUndoEntry=function(t,e){var n,i,r;return i=(r=null!=e?e:{}).context,n=r.consolidatable,this.undoManager.recordUndoEntry(t,{context:i,consolidatable:n})},t.prototype.redo=function(){return this.canRedo()?this.undoManager.redo():void 0},t.prototype.undo=function(){return this.canUndo()?this.undoManager.undo():void 0},t}()}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;O.ManagedAttachment=function(t){function e(t,e){var n;this.attachmentManager=t,this.attachment=e,n=this.attachment,this.id=n.id,this.file=n.file}return n(e,t),e.prototype.remove=function(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)},e.proxyMethod("attachment.getAttribute"),e.proxyMethod("attachment.hasAttribute"),e.proxyMethod("attachment.setAttribute"),e.proxyMethod("attachment.getAttributes"),e.proxyMethod("attachment.setAttributes"),e.proxyMethod("attachment.isPending"),e.proxyMethod("attachment.isPreviewable"),e.proxyMethod("attachment.getURL"),e.proxyMethod("attachment.getHref"),e.proxyMethod("attachment.getFilename"),e.proxyMethod("attachment.getFilesize"),e.proxyMethod("attachment.getFormattedFilesize"),e.proxyMethod("attachment.getExtension"),e.proxyMethod("attachment.getContentType"),e.proxyMethod("attachment.getFile"),e.proxyMethod("attachment.setFile"),e.proxyMethod("attachment.releaseFile"),e.proxyMethod("attachment.getUploadProgress"),e.proxyMethod("attachment.setUploadProgress"),e}(O.BasicObject)}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;O.AttachmentManager=function(t){function e(t){var e,n,i;for(null==t&&(t=[]),this.managedAttachments={},n=0,i=t.length;n<i;n++)e=t[n],this.manageAttachment(e)}return n(e,t),e.prototype.getAttachments=function(){var t,e,n,i;for(e in i=[],n=this.managedAttachments)t=n[e],i.push(t);return i},e.prototype.manageAttachment=function(t){var e,n;return null!=(e=this.managedAttachments)[n=t.id]?e[n]:e[n]=new O.ManagedAttachment(this,t)},e.prototype.attachmentIsManaged=function(t){return t.id in this.managedAttachments},e.prototype.requestRemovalOfAttachment=function(t){var e;return this.attachmentIsManaged(t)&&null!=(e=this.delegate)&&"function"==typeof e.attachmentManagerDidRequestRemovalOfAttachment?e.attachmentManagerDidRequestRemovalOfAttachment(t):void 0},e.prototype.unmanageAttachment=function(t){var e;return e=this.managedAttachments[t.id],delete this.managedAttachments[t.id],e},e}(O.BasicObject)}.call(this),function(){var p,d,n,a,f,u,m,i,g,r,y;p=O.elementContainsNode,d=O.findChildIndexOfNode,f=O.nodeIsBlockStart,u=O.nodeIsBlockStartComment,a=O.nodeIsBlockContainer,m=O.nodeIsCursorTarget,i=O.nodeIsEmptyTextNode,g=O.nodeIsTextNode,n=O.nodeIsAttachmentElement,r=O.tagName,y=O.walkTree,O.LocationMapper=function(){function t(t){this.element=t}var s,l,h,e;return t.prototype.findLocationFromContainerAndOffset=function(t,e,n){var i,r,o,s,a,u,c;for(u=(null!=n?n:{strict:!0}).strict,o=!1,s={index:r=0,offset:0},(i=this.findAttachmentElementParentForNode(t))&&(t=i.parentNode,e=d(i)),c=y(this.element,{usingFilter:h});c.nextNode();){if((a=c.currentNode)===t&&g(t)){m(a)||(s.offset+=e);break}if(a.parentNode===t){if(r++===e)break}else if(!p(t,a)&&0<r)break;f(a,{strict:u})?(o&&s.index++,o=!(s.offset=0)):s.offset+=l(a)}return s},t.prototype.findContainerAndOffsetFromLocation=function(t){var e,n,i,r,o;if(0===t.index&&0===t.offset){for(e=this.element,r=0;e.firstChild;)if(e=e.firstChild,a(e)){r=1;break}return[e,r]}if(n=(o=this.findNodeAndOffsetFromLocation(t))[0],i=o[1],n){if(g(n))(e=n).textContent,r=t.offset-i;else{if(e=n.parentNode,!f(n.previousSibling)&&!a(e))for(;n===e.lastChild&&(e=(n=e).parentNode,!a(e)););r=d(n),0!==t.offset&&r++}return[e,r]}},t.prototype.findNodeAndOffsetFromLocation=function(t){var e,n,i,r,o,s,a,u;for(n=a=0,i=(u=this.getSignificantNodesForIndex(t.index)).length;n<i;n++){if(e=u[n],r=l(e),t.offset<=a+r)if(g(e)){if(o=e,s=a,t.offset===s&&m(o))break}else o||(o=e,s=a);if((a+=r)>t.offset)break}return[o,s]},t.prototype.findAttachmentElementParentForNode=function(t){for(;t&&t!==this.element;){if(n(t))return t;t=t.parentNode}},t.prototype.getSignificantNodesForIndex=function(t){var e,n,i,r,o;for(i=[],o=y(this.element,{usingFilter:s}),r=!1;o.nextNode();)if(n=o.currentNode,u(n)){if(null!=e?e++:e=0,e===t)r=!0;else if(r)break}else r&&i.push(n);return i},l=function(t){return t.nodeType===Node.TEXT_NODE?m(t)?0:t.textContent.length:"br"===r(t)||n(t)?1:0},s=function(t){return e(t)===NodeFilter.FILTER_ACCEPT?h(t):NodeFilter.FILTER_REJECT},e=function(t){return i(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},h=function(t){return n(t.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},t}()}.call(this),function(){var l,h,n=[].slice;l=O.getDOMRange,h=O.setDOMRange,O.PointMapper=function(){function t(){}return t.prototype.createDOMRangeFromPoint=function(t){var e,n,i,r,o,s,a,u;if(a=t.x,u=t.y,document.caretPositionFromPoint)return i=(o=document.caretPositionFromPoint(a,u)).offsetNode,n=o.offset,(e=document.createRange()).setStart(i,n),e;if(document.caretRangeFromPoint)return document.caretRangeFromPoint(a,u);if(document.body.createTextRange){r=l();try{(s=document.body.createTextRange()).moveToPoint(a,u),s.select()}catch(c){}return e=l(),h(r),e}},t.prototype.getClientRectsForDOMRange=function(t){var e;return[(e=n.call(t.getClientRects()))[0],e[e.length-1]]},t}()}.call(this),function(){var i,r=function(t,e){return function(){return t.apply(e,arguments)}},o=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty,a=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};i=O.getDOMRange,O.SelectionChangeObserver=function(t){function e(){this.run=r(this.run,this),this.update=r(this.update,this),this.selectionManagers=[]}var n;return o(e,t),e.prototype.start=function(){return this.started?void 0:(this.started=!0,"onselectionchange"in document?document.addEventListener("selectionchange",this.update,!0):this.run())},e.prototype.stop=function(){return this.started?(this.started=!1,document.removeEventListener("selectionchange",this.update,!0)):void 0},e.prototype.registerSelectionManager=function(t){return a.call(this.selectionManagers,t)<0?(this.selectionManagers.push(t),this.start()):void 0},e.prototype.unregisterSelectionManager=function(r){var o;return this.selectionManagers=function(){var t,e,n,i;for(i=[],t=0,e=(n=this.selectionManagers).length;t<e;t++)(o=n[t])!==r&&i.push(o);return i}.call(this),0===this.selectionManagers.length?this.stop():void 0},e.prototype.notifySelectionManagersOfSelectionChange=function(){var t,e,n,i,r;for(i=[],t=0,e=(n=this.selectionManagers).length;t<e;t++)r=n[t],i.push(r.selectionDidChange());return i},e.prototype.update=function(){var t;return t=i(),n(t,this.domRange)?void 0:(this.domRange=t,this.notifySelectionManagersOfSelectionChange())},e.prototype.reset=function(){return this.domRange=null,this.update()},e.prototype.run=function(){return this.started?(this.update(),requestAnimationFrame(this.run)):void 0},n=function(t,e){return(null!=t?t.startContainer:void 0)===(null!=e?e.startContainer:void 0)&&(null!=t?t.startOffset:void 0)===(null!=e?e.startOffset:void 0)&&(null!=t?t.endContainer:void 0)===(null!=e?e.endContainer:void 0)&&(null!=t?t.endOffset:void 0)===(null!=e?e.endOffset:void 0)},e}(O.BasicObject),null==O.selectionChangeObserver&&(O.selectionChangeObserver=new O.SelectionChangeObserver)}.call(this),function(){var a,n,i,u,r,o,s,c,l,h,p=function(t,e){return function(){return t.apply(e,arguments)}},d=function(t,e){function n(){this.constructor=t}for(var i in e)f.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},f={}.hasOwnProperty;i=O.getDOMSelection,n=O.getDOMRange,h=O.setDOMRange,a=O.elementContainsNode,o=O.nodeIsCursorTarget,r=O.innerElementIsActive,u=O.handleEvent,s=O.normalizeRange,c=O.rangeIsCollapsed,l=O.rangesAreEqual,O.SelectionManager=function(t){function e(t){this.element=t,this.selectionDidChange=p(this.selectionDidChange,this),this.didMouseDown=p(this.didMouseDown,this),this.locationMapper=new O.LocationMapper(this.element),this.pointMapper=new O.PointMapper,this.lockCount=0,u("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}return d(e,t),e.prototype.getLocationRange=function(t){var e;return null==t&&(t={}),!1===t.strict?this.createLocationRangeFromDOMRange(n(),{strict:!1}):t.ignoreLock?this.currentLocationRange:null!=(e=this.lockedLocationRange)?e:this.currentLocationRange},e.prototype.setLocationRange=function(t){var e;if(!this.lockedLocationRange)return t=s(t),(e=this.createDOMRangeFromLocationRange(t))?(h(e),this.updateCurrentLocationRange(t)):void 0},e.prototype.setLocationRangeFromPointRange=function(t){var e,n;return t=s(t),n=this.getLocationAtPoint(t[0]),e=this.getLocationAtPoint(t[1]),this.setLocationRange([n,e])},e.prototype.getClientRectAtLocationRange=function(t){var e;return(e=this.createDOMRangeFromLocationRange(t))?this.getClientRectsForDOMRange(e)[1]:void 0},e.prototype.locationIsCursorTarget=function(t){var e,n;return e=(n=this.findNodeAndOffsetFromLocation(t))[0],n[1],o(e)},e.prototype.lock=function(){return 0==this.lockCount++?(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange()):void 0},e.prototype.unlock=function(){var t;return 0==--this.lockCount&&(t=this.lockedLocationRange,(this.lockedLocationRange=null)!=t)?this.setLocationRange(t):void 0},e.prototype.clearSelection=function(){var t;return null!=(t=i())?t.removeAllRanges():void 0},e.prototype.selectionIsCollapsed=function(){var t;return!0===(null!=(t=n())?t.collapsed:void 0)},e.prototype.selectionIsExpanded=function(){return!this.selectionIsCollapsed()},e.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),e.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),e.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),e.proxyMethod("pointMapper.createDOMRangeFromPoint"),e.proxyMethod("pointMapper.getClientRectsForDOMRange"),e.prototype.didMouseDown=function(){return this.pauseTemporarily()},e.prototype.pauseTemporarily=function(){var r,o,n,i,s;return this.paused=!0,s=this,o=function(){var t,e;for(s.paused=!1,clearTimeout(i),t=0,e=n.length;t<e;t++)n[t].destroy();return a(document,s.element)?s.selectionDidChange():void 0},i=setTimeout(o,200),n=function(){var t,e,n,i;for(i=[],t=0,e=(n=["mousemove","keydown"]).length;t<e;t++)r=n[t],i.push(u(r,{onElement:document,withCallback:o}));return i}()},e.prototype.selectionDidChange=function(){return this.paused||r(this.element)?void 0:this.updateCurrentLocationRange()},e.prototype.updateCurrentLocationRange=function(t){var e;return(null!=t?t:t=this.createLocationRangeFromDOMRange(n()))&&!l(t,this.currentLocationRange)?(this.currentLocationRange=t,null!=(e=this.delegate)&&"function"==typeof e.locationRangeDidChange?e.locationRangeDidChange(this.currentLocationRange.slice(0)):void 0):void 0},e.prototype.createDOMRangeFromLocationRange=function(t){var e,n,i,r;return i=this.findContainerAndOffsetFromLocation(t[0]),n=c(t)?i:null!=(r=this.findContainerAndOffsetFromLocation(t[1]))?r:i,null!=i&&null!=n?((e=document.createRange()).setStart.apply(e,i),e.setEnd.apply(e,n),e):void 0},e.prototype.createLocationRangeFromDOMRange=function(t,e){var n,i;if(null!=t&&this.domRangeWithinElement(t)&&(i=this.findLocationFromContainerAndOffset(t.startContainer,t.startOffset,e)))return t.collapsed||(n=this.findLocationFromContainerAndOffset(t.endContainer,t.endOffset,e)),s([i,n])},e.prototype.getLocationAtPoint=function(t){var e,n;return(e=this.createDOMRangeFromPoint(t))&&null!=(n=this.createLocationRangeFromDOMRange(e))?n[0]:void 0},e.prototype.domRangeWithinElement=function(t){return t.collapsed?a(this.element,t.startContainer):a(this.element,t.startContainer)&&a(this.element,t.endContainer)},e}(O.BasicObject)}.call(this),function(){var n,i,r,o=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty,a=[].slice;i=O.rangeIsCollapsed,r=O.rangesAreEqual,n=O.objectsAreEqual,O.EditorController=function(t){function e(t){var e,n;this.editorElement=t.editorElement,e=t.document,n=t.html,this.selectionManager=new O.SelectionManager(this.editorElement),(this.selectionManager.delegate=this).composition=new O.Composition,(this.composition.delegate=this).attachmentManager=new O.AttachmentManager(this.composition.getAttachments()),(this.attachmentManager.delegate=this).inputController=new O.InputController(this.editorElement),(this.inputController.delegate=this).inputController.responder=this.composition,this.compositionController=new O.CompositionController(this.editorElement,this.composition),(this.compositionController.delegate=this).toolbarController=new O.ToolbarController(this.editorElement.toolbarElement),(this.toolbarController.delegate=this).editor=new O.Editor(this.composition,this.selectionManager,this.editorElement),null!=e?this.editor.loadDocument(e):this.editor.loadHTML(n)}return o(e,t),e.prototype.registerSelectionManager=function(){return O.selectionChangeObserver.registerSelectionManager(this.selectionManager)},e.prototype.unregisterSelectionManager=function(){return O.selectionChangeObserver.unregisterSelectionManager(this.selectionManager)},e.prototype.compositionDidChangeDocument=function(){return this.editorElement.notify("document-change"),this.handlingInput?void 0:this.render()},e.prototype.compositionDidChangeCurrentAttributes=function(t){return this.currentAttributes=t,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.editorElement.notify("attributes-change",{attributes:this.currentAttributes})},e.prototype.compositionDidPerformInsertionAtRange=function(t){return this.pasting?this.pastedRange=t:void 0},e.prototype.compositionShouldAcceptFile=function(t){return this.editorElement.notify("file-accept",{file:t})},e.prototype.compositionDidAddAttachment=function(t){var e;return e=this.attachmentManager.manageAttachment(t),this.editorElement.notify("attachment-add",{attachment:e})},e.prototype.compositionDidEditAttachment=function(t){var e;return this.compositionController.rerenderViewForObject(t),e=this.attachmentManager.manageAttachment(t),this.editorElement.notify("attachment-edit",{attachment:e}),this.editorElement.notify("change")},e.prototype.compositionDidChangeAttachmentPreviewURL=function(t){return this.compositionController.invalidateViewForObject(t),this.editorElement.notify("change")},e.prototype.compositionDidRemoveAttachment=function(t){var e;return e=this.attachmentManager.unmanageAttachment(t),this.editorElement.notify("attachment-remove",{attachment:e})},e.prototype.compositionDidStartEditingAttachment=function(t){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(t),this.compositionController.installAttachmentEditorForAttachment(t),this.selectionManager.setLocationRange(this.attachmentLocationRange)},e.prototype.compositionDidStopEditingAttachment=function(){return this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null},e.prototype.compositionDidRequestChangingSelectionToLocationRange=function(t){return!this.loadingSnapshot||this.isFocused()?(this.requestedLocationRange=t,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()):void 0},e.prototype.compositionWillLoadSnapshot=function(){return this.loadingSnapshot=!0},e.prototype.compositionDidLoadSnapshot=function(){return this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1},e.prototype.getSelectionManager=function(){return this.selectionManager},e.proxyMethod("getSelectionManager().setLocationRange"),e.proxyMethod("getSelectionManager().getLocationRange"),e.prototype.attachmentManagerDidRequestRemovalOfAttachment=function(t){return this.removeAttachment(t)},e.prototype.compositionControllerWillSyncDocumentView=function(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()},e.prototype.compositionControllerDidSyncDocumentView=function(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.editorElement.notify("sync")},e.prototype.compositionControllerDidRender=function(){return null!=this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.composition.updateCurrentAttributes(),this.editorElement.notify("render")),this.renderedCompositionRevision=this.composition.revision},e.prototype.compositionControllerDidFocus=function(){return this.toolbarController.hideDialog(),this.editorElement.notify("focus")},e.prototype.compositionControllerDidBlur=function(){return this.editorElement.notify("blur")},e.prototype.compositionControllerDidSelectAttachment=function(t){return this.composition.editAttachment(t)},e.prototype.compositionControllerDidRequestDeselectingAttachment=function(t){var e,n;return e=null!=(n=this.attachmentLocationRange)?n:this.composition.document.getLocationRangeOfAttachment(t),this.selectionManager.setLocationRange(e[1])},e.prototype.compositionControllerWillUpdateAttachment=function(t){return this.editor.recordUndoEntry("Edit Attachment",{context:t.id,consolidatable:!0})},e.prototype.compositionControllerDidRequestRemovalOfAttachment=function(t){return this.removeAttachment(t)},e.prototype.inputControllerWillHandleInput=function(){return this.handlingInput=!0,this.requestedRender=!1},e.prototype.inputControllerDidRequestRender=function(){return this.requestedRender=!0},e.prototype.inputControllerDidHandleInput=function(){return this.handlingInput=!1,this.requestedRender?(this.requestedRender=!1,this.render()):void 0},e.prototype.inputControllerDidAllowUnhandledInput=function(){return this.editorElement.notify("change")},e.prototype.inputControllerDidRequestReparse=function(){return this.reparse()},e.prototype.inputControllerWillPerformTyping=function(){return this.recordTypingUndoEntry()},e.prototype.inputControllerWillCutText=function(){return this.editor.recordUndoEntry("Cut")},e.prototype.inputControllerWillPasteText=function(){return this.editor.recordUndoEntry("Paste"),this.pasting=!0},e.prototype.inputControllerDidPaste=function(t){var e;return e=this.pastedRange,this.pastedRange=null,this.pasting=null,this.editorElement.notify("paste",{pasteData:t,range:e})},e.prototype.inputControllerWillMoveText=function(){return this.editor.recordUndoEntry("Move")},e.prototype.inputControllerWillAttachFiles=function(){return this.editor.recordUndoEntry("Drop Files")},e.prototype.inputControllerDidReceiveKeyboardCommand=function(t){return this.toolbarController.applyKeyboardCommand(t)},e.prototype.inputControllerDidStartDrag=function(){return this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()},e.prototype.inputControllerDidReceiveDragOverPoint=function(t){return this.selectionManager.setLocationRangeFromPointRange(t)},e.prototype.inputControllerDidCancelDrag=function(){return this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null},e.prototype.locationRangeDidChange=function(t){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!r(this.attachmentLocationRange,t)&&this.composition.stopEditingAttachment(),this.editorElement.notify("selection-change")},e.prototype.toolbarDidClickButton=function(){return this.getLocationRange()?void 0:this.setLocationRange({index:0,offset:0})},e.prototype.toolbarDidInvokeAction=function(t){return this.invokeAction(t)},e.prototype.toolbarDidToggleAttribute=function(t){return this.recordFormattingUndoEntry(),this.composition.toggleCurrentAttribute(t),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},e.prototype.toolbarDidUpdateAttribute=function(t,e){return this.recordFormattingUndoEntry(),this.composition.setCurrentAttribute(t,e),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},e.prototype.toolbarDidRemoveAttribute=function(t){return this.recordFormattingUndoEntry(),this.composition.removeCurrentAttribute(t),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},e.prototype.toolbarWillShowDialog=function(){return this.composition.expandSelectionForEditing(),this.freezeSelection()},e.prototype.toolbarDidShowDialog=function(t){return this.editorElement.notify("toolbar-dialog-show",{dialogName:t})},e.prototype.toolbarDidHideDialog=function(t){return this.thawSelection(),this.editorElement.focus(),this.editorElement.notify("toolbar-dialog-hide",{dialogName:t})},e.prototype.freezeSelection=function(){return this.selectionFrozen?void 0:(this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render())},e.prototype.thawSelection=function(){return this.selectionFrozen?(this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()):void 0},e.prototype.actions={undo:{test:function(){return this.editor.canUndo()},perform:function(){return this.editor.undo()}},redo:{test:function(){return this.editor.canRedo()},perform:function(){return this.editor.redo()}},link:{test:function(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test:function(){return this.editor.canIncreaseNestingLevel()},perform:function(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test:function(){return this.editor.canDecreaseNestingLevel()},perform:function(){return this.editor.decreaseNestingLevel()&&this.render()}},increaseBlockLevel:{test:function(){return this.editor.canIncreaseNestingLevel()},perform:function(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseBlockLevel:{test:function(){return this.editor.canDecreaseNestingLevel()},perform:function(){return this.editor.decreaseNestingLevel()&&this.render()}}},e.prototype.canInvokeAction=function(t){var e,n;return!!this.actionIsExternal(t)||!!(null!=(e=this.actions[t])&&null!=(n=e.test)?n.call(this):void 0)},e.prototype.invokeAction=function(t){var e,n;return this.actionIsExternal(t)?this.editorElement.notify("action-invoke",{actionName:t}):null!=(e=this.actions[t])&&null!=(n=e.perform)?n.call(this):void 0},e.prototype.actionIsExternal=function(t){return/^x-./.test(t)},e.prototype.getCurrentActions=function(){var t,e;for(t in e={},this.actions)e[t]=this.canInvokeAction(t);return e},e.prototype.updateCurrentActions=function(){var t;return t=this.getCurrentActions(),n(t,this.currentActions)?void 0:(this.currentActions=t,this.toolbarController.updateActions(this.currentActions),this.editorElement.notify("actions-change",{actions:this.currentActions}))},e.prototype.reparse=function(){return this.composition.replaceHTML(this.editorElement.innerHTML)},e.prototype.render=function(){return this.compositionController.render()},e.prototype.removeAttachment=function(t){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(t),this.render()},e.prototype.recordFormattingUndoEntry=function(){var t;return t=this.selectionManager.getLocationRange(),i(t)?void 0:this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0})},e.prototype.recordTypingUndoEntry=function(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})},e.prototype.getUndoContext=function(){var t;return t=1<=arguments.length?a.call(arguments,0):[],[this.getLocationContext(),this.getTimeContext()].concat(a.call(t))},e.prototype.getLocationContext=function(){var t;return t=this.selectionManager.getLocationRange(),i(t)?t[0].index:t},e.prototype.getTimeContext=function(){return 0<O.config.undoInterval?Math.floor((new Date).getTime()/O.config.undoInterval):0},e.prototype.isFocused=function(){var t;return this.editorElement===(null!=(t=this.editorElement.ownerDocument)?t.activeElement:void 0)},e}(O.Controller)}.call(this),function(){var t,e,n,i,r,o,s,a,u,c,l,h;i=O.makeElement,r=O.selectionElements,o=O.triggerEvent,e=O.handleEvent,n=O.handleEventOnce,t=O.AttachmentView.attachmentSelector,O.registerElement("trix-editor",(c=0,s=function(t){return!document.querySelector(":focus")&&t.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===t?t.focus():void 0},l=function(t){return t.hasAttribute("contenteditable")?void 0:(t.setAttribute("contenteditable",""),n("focus",{onElement:t,withCallback:function(){return a(t)}}))},a=function(t){return u(t),h(t)},u=function(t){return("function"==typeof document.queryCommandSupported?document.queryCommandSupported("enableObjectResizing"):void 0)?(document.execCommand("enableObjectResizing",!1,!1),e("mscontrolselect",{onElement:t,preventDefault:!0})):void 0},h=function(){var t;return("function"==typeof document.queryCommandSupported?document.queryCommandSupported("DefaultParagraphSeparator"):void 0)&&("div"===(t=O.config.blockAttributes["default"].tagName)||"p"===t)?document.execCommand("DefaultParagraphSeparator",!1,t):void 0},{defaultCSS:"%t:empty:not(:focus)::before {\n  content: attr(placeholder);\n  color: graytext;\n}\n\n%t a[contenteditable=false] {\n  cursor: text;\n}\n\n%t img {\n  max-width: 100%;\n  height: auto;\n}\n\n%t "+t+" figcaption textarea {\n  resize: none;\n}\n\n%t "+t+" figcaption textarea.trix-autoresize-clone {\n  position: absolute;\n  left: -9999px;\n  max-height: 0px;\n}\n\n%t "+t+'[data-trix-mutable] figcaption:empty::before {\n  content: "'+O.config.lang.captionPrompt+'";\n  color: graytext;\n}\n\n%t '+r.selector+" { "+r.cssText+" }",trixId:{get:function(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++c),this.trixId)}},toolbarElement:{get:function(){var t,e,n;return this.hasAttribute("toolbar")?null!=(e=this.ownerDocument)?e.getElementById(this.getAttribute("toolbar")):void 0:this.parentElement?(n="trix-toolbar-"+this.trixId,this.setAttribute("toolbar",n),t=i("trix-toolbar",{id:n}),this.parentElement.insertBefore(t,this),t):void 0}},inputElement:{get:function(){var t,e,n;return this.hasAttribute("input")?null!=(n=this.ownerDocument)?n.getElementById(this.getAttribute("input")):void 0:this.parentElement?(e="trix-input-"+this.trixId,this.setAttribute("input",e),t=i("input",{type:"hidden",id:e}),this.parentElement.insertBefore(t,this.nextElementSibling),t):void 0}},editor:{get:function(){var t;return null!=(t=this.editorController)?t.editor:void 0}},name:{get:function(){var t;return null!=(t=this.inputElement)?t.name:void 0}},value:{get:function(){var t;return null!=(t=this.inputElement)?t.value:void 0},set:function(t){var e;return this.defaultValue=t,null!=(e=this.editor)?e.loadHTML(this.defaultValue):void 0}},notify:function(t,e){var n;switch(t){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notify("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":null!=(n=this.inputElement)&&(n.value=O.serializeToContentType(this,"text/html"))}return this.editorController?o("trix-"+t,{onElement:this,attributes:e}):void 0},createdCallback:function(){return l(this)},attachedCallback:function(){return this.hasAttribute("data-trix-internal")?void 0:(null==this.editorController&&(this.editorController=new O.EditorController({editorElement:this,html:this.defaultValue=this.value})),this.editorController.registerSelectionManager(),this.registerResetListener(),s(this),requestAnimationFrame((t=this,function(){return t.notify("initialize")})));var t},detachedCallback:function(){var t;return null!=(t=this.editorController)&&t.unregisterSelectionManager(),this.unregisterResetListener()},registerResetListener:function(){return this.resetListener=this.resetBubbled.bind(this),window.addEventListener("reset",this.resetListener,!1)},
unregisterResetListener:function(){return window.removeEventListener("reset",this.resetListener,!1)},resetBubbled:function(t){var e;return t.target!==(null!=(e=this.inputElement)?e.form:void 0)||t.defaultPrevented?void 0:this.reset()},reset:function(){return this.value=this.defaultValue}}))}.call(this),function(){}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=O:"function"==typeof define&&define.amd&&define(O)}.call(this),function(){var t=this;(function(){(function(){this.Rails={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:{selector:"button[data-remote]:not([form]), button[data-confirm]:not([form])",exclude:"form button"},inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",formDisableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",formEnableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]"}}).call(this)}).call(t);var v=t.Rails;(function(){(function(){v.cspNonce=function(){var t;return(t=document.querySelector("meta[name=csp-nonce]"))&&t.content}}).call(this),function(){var i,n;n=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector,v.matches=function(t,e){return null!=e.exclude?n.call(t,e.selector)&&!n.call(t,e.exclude):n.call(t,e)},i="_ujsData",v.getData=function(t,e){var n;return null!=(n=t[i])?n[e]:void 0},v.setData=function(t,e,n){return null==t[i]&&(t[i]={}),t[i][e]=n},v.$=function(t){return Array.prototype.slice.call(document.querySelectorAll(t))}}.call(this),function(){var n,i,r;n=v.$,r=v.csrfToken=function(){var t;return(t=document.querySelector("meta[name=csrf-token]"))&&t.content},i=v.csrfParam=function(){var t;return(t=document.querySelector("meta[name=csrf-param]"))&&t.content},v.CSRFProtection=function(t){var e;if(null!=(e=r()))return t.setRequestHeader("X-CSRF-Token",e)},v.refreshCSRFTokens=function(){var t,e;if(e=r(),t=i(),null!=e&&null!=t)return n('form input[name="'+t+'"]').forEach(function(t){return t.value=e})}}.call(this),function(){var r,e,o,n;o=v.matches,"function"!=typeof(r=window.CustomEvent)&&((r=function(t,e){var n;return(n=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}).prototype=window.Event.prototype,n=r.prototype.preventDefault,r.prototype.preventDefault=function(){var t;return t=n.call(this),this.cancelable&&!this.defaultPrevented&&Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),t}),e=v.fire=function(t,e,n){var i;return i=new r(e,{bubbles:!0,cancelable:!0,detail:n}),t.dispatchEvent(i),!i.defaultPrevented},v.stopEverything=function(t){return e(t.target,"ujs:everythingStopped"),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()},v.delegate=function(t,n,e,i){return t.addEventListener(e,function(t){var e;for(e=t.target;e instanceof Element&&!o(e,n);)e=e.parentNode;if(e instanceof Element&&!1===i.call(e,t))return t.preventDefault(),t.stopPropagation()})}}.call(this),function(){var e,i,t,o,r,s;o=v.cspNonce,i=v.CSRFProtection,v.fire,e={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},v.ajax=function(n){var i;return n=r(n),i=t(n,function(){var t,e;return e=s(null!=(t=i.response)?t:i.responseText,i.getResponseHeader("Content-Type")),2===Math.floor(i.status/100)?"function"==typeof n.success&&n.success(e,i.statusText,i):"function"==typeof n.error&&n.error(e,i.statusText,i),"function"==typeof n.complete?n.complete(i,i.statusText):void 0}),!(null!=n.beforeSend&&!n.beforeSend(i,n))&&(i.readyState===XMLHttpRequest.OPENED?i.send(n.data):void 0)},r=function(t){return t.url=t.url||location.href,t.type=t.type.toUpperCase(),"GET"===t.type&&t.data&&(t.url.indexOf("?")<0?t.url+="?"+t.data:t.url+="&"+t.data),null==e[t.dataType]&&(t.dataType="*"),t.accept=e[t.dataType],"*"!==t.dataType&&(t.accept+=", */*; q=0.01"),t},t=function(t,e){var n;return(n=new XMLHttpRequest).open(t.type,t.url,!0),n.setRequestHeader("Accept",t.accept),"string"==typeof t.data&&n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),t.crossDomain||n.setRequestHeader("X-Requested-With","XMLHttpRequest"),i(n),n.withCredentials=!!t.withCredentials,n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE)return e(n)},n},s=function(t,e){var n,i;if("string"==typeof t&&"string"==typeof e)if(e.match(/\bjson\b/))try{t=JSON.parse(t)}catch(r){}else if(e.match(/\b(?:java|ecma)script\b/))(i=document.createElement("script")).setAttribute("nonce",o()),i.text=t,document.head.appendChild(i).parentNode.removeChild(i);else if(e.match(/\b(xml|html|svg)\b/)){n=new DOMParser,e=e.replace(/;.+/,"");try{t=n.parseFromString(t,e)}catch(r){}}return t},v.href=function(t){return t.href},v.isCrossDomain=function(t){var e,n;(e=document.createElement("a")).href=location.href,n=document.createElement("a");try{return n.href=t,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(i){return i,!0}}}.call(this),function(){var r,o;r=v.matches,o=function(t){return Array.prototype.slice.call(t)},v.serializeElement=function(t,e){var n,i;return n=[t],r(t,"form")&&(n=o(t.elements)),i=[],n.forEach(function(e){if(e.name&&!e.disabled)return r(e,"select")?o(e.options).forEach(function(t){if(t.selected)return i.push({name:e.name,value:t.value})}):e.checked||-1===["radio","checkbox","submit"].indexOf(e.type)?i.push({name:e.name,value:e.value}):void 0}),e&&i.push(e),i.map(function(t){return null!=t.name?encodeURIComponent(t.name)+"="+encodeURIComponent(t.value):t}).join("&")},v.formElements=function(t,e){return r(t,"form")?o(t.elements).filter(function(t){return r(t,e)}):o(t.querySelectorAll(e))}}.call(this),function(){var e,o,n;o=v.fire,n=v.stopEverything,v.handleConfirm=function(t){if(!e(this))return n(t)},e=function(t){var e,n,i;if(!(i=t.getAttribute("data-confirm")))return!0;if(e=!1,o(t,"confirm")){try{e=confirm(i)}catch(r){}n=o(t,"confirm:complete",[e])}return e&&n}}.call(this),function(){var n,i,r,o,s,a,e,u,c,l,h;c=v.matches,u=v.getData,l=v.setData,h=v.stopEverything,e=v.formElements,v.handleDisabledElement=function(t){if(this.disabled)return h(t)},v.enableElement=function(t){var e;return e=t instanceof Event?t.target:t,c(e,v.linkDisableSelector)?a(e):c(e,v.buttonDisableSelector)||c(e,v.formEnableSelector)?o(e):c(e,v.formSubmitSelector)?s(e):void 0},v.disableElement=function(t){var e;return e=t instanceof Event?t.target:t,c(e,v.linkDisableSelector)?r(e):c(e,v.buttonDisableSelector)||c(e,v.formDisableSelector)?n(e):c(e,v.formSubmitSelector)?i(e):void 0},r=function(t){var e;return null!=(e=t.getAttribute("data-disable-with"))&&(l(t,"ujs:enable-with",t.innerHTML),t.innerHTML=e),t.addEventListener("click",h),l(t,"ujs:disabled",!0)},a=function(t){var e;return null!=(e=u(t,"ujs:enable-with"))&&(t.innerHTML=e,l(t,"ujs:enable-with",null)),t.removeEventListener("click",h),l(t,"ujs:disabled",null)},i=function(t){return e(t,v.formDisableSelector).forEach(n)},n=function(t){var e;return null!=(e=t.getAttribute("data-disable-with"))&&(c(t,"button")?(l(t,"ujs:enable-with",t.innerHTML),t.innerHTML=e):(l(t,"ujs:enable-with",t.value),t.value=e)),t.disabled=!0,l(t,"ujs:disabled",!0)},s=function(t){return e(t,v.formEnableSelector).forEach(o)},o=function(t){var e;return null!=(e=u(t,"ujs:enable-with"))&&(c(t,"button")?t.innerHTML=e:t.value=e,l(t,"ujs:enable-with",null)),t.disabled=!1,l(t,"ujs:disabled",null)}}.call(this),function(){var u;u=v.stopEverything,v.handleMethod=function(t){var e,n,i,r,o,s,a;if(a=(s=this).getAttribute("data-method"))return o=v.href(s),n=v.csrfToken(),e=v.csrfParam(),i=document.createElement("form"),r="<input name='_method' value='"+a+"' type='hidden' />",null==e||null==n||v.isCrossDomain(o)||(r+="<input name='"+e+"' value='"+n+"' type='hidden' />"),r+='<input type="submit" />',i.method="post",i.action=o,i.target=s.target,i.innerHTML=r,i.style.display="none",document.body.appendChild(i),i.querySelector('[type="submit"]').click(),u(t)}}.call(this),function(){var u,c,l,h,p,d,f,m,g,y=[].slice;d=v.matches,l=v.getData,m=v.setData,c=v.fire,g=v.stopEverything,u=v.ajax,h=v.isCrossDomain,f=v.serializeElement,p=function(t){var e;return null!=(e=t.getAttribute("data-remote"))&&"false"!==e},v.handleRemote=function(t){var e,n,i,r,o,s,a;return!p(r=this)||(c(r,"ajax:before")?(a=r.getAttribute("data-with-credentials"),i=r.getAttribute("data-type")||"script",d(r,v.formSubmitSelector)?(e=l(r,"ujs:submit-button"),o=l(r,"ujs:submit-button-formmethod")||r.method,s=l(r,"ujs:submit-button-formaction")||r.getAttribute("action")||location.href,"GET"===o.toUpperCase()&&(s=s.replace(/\?.*$/,"")),"multipart/form-data"===r.enctype?(n=new FormData(r),null!=e&&n.append(e.name,e.value)):n=f(r,e),m(r,"ujs:submit-button",null),m(r,"ujs:submit-button-formmethod",null),m(r,"ujs:submit-button-formaction",null)):d(r,v.buttonClickSelector)||d(r,v.inputChangeSelector)?(o=r.getAttribute("data-method"),s=r.getAttribute("data-url"),n=f(r,r.getAttribute("data-params"))):(o=r.getAttribute("data-method"),s=v.href(r),n=r.getAttribute("data-params")),u({type:o||"GET",url:s,data:n,dataType:i,beforeSend:function(t,e){return c(r,"ajax:beforeSend",[t,e])?c(r,"ajax:send",[t]):(c(r,"ajax:stopped"),!1)},success:function(){var t;return t=1<=arguments.length?y.call(arguments,0):[],c(r,"ajax:success",t)},error:function(){var t;return t=1<=arguments.length?y.call(arguments,0):[],c(r,"ajax:error",t)},complete:function(){var t;return t=1<=arguments.length?y.call(arguments,0):[],c(r,"ajax:complete",t)},crossDomain:h(s),withCredentials:null!=a&&"false"!==a}),g(t)):(c(r,"ajax:stopped"),!1))},v.formSubmitButtonClick=function(){var t,e;if(e=(t=this).form)return t.name&&m(e,"ujs:submit-button",{name:t.name,value:t.value}),m(e,"ujs:formnovalidate-button",t.formNoValidate),m(e,"ujs:submit-button-formaction",t.getAttribute("formaction")),m(e,"ujs:submit-button-formmethod",t.getAttribute("formmethod"))},v.handleMetaClick=function(t){var e,n,i;if(i=((n=this).getAttribute("data-method")||"GET").toUpperCase(),e=n.getAttribute("data-params"),(t.metaKey||t.ctrlKey)&&"GET"===i&&!e)return t.stopImmediatePropagation()}}.call(this),function(){var t,i,e,n,r,o,s,a,u,c,l,h,p,d;o=v.fire,e=v.delegate,a=v.getData,t=v.$,d=v.refreshCSRFTokens,i=v.CSRFProtection,r=v.enableElement,n=v.disableElement,c=v.handleDisabledElement,u=v.handleConfirm,p=v.handleRemote,s=v.formSubmitButtonClick,l=v.handleMetaClick,h=v.handleMethod,"undefined"==typeof jQuery||null===jQuery||null==jQuery.ajax||jQuery.rails||(jQuery.rails=v,jQuery.ajaxPrefilter(function(t,e,n){if(!t.crossDomain)return i(n)})),v.start=function(){if(window._rails_loaded)throw new Error("rails-ujs has already been loaded!");return window.addEventListener("pageshow",function(){return t(v.formEnableSelector).forEach(function(t){if(a(t,"ujs:disabled"))return r(t)}),t(v.linkDisableSelector).forEach(function(t){if(a(t,"ujs:disabled"))return r(t)})}),e(document,v.linkDisableSelector,"ajax:complete",r),e(document,v.linkDisableSelector,"ajax:stopped",r),e(document,v.buttonDisableSelector,"ajax:complete",r),e(document,v.buttonDisableSelector,"ajax:stopped",r),e(document,v.linkClickSelector,"click",c),e(document,v.linkClickSelector,"click",u),e(document,v.linkClickSelector,"click",l),e(document,v.linkClickSelector,"click",n),e(document,v.linkClickSelector,"click",p),e(document,v.linkClickSelector,"click",h),e(document,v.buttonClickSelector,"click",c),e(document,v.buttonClickSelector,"click",u),e(document,v.buttonClickSelector,"click",n),e(document,v.buttonClickSelector,"click",p),e(document,v.inputChangeSelector,"change",c),e(document,v.inputChangeSelector,"change",u),e(document,v.inputChangeSelector,"change",p),e(document,v.formSubmitSelector,"submit",c),e(document,v.formSubmitSelector,"submit",u),e(document,v.formSubmitSelector,"submit",p),e(document,v.formSubmitSelector,"submit",function(t){return setTimeout(function(){return n(t)},13)}),e(document,v.formSubmitSelector,"ajax:send",n),e(document,v.formSubmitSelector,"ajax:complete",r),e(document,v.formInputClickSelector,"click",c),e(document,v.formInputClickSelector,"click",u),e(document,v.formInputClickSelector,"click",s),document.addEventListener("DOMContentLoaded",d),window._rails_loaded=!0},window.Rails===v&&o(document,"rails:attachBindings")&&v.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=v:"function"==typeof define&&define.amd&&define(v)}.call(this),function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(S,t){"use strict";function m(t,e,n){var i,r=(e=e||st).createElement("script");if(r.text=t,n)for(i in At)n[i]&&(r[i]=n[i]);e.head.appendChild(r).parentNode.removeChild(r)}function g(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?pt[dt.call(t)]||"object":typeof t}function a(t){var e=!!t&&"length"in t&&t.length,n=g(t);return!vt(t)&&!bt(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}function c(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function e(t,n,i){return vt(n)?wt.grep(t,function(t,e){return!!n.call(t,e,t)!==i}):n.nodeType?wt.grep(t,function(t){return t===n!==i}):"string"!=typeof n?wt.grep(t,function(t){return-1<ht.call(n,t)!==i}):wt.filter(n,t,i)}function n(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function l(t){var n={};return wt.each(t.match(Nt)||[],function(t,e){n[e]=!0}),n}function h(t){return t}function p(t){throw t}function u(t,e,n,i){var r;try{t&&vt(r=t.promise)?r.call(t).done(e).fail(n):t&&vt(r=t.then)?r.call(t,e,n):e.apply(undefined,[t].slice(i))}catch(t){n.apply(undefined,[t])}}function i(){st.removeEventListener("DOMContentLoaded",i),S.removeEventListener("load",i),wt.ready()}function r(t,e){return e.toUpperCase()}function d(t){return t.replace(Mt,"ms-").replace(Bt,r)}function o(){this.expando=wt.expando+o.uid++}function s(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Wt.test(t)?JSON.parse(t):t)}function f(t,e,n){var i;if(n===undefined&&1===t.nodeType)if(i="data-"+e.replace(Ut,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=s(n)}catch(r){}Ht.set(t,e,n)}else n=undefined;return n}function y(t,e,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return wt.css(t,e,"")},u=a(),c=n&&n[3]||(wt.cssNumber[e]?"":"px"),l=(wt.cssNumber[e]||"px"!==c&&+u)&&Kt.exec(wt.css(t,e));if(l&&l[3]!==c){for(u/=2,c=c||l[3],l=+u||1;s--;)wt.style(t,e,l+c),(1-o)*(1-(o=a()/u||.5))<=0&&(s=0),l/=o;l*=2,wt.style(t,e,l+c),n=n||[]}return n&&(l=+l||+u||0,r=n[1]?l+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=l,i.end=r)),r}function v(t){var e,n=t.ownerDocument,i=t.nodeName,r=$t[i];return r||(e=n.body.appendChild(n.createElement(i)),r=wt.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),$t[i]=r)}function b(t,e){for(var n,i,r=[],o=0,s=t.length;o<s;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=qt.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&Gt(i)&&(r[o]=v(i))):"none"!==n&&(r[o]="none",qt.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}function A(t,e){var n;return n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],e===undefined||e&&c(t,e)?wt.merge([t],n):n}function E(t,e){for(var n=0,i=t.length;n<i;n++)qt.set(t[n],"globalEval",!e||qt.get(e[n],"globalEval"))}function w(t,e,n,i,r){for(var o,s,a,u,c,l,h=e.createDocumentFragment(),p=[],d=0,f=t.length;d<f;d++)if((o=t[d])||0===o)if("object"===g(o))wt.merge(p,o.nodeType?[o]:o);else if(ne.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(Qt.exec(o)||["",""])[1].toLowerCase(),u=Zt[a]||Zt._default,s.innerHTML=u[1]+wt.htmlPrefilter(o)+u[2],l=u[0];l--;)s=s.lastChild;wt.merge(p,s.childNodes),(s=h.firstChild).textContent=""}else p.push(e.createTextNode(o));for(h.textContent="",d=0;o=p[d++];)if(i&&-1<wt.inArray(o,i))r&&r.push(o);else if(c=wt.contains(o.ownerDocument,o),s=A(h.appendChild(o),"script"),c&&E(s),n)for(l=0;o=s[l++];)Yt.test(o.type||"")&&n.push(o);return h}function C(){return!0}function x(){return!1}function T(){try{return st.activeElement}catch(t){}}function _(t,e,n,i,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=undefined),e)_(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=undefined):null==r&&("string"==typeof n?(r=i,i=undefined):(r=i,i=n,n=undefined)),!1===r)r=x;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return wt().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=wt.guid++)),t.each(function(){wt.event.add(this,e,r,i,n)})}function D(t,e){return c(t,"table")&&c(11!==e.nodeType?e:e.firstChild,"tr")&&wt(t).children("tbody")[0]||t}function k(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function O(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function L(t,e){var n,i,r,o,s,a,u,c;if(1===e.nodeType){if(qt.hasData(t)&&(o=qt.access(t),s=qt.set(e,o),c=o.events))for(r in delete s.handle,s.events={},c)for(n=0,i=c[r].length;n<i;n++)wt.event.add(e,r,c[r][n]);Ht.hasData(t)&&(a=Ht.access(t),u=wt.extend({},a),Ht.set(e,u))}}function R(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Xt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function N(n,i,r,o){i=ct.apply([],i);var t,e,s,a,u,c,l=0,h=n.length,p=h-1,d=i[0],f=vt(d);if(f||1<h&&"string"==typeof d&&!yt.checkClone&&ce.test(d))return n.each(function(t){var e=n.eq(t);f&&(i[0]=d.call(this,t,e.html())),N(e,i,r,o)});if(h&&(e=(t=w(i,n[0].ownerDocument,!1,n,o)).firstChild,1===t.childNodes.length&&(t=e),e||o)){for(a=(s=wt.map(A(t,"script"),k)).length;l<h;l++)u=t,l!==p&&(u=wt.clone(u,!0,!0),a&&wt.merge(s,A(u,"script"))),r.call(n[l],u,l);if(a)for(c=s[s.length-1].ownerDocument,wt.map(s,O),l=0;l<a;l++)u=s[l],Yt.test(u.type||"")&&!qt.access(u,"globalEval")&&wt.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?wt._evalUrl&&wt._evalUrl(u.src):m(u.textContent.replace(le,""),c,u))}return n}function I(t,e,n){for(var i,r=e?wt.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||wt.cleanData(A(i)),i.parentNode&&(n&&wt.contains(i.ownerDocument,i)&&E(A(i,"script")),i.parentNode.removeChild(i));return t}function P(t,e,n){var i,r,o,s,a=t.style;return(n=n||pe(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||wt.contains(t.ownerDocument,t)||(s=wt.style(t,e)),!yt.pixelBoxStyles()&&he.test(s)&&de.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),s!==undefined?s+"":s}function j(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function M(t){if(t in be)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=ve.length;n--;)if((t=ve[n]+e)in be)return t}function B(t){var e=wt.cssProps[t];return e||(e=wt.cssProps[t]=M(t)||t),e}function F(t,e,n){var i=Kt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function q(t,e,n,i,r,o){var s="width"===e?1:0,a=0,u=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(u+=wt.css(t,n+zt[s],!0,r)),i?("content"===n&&(u-=wt.css(t,"padding"+zt[s],!0,r)),"margin"!==n&&(u-=wt.css(t,"border"+zt[s]+"Width",!0,r))):(u+=wt.css(t,"padding"+zt[s],!0,r),"padding"!==n?u+=wt.css(t,"border"+zt[s]+"Width",!0,r):a+=wt.css(t,"border"+zt[s]+"Width",!0,r));return!i&&0<=o&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-a-.5))),u}function H(t,e,n){var i=pe(t),r=P(t,e,i),o="border-box"===wt.css(t,"boxSizing",!1,i),s=o;if(he.test(r)){if(!n)return r;r="auto"}return s=s&&(yt.boxSizingReliable()||r===t.style[e]),("auto"===r||!parseFloat(r)&&"inline"===wt.css(t,"display",!1,i))&&(r=t["offset"+e[0].toUpperCase()+e.slice(1)],s=!0),(r=parseFloat(r)||0)+q(t,e,n||(o?"border":"content"),s,i,r)+"px"}function W(t,e,n,i,r){return new W.prototype.init(t,e,n,i,r)}function U(){Ee&&(!1===st.hidden&&S.requestAnimationFrame?S.requestAnimationFrame(U):S.setTimeout(U,wt.fx.interval),wt.fx.tick())}function V(){return S.setTimeout(function(){Ae=undefined}),Ae=Date.now()}function K(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=zt[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function z(t,e,n){for(var i,r=($.tweeners[e]||[]).concat($.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function G(t,e,n){var i,r,o,s,a,u,c,l,h="width"in e||"height"in e,p=this,d={},f=t.style,m=t.nodeType&&Gt(t),g=qt.get(t,"fxshow");for(i in n.queue||(null==(s=wt._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,p.always(function(){p.always(function(){s.unqueued--,wt.queue(t,"fx").length||s.empty.fire()})})),e)if(r=e[i],Se.test(r)){if(delete e[i],o=o||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||g[i]===undefined)continue;m=!0}d[i]=g&&g[i]||wt.style(t,i)}if((u=!wt.isEmptyObject(e))||!wt.isEmptyObject(d))for(i in h&&1===t.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=qt.get(t,"display")),"none"===(l=wt.css(t,"display"))&&(c?l=c:(b([t],!0),c=t.style.display||c,l=wt.css(t,"display"),b([t]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===wt.css(t,"float")&&(u||(p.done(function(){f.display=c}),null==c&&(l=f.display,c="none"===l?"":l)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",p.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),u=!1,d)u||(g?"hidden"in g&&(m=g.hidden):g=qt.access(t,"fxshow",{display:c}),o&&(g.hidden=!m),m&&b([t],!0),p.done(function(){for(i in m||b([t]),qt.remove(t,"fxshow"),d)wt.style(t,i,d[i])})),u=z(m?g[i]:0,i,p),i in g||(g[i]=u.start,m&&(u.end=u.start,u.start=0))}function J(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=d(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=wt.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}function $(o,t,e){var n,s,i=0,r=$.prefilters.length,a=wt.Deferred().always(function(){delete u.elem}),u=function(){if(s)return!1;for(var t=Ae||V(),e=Math.max(0,c.startTime+c.duration-t),n=1-(e/c.duration||0),i=0,r=c.tweens.length;i<r;i++)c.tweens[i].run(n);return a.notifyWith(o,[c,n,e]),n<1&&r?e:(r||a.notifyWith(o,[c,1,0]),a.resolveWith(o,[c]),!1)},c=a.promise({elem:o,props:wt.extend({},t),opts:wt.extend(!0,{specialEasing:{},easing:wt.easing._default},e),originalProperties:t,originalOptions:e,startTime:Ae||V(),duration:e.duration,tweens:[],createTween:function(t,e){var n=wt.Tween(o,c.opts,t,e,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var e=0,n=t?c.tweens.length:0;if(s)return this;for(s=!0;e<n;e++)c.tweens[e].run(1);return t?(a.notifyWith(o,[c,1,0]),a.resolveWith(o,[c,t])):a.rejectWith(o,[c,t]),this}}),l=c.props;for(J(l,c.opts.specialEasing);i<r;i++)if(n=$.prefilters[i].call(c,o,l,c.opts))return vt(n.stop)&&(wt._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return wt.map(l,z,c),vt(c.opts.start)&&c.opts.start.call(o,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),wt.fx.timer(wt.extend(u,{elem:o,anim:c,queue:c.opts.queue})),c}function X(t){return(t.match(Nt)||[]).join(" ")}function Q(t){return t.getAttribute&&t.getAttribute("class")||""}function Y(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(Nt)||[]}function Z(n,t,i,r){var e;if(Array.isArray(t))wt.each(t,function(t,e){i||je.test(n)?r(n,e):Z(n+"["+("object"==typeof e&&null!=e?t:"")+"]",e,i,r)});else if(i||"object"!==g(t))r(n,t);else for(e in t)Z(n+"["+e+"]",t[e],i,r)}function tt(o){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,i=0,r=t.toLowerCase().match(Nt)||[];if(vt(e))for(;n=r[i++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(e)):(o[n]=o[n]||[]).push(e)}}function et(e,r,o,s){function a(t){var i;return u[t]=!0,wt.each(e[t]||[],function(t,e){var n=e(r,o,s);return"string"!=typeof n||c||u[n]?c?!(i=n):void 0:(r.dataTypes.unshift(n),a(n),!1)}),i}var u={},c=e===Je;return a(r.dataTypes[0])||!u["*"]&&a("*")}function nt(t,e){var n,i,r=wt.ajaxSettings.flatOptions||{};for(n in e)e[n]!==undefined&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&wt.extend(!0,t,i),t}function it(t,e,n){for(var i,r,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),i===undefined&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||t.converters[r+" "+u[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}function rt(t,e,n,i){var r,o,s,a,u,c={},l=t.dataTypes.slice();if(l[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=c[u+" "+o]||c["* "+o]))for(r in c)if((a=r.split(" "))[1]===o&&(s=c[u+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[r]:!0!==c[r]&&(o=a[0],l.unshift(a[1]));break}if(!0!==s)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}var ot=[],st=S.document,at=Object.getPrototypeOf,ut=ot.slice,ct=ot.concat,lt=ot.push,ht=ot.indexOf,pt={},dt=pt.toString,ft=pt.hasOwnProperty,mt=ft.toString,gt=mt.call(Object),yt={},vt=function vt(t){return"function"==typeof t&&"number"!=typeof t.nodeType},bt=function bt(t){return null!=t&&t===t.window},At={type:!0,src:!0,noModule:!0},Et="3.3.1",wt=function(t,e){return new wt.fn.init(t,e)},Ct=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;wt.fn=wt.prototype={jquery:Et,constructor:wt,length:0,toArray:function(){return ut.call(this)},get:function(t){return null==t?ut.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=wt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return wt.each(this,t)},map:function(n){return this.pushStack(wt.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(ut.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:lt,sort:ot.sort,splice:ot.splice},wt.extend=wt.fn.extend=function(t){var e,n,i,r,o,s,a=t||{},u=1,c=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[u]||{},u++),"object"==typeof a||vt(a)||(a={}),u===c&&(a=this,u--);u<c;u++)if(null!=(e=arguments[u]))for(n in e)i=a[n],a!==(r=e[n])&&(l&&r&&(wt.isPlainObject(r)||(o=Array.isArray(r)))?(o?(o=!1,s=i&&Array.isArray(i)?i:[]):s=i&&wt.isPlainObject(i)?i:{},a[n]=wt.extend(l,s,r)):r!==undefined&&(a[n]=r));return a},wt.extend({expando:"jQuery"+(Et+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==dt.call(t))&&(!(e=at(t))||"function"==typeof(n=ft.call(e,"constructor")&&e.constructor)&&mt.call(n)===gt)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){m(t)},each:function(t,e){var n,i=0;if(a(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(Ct,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(a(Object(t))?wt.merge(n,"string"==typeof t?[t]:t):lt.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:ht.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,s=[];if(a(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&s.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&s.push(r);return ct.apply([],s)},guid:1,support:yt}),"function"==typeof Symbol&&(wt.fn[Symbol.iterator]=ot[Symbol.iterator]),wt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){pt["[object "+e+"]"]=e.toLowerCase()});var St=function(n){function A(t,e,n,i){var r,o,s,a,u,c,l,h=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!i&&((e?e.ownerDocument||e:H)!==N&&R(e),e=e||N,P)){if(11!==p&&(u=yt.exec(t)))if(r=u[1]){if(9===p){if(!(s=e.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(h&&(s=h.getElementById(r))&&F(e,s)&&s.id===r)return n.push(s),n}else{if(u[2])return Y.apply(n,e.getElementsByTagName(t)),n;if((r=u[3])&&w.getElementsByClassName&&e.getElementsByClassName)return Y.apply(n,e.getElementsByClassName(r)),n}if(w.qsa&&!z[t+" "]&&(!j||!j.test(t))){if(1!==p)h=e,l=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(Et,wt):e.setAttribute("id",a=q),o=(c=T(t)).length;o--;)c[o]="#"+a+" "+m(c[o]);l=c.join(","),h=vt.test(t)&&f(e.parentNode)||e}if(l)try{return Y.apply(n,h.querySelectorAll(l)),n}catch(d){}finally{a===q&&e.removeAttribute("id")}}}return D(t.replace(at,"$1"),e,n,i)}function t(){function n(t,e){return i.push(t+" ")>C.cacheLength&&delete n[i.shift()],n[t+" "]=e}var i=[];return n}function u(t){return t[q]=!0,t}function r(t){var e=N.createElement("fieldset");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function e(t,e){for(var n=t.split("|"),i=n.length;i--;)C.attrHandle[n[i]]=e}function c(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function i(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function o(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function s(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&St(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function a(s){return u(function(o){return o=+o,u(function(t,e){for(var n,i=s([],t.length,o),r=i.length;r--;)t[n=i[r]]&&(t[n]=!(e[n]=t[n]))})})}function f(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function l(){}function m(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function h(a,t,e){var u=t.dir,c=t.next,l=c||u,h=e&&"parentNode"===l,p=U++;return t.first?function(t,e,n){for(;t=t[u];)if(1===t.nodeType||h)return a(t,e,n);return!1}:function(t,e,n){var i,r,o,s=[W,p];if(n){for(;t=t[u];)if((1===t.nodeType||h)&&a(t,e,n))return!0}else for(;t=t[u];)if(1===t.nodeType||h)if(r=(o=t[q]||(t[q]={}))[t.uniqueID]||(o[t.uniqueID]={}),c&&c===t.nodeName.toLowerCase())t=t[u]||t;else{if((i=r[l])&&i[0]===W&&i[1]===p)return s[2]=i[2];if((r[l]=s)[2]=a(t,e,n))return!0}return!1}}function p(r){return 1<r.length?function(t,e,n){for(var i=r.length;i--;)if(!r[i](t,e,n))return!1;return!0}:r[0]}function v(t,e,n){for(var i=0,r=e.length;i<r;i++)A(t,e[i],n);return n}function E(t,e,n,i,r){for(var o,s=[],a=0,u=t.length,c=null!=e;a<u;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),c&&e.push(a)));return s}function b(d,f,m,g,y,t){return g&&!g[q]&&(g=b(g)),y&&!y[q]&&(y=b(y,t)),u(function(t,e,n,i){var r,o,s,a=[],u=[],c=e.length,l=t||v(f||"*",n.nodeType?[n]:n,[]),h=!d||!t&&f?l:E(l,a,d,n,i),p=m?y||(t?d:c||g)?[]:e:h;if(m&&m(h,p,n,i),g)for(r=E(p,u),g(r,[],n,i),o=r.length;o--;)(
s=r[o])&&(p[u[o]]=!(h[u[o]]=s));if(t){if(y||d){if(y){for(r=[],o=p.length;o--;)(s=p[o])&&r.push(h[o]=s);y(null,p=[],r,i)}for(o=p.length;o--;)(s=p[o])&&-1<(r=y?tt(t,s):a[o])&&(t[r]=!(e[r]=s))}}else p=E(p===e?p.splice(c,p.length):p),y?y(null,e,p,i):Y.apply(e,p)})}function d(t){for(var r,e,n,i=t.length,o=C.relative[t[0].type],s=o||C.relative[" "],a=o?1:0,u=h(function(t){return t===r},s,!0),c=h(function(t){return-1<tt(r,t)},s,!0),l=[function(t,e,n){var i=!o&&(n||e!==k)||((r=e).nodeType?u(t,e,n):c(t,e,n));return r=null,i}];a<i;a++)if(e=C.relative[t[a].type])l=[h(p(l),e)];else{if((e=C.filter[t[a].type].apply(null,t[a].matches))[q]){for(n=++a;n<i&&!C.relative[t[n].type];n++);return b(1<a&&p(l),1<a&&m(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),e,a<n&&d(t.slice(a,n)),n<i&&d(t=t.slice(n)),n<i&&m(t))}l.push(e)}return p(l)}function g(g,y){var v=0<y.length,b=0<g.length,t=function(t,e,n,i,r){var o,s,a,u=0,c="0",l=t&&[],h=[],p=k,d=t||b&&C.find.TAG("*",r),f=W+=null==p?1:Math.random()||.1,m=d.length;for(r&&(k=e===N||e||r);c!==m&&null!=(o=d[c]);c++){if(b&&o){for(s=0,e||o.ownerDocument===N||(R(o),n=!P);a=g[s++];)if(a(o,e||N,n)){i.push(o);break}r&&(W=f)}v&&((o=!a&&o)&&u--,t&&l.push(o))}if(u+=c,v&&c!==u){for(s=0;a=y[s++];)a(l,h,e,n);if(t){if(0<u)for(;c--;)l[c]||h[c]||(h[c]=X.call(i));h=E(h)}Y.apply(i,h),r&&!t&&0<h.length&&1<u+y.length&&A.uniqueSort(i)}return r&&(W=f,k=p),l};return v?u(t):t}var y,w,C,S,x,T,_,D,k,O,L,R,N,I,P,j,M,B,F,q="sizzle"+1*new Date,H=n.document,W=0,U=0,V=t(),K=t(),z=t(),G=function(t,e){return t===e&&(L=!0),0},J={}.hasOwnProperty,$=[],X=$.pop,Q=$.push,Y=$.push,Z=$.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),at=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),lt=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(ot),pt=new RegExp("^"+it+"$"),dt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vt=/[+~]/,bt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),At=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,wt=function(t,e){return e?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},Ct=function(){R()},St=h(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{Y.apply($=Z.call(H.childNodes),H.childNodes),$[H.childNodes.length].nodeType}catch(xt){Y={apply:$.length?function(t,e){Q.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}for(y in w=A.support={},x=A.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},R=A.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:H;return i!==N&&9===i.nodeType&&i.documentElement&&(I=(N=i).documentElement,P=!x(N),H!==N&&(n=N.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ct,!1):n.attachEvent&&n.attachEvent("onunload",Ct)),w.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=r(function(t){return t.appendChild(N.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=gt.test(N.getElementsByClassName),w.getById=r(function(t){return I.appendChild(t).id=q,!N.getElementsByName||!N.getElementsByName(q).length}),w.getById?(C.filter.ID=function(t){var e=t.replace(bt,At);return function(t){return t.getAttribute("id")===e}},C.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&P){var n=e.getElementById(t);return n?[n]:[]}}):(C.filter.ID=function(t){var n=t.replace(bt,At);return function(t){var e="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===n}},C.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&P){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),C.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"!==t)return o;for(;n=o[r++];)1===n.nodeType&&i.push(n);return i},C.find.CLASS=w.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&P)return e.getElementsByClassName(t)},M=[],j=[],(w.qsa=gt.test(N.querySelectorAll))&&(r(function(t){I.appendChild(t).innerHTML="<a id='"+q+"'></a><select id='"+q+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&j.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||j.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+q+"-]").length||j.push("~="),t.querySelectorAll(":checked").length||j.push(":checked"),t.querySelectorAll("a#"+q+"+*").length||j.push(".#.+[+~]")}),r(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=N.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&j.push("name"+nt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&j.push(":enabled",":disabled"),I.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&j.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),j.push(",.*:")})),(w.matchesSelector=gt.test(B=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&r(function(t){w.disconnectedMatch=B.call(t,"*"),B.call(t,"[s!='']:x"),M.push("!=",ot)}),j=j.length&&new RegExp(j.join("|")),M=M.length&&new RegExp(M.join("|")),e=gt.test(I.compareDocumentPosition),F=e||gt.test(I.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},G=e?function(t,e){if(t===e)return L=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===N||t.ownerDocument===H&&F(H,t)?-1:e===N||e.ownerDocument===H&&F(H,e)?1:O?tt(O,t)-tt(O,e):0:4&n?-1:1)}:function(t,e){if(t===e)return L=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t===N?-1:e===N?1:r?-1:o?1:O?tt(O,t)-tt(O,e):0;if(r===o)return c(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?c(s[i],a[i]):s[i]===H?-1:a[i]===H?1:0}),N},A.matches=function(t,e){return A(t,null,null,e)},A.matchesSelector=function(t,e){if((t.ownerDocument||t)!==N&&R(t),e=e.replace(lt,"='$1']"),w.matchesSelector&&P&&!z[e+" "]&&(!M||!M.test(e))&&(!j||!j.test(e)))try{var n=B.call(t,e);if(n||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(xt){}return 0<A(e,N,null,[t]).length},A.contains=function(t,e){return(t.ownerDocument||t)!==N&&R(t),F(t,e)},A.attr=function(t,e){(t.ownerDocument||t)!==N&&R(t);var n=C.attrHandle[e.toLowerCase()],i=n&&J.call(C.attrHandle,e.toLowerCase())?n(t,e,!P):undefined;return i!==undefined?i:w.attributes||!P?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},A.escape=function(t){return(t+"").replace(Et,wt)},A.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},A.uniqueSort=function(t){var e,n=[],i=0,r=0;if(L=!w.detectDuplicates,O=!w.sortStable&&t.slice(0),t.sort(G),L){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return O=null,t},S=A.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=S(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=S(e);return n},(C=A.selectors={cacheLength:50,createPseudo:u,match:dt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,At),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,At),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||A.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&A.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return dt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=T(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,At).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=V[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&V(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(t){var e=A.attr(t,n);return null==e?"!="===i:!i||(e+="","="===i?e===r:"!="===i?e!==r:"^="===i?r&&0===e.indexOf(r):"*="===i?r&&-1<e.indexOf(r):"$="===i?r&&e.slice(-r.length)===r:"~="===i?-1<(" "+e.replace(st," ")+" ").indexOf(r):"|="===i&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(f,t,e,m,g){var y="nth"!==f.slice(0,3),v="last"!==f.slice(-4),b="of-type"===t;return 1===m&&0===g?function(t){return!!t.parentNode}:function(t,e,n){var i,r,o,s,a,u,c=y!==v?"nextSibling":"previousSibling",l=t.parentNode,h=b&&t.nodeName.toLowerCase(),p=!n&&!b,d=!1;if(l){if(y){for(;c;){for(s=t;s=s[c];)if(b?s.nodeName.toLowerCase()===h:1===s.nodeType)return!1;u=c="only"===f&&!u&&"nextSibling"}return!0}if(u=[v?l.firstChild:l.lastChild],v&&p){for(d=(a=(i=(r=(o=(s=l)[q]||(s[q]={}))[s.uniqueID]||(o[s.uniqueID]={}))[f]||[])[0]===W&&i[1])&&i[2],s=a&&l.childNodes[a];s=++a&&s&&s[c]||(d=a=0)||u.pop();)if(1===s.nodeType&&++d&&s===t){r[f]=[W,a,d];break}}else if(p&&(d=a=(i=(r=(o=(s=t)[q]||(s[q]={}))[s.uniqueID]||(o[s.uniqueID]={}))[f]||[])[0]===W&&i[1]),!1===d)for(;(s=++a&&s&&s[c]||(d=a=0)||u.pop())&&((b?s.nodeName.toLowerCase()!==h:1!==s.nodeType)||!++d||(p&&((r=(o=s[q]||(s[q]={}))[s.uniqueID]||(o[s.uniqueID]={}))[f]=[W,d]),s!==t)););return(d-=g)===m||d%m==0&&0<=d/m}}},PSEUDO:function(t,o){var e,s=C.pseudos[t]||C.setFilters[t.toLowerCase()]||A.error("unsupported pseudo: "+t);return s[q]?s(o):1<s.length?(e=[t,t,"",o],C.setFilters.hasOwnProperty(t.toLowerCase())?u(function(t,e){for(var n,i=s(t,o),r=i.length;r--;)t[n=tt(t,i[r])]=!(e[n]=i[r])}):function(t){return s(t,0,e)}):s}},pseudos:{not:u(function(t){var i=[],r=[],a=_(t.replace(at,"$1"));return a[q]?u(function(t,e,n,i){for(var r,o=a(t,null,i,[]),s=t.length;s--;)(r=o[s])&&(t[s]=!(e[s]=r))}):function(t,e,n){return i[0]=t,a(i,null,n,r),i[0]=null,!r.pop()}}),has:u(function(e){return function(t){return 0<A(e,t).length}}),contains:u(function(e){return e=e.replace(bt,At),function(t){return-1<(t.textContent||t.innerText||S(t)).indexOf(e)}}),lang:u(function(n){return pt.test(n||"")||A.error("unsupported lang: "+n),n=n.replace(bt,At).toLowerCase(),function(t){var e;do{if(e=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===I},focus:function(t){return t===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:s(!1),disabled:s(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:a(function(){return[0]}),last:a(function(t,e){return[e-1]}),eq:a(function(t,e,n){return[n<0?n+e:n]}),even:a(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:a(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:a(function(t,e,n){for(var i=n<0?n+e:n;0<=--i;)t.push(i);return t}),gt:a(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=C.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[y]=i(y);for(y in{submit:!0,reset:!0})C.pseudos[y]=o(y);return l.prototype=C.filters=C.pseudos,C.setFilters=new l,T=A.tokenize=function(t,e){var n,i,r,o,s,a,u,c=K[t+" "];if(c)return e?0:c.slice(0);for(s=t,a=[],u=C.preFilter;s;){for(o in n&&!(i=ut.exec(s))||(i&&(s=s.slice(i[0].length)||s),a.push(r=[])),n=!1,(i=ct.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(at," ")}),s=s.slice(n.length)),C.filter)!(i=dt[o].exec(s))||u[o]&&!(i=u[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),s=s.slice(n.length));if(!n)break}return e?s.length:s?A.error(t):K(t,a).slice(0)},_=A.compile=function(t,e){var n,i=[],r=[],o=z[t+" "];if(!o){for(e||(e=T(t)),n=e.length;n--;)(o=d(e[n]))[q]?i.push(o):r.push(o);(o=z(t,g(r,i))).selector=t}return o},D=A.select=function(t,e,n,i){var r,o,s,a,u,c="function"==typeof t&&t,l=!i&&T(t=c.selector||t);if(n=n||[],1===l.length){if(2<(o=l[0]=l[0].slice(0)).length&&"ID"===(s=o[0]).type&&9===e.nodeType&&P&&C.relative[o[1].type]){if(!(e=(C.find.ID(s.matches[0].replace(bt,At),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=dt.needsContext.test(t)?0:o.length;r--&&(s=o[r],!C.relative[a=s.type]);)if((u=C.find[a])&&(i=u(s.matches[0].replace(bt,At),vt.test(o[0].type)&&f(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&m(o)))return Y.apply(n,i),n;break}}return(c||_(t,l))(i,e,!P,n,!e||vt.test(t)&&f(e.parentNode)||e),n},w.sortStable=q.split("").sort(G).join("")===q,w.detectDuplicates=!!L,R(),w.sortDetached=r(function(t){return 1&t.compareDocumentPosition(N.createElement("fieldset"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||e("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||e("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||e(et,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),A}(S);wt.find=St,wt.expr=St.selectors,wt.expr[":"]=wt.expr.pseudos,wt.uniqueSort=wt.unique=St.uniqueSort,wt.text=St.getText,wt.isXMLDoc=St.isXML,wt.contains=St.contains,wt.escapeSelector=St.escape;var xt=function(t,e,n){for(var i=[],r=n!==undefined;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&wt(t).is(n))break;i.push(t)}return i},Tt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},_t=wt.expr.match.needsContext,Dt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;wt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?wt.find.matchesSelector(i,t)?[i]:[]:wt.find.matches(t,wt.grep(e,function(t){return 1===t.nodeType}))},wt.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(wt(t).filter(function(){for(e=0;e<i;e++)if(wt.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)wt.find(t,r[e],n);return 1<i?wt.uniqueSort(n):n},filter:function(t){return this.pushStack(e(this,t||[],!1))},not:function(t){return this.pushStack(e(this,t||[],!0))},is:function(t){return!!e(this,"string"==typeof t&&_t.test(t)?wt(t):t||[],!1).length}});var kt,Ot=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(wt.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||kt,"string"!=typeof t)return t.nodeType?(this[0]=t,this.length=1,this):vt(t)?n.ready!==undefined?n.ready(t):t(wt):wt.makeArray(t,this);if(!(i="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:Ot.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof wt?e[0]:e,wt.merge(this,wt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:st,!0)),Dt.test(i[1])&&wt.isPlainObject(e))for(i in e)vt(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=st.getElementById(i[2]))&&(this[0]=r,this.length=1),this}).prototype=wt.fn,kt=wt(st);var Lt=/^(?:parents|prev(?:Until|All))/,Rt={children:!0,contents:!0,next:!0,prev:!0};wt.fn.extend({has:function(t){var e=wt(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(wt.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],s="string"!=typeof t&&wt(t);if(!_t.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&wt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(1<o.length?wt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?ht.call(wt(t),this[0]):ht.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(wt.uniqueSort(wt.merge(this.get(),wt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),wt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return xt(t,"parentNode")},parentsUntil:function(t,e,n){return xt(t,"parentNode",n)},next:function(t){return n(t,"nextSibling")},prev:function(t){return n(t,"previousSibling")},nextAll:function(t){return xt(t,"nextSibling")},prevAll:function(t){return xt(t,"previousSibling")},nextUntil:function(t,e,n){return xt(t,"nextSibling",n)},prevUntil:function(t,e,n){return xt(t,"previousSibling",n)},siblings:function(t){return Tt((t.parentNode||{}).firstChild,t)},children:function(t){return Tt(t.firstChild)},contents:function(t){return c(t,"iframe")?t.contentDocument:(c(t,"template")&&(t=t.content||t),wt.merge([],t.childNodes))}},function(i,r){wt.fn[i]=function(t,e){var n=wt.map(this,r,t);return"Until"!==i.slice(-5)&&(e=t),e&&"string"==typeof e&&(n=wt.filter(e,n)),1<this.length&&(Rt[i]||wt.uniqueSort(n),Lt.test(i)&&n.reverse()),this.pushStack(n)}});var Nt=/[^\x20\t\r\n\f]+/g;wt.Callbacks=function(i){i="string"==typeof i?l(i):wt.extend({},i);var r,t,e,n,o=[],s=[],a=-1,u=function(){for(n=n||i.once,e=r=!0;s.length;a=-1)for(t=s.shift();++a<o.length;)!1===o[a].apply(t[0],t[1])&&i.stopOnFalse&&(a=o.length,t=!1);i.memory||(t=!1),r=!1,n&&(o=t?[]:"")},c={add:function(){return o&&(t&&!r&&(a=o.length-1,s.push(t)),function n(t){wt.each(t,function(t,e){vt(e)?i.unique&&c.has(e)||o.push(e):e&&e.length&&"string"!==g(e)&&n(e)})}(arguments),t&&!r&&u()),this},remove:function(){return wt.each(arguments,function(t,e){for(var n;-1<(n=wt.inArray(e,o,n));)o.splice(n,1),n<=a&&a--}),this},has:function(t){return t?-1<wt.inArray(t,o):0<o.length},empty:function(){return o&&(o=[]),this},disable:function(){return n=s=[],o=t="",this},disabled:function(){return!o},lock:function(){return n=s=[],t||r||(o=t=""),this},locked:function(){return!!n},fireWith:function(t,e){return n||(e=[t,(e=e||[]).slice?e.slice():e],s.push(e),r||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!e}};return c},wt.extend({Deferred:function(t){var o=[["notify","progress",wt.Callbacks("memory"),wt.Callbacks("memory"),2],["resolve","done",wt.Callbacks("once memory"),wt.Callbacks("once memory"),0,"resolved"],["reject","fail",wt.Callbacks("once memory"),wt.Callbacks("once memory"),1,"rejected"]],r="pending",s={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},"catch":function(t){return s.then(null,t)},pipe:function(){var r=arguments;return wt.Deferred(function(i){wt.each(o,function(t,e){var n=vt(r[e[4]])&&r[e[4]];a[e[1]](function(){var t=n&&n.apply(this,arguments);t&&vt(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[e[0]+"With"](this,n?[t]:arguments)})}),r=null}).promise()},then:function(e,n,i){function c(o,s,a,u){return function(){var n=this,i=arguments,e=function(){var t,e;if(!(o<l)){if((t=a.apply(n,i))===s.promise())throw new TypeError("Thenable self-resolution");e=t&&("object"==typeof t||"function"==typeof t)&&t.then,vt(e)?u?e.call(t,c(l,s,h,u),c(l,s,p,u)):(l++,e.call(t,c(l,s,h,u),c(l,s,p,u),c(l,s,h,s.notifyWith))):(a!==h&&(n=undefined,i=[t]),(u||s.resolveWith)(n,i))}},r=u?e:function(){try{e()}catch(t){wt.Deferred.exceptionHook&&wt.Deferred.exceptionHook(t,r.stackTrace),l<=o+1&&(a!==p&&(n=undefined,i=[t]),s.rejectWith(n,i))}};o?r():(wt.Deferred.getStackHook&&(r.stackTrace=wt.Deferred.getStackHook()),S.setTimeout(r))}}var l=0;return wt.Deferred(function(t){o[0][3].add(c(0,t,vt(i)?i:h,t.notifyWith)),o[1][3].add(c(0,t,vt(e)?e:h)),o[2][3].add(c(0,t,vt(n)?n:p))}).promise()},promise:function(t){return null!=t?wt.extend(t,s):s}},a={};return wt.each(o,function(t,e){var n=e[2],i=e[5];s[e[1]]=n.add,i&&n.add(function(){r=i},o[3-t][2].disable,o[3-t][3].disable,o[0][2].lock,o[0][3].lock),n.add(e[3].fire),a[e[0]]=function(){return a[e[0]+"With"](this===a?undefined:this,arguments),this},a[e[0]+"With"]=n.fireWith}),s.promise(a),t&&t.call(a,a),a},when:function(t){var n=arguments.length,e=n,i=Array(e),r=ut.call(arguments),o=wt.Deferred(),s=function(e){return function(t){i[e]=this,r[e]=1<arguments.length?ut.call(arguments):t,--n||o.resolveWith(i,r)}};if(n<=1&&(u(t,o.done(s(e)).resolve,o.reject,!n),"pending"===o.state()||vt(r[e]&&r[e].then)))return o.then();for(;e--;)u(r[e],s(e),o.reject);return o.promise()}});var It=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;wt.Deferred.exceptionHook=function(t,e){S.console&&S.console.warn&&t&&It.test(t.name)&&S.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},wt.readyException=function(t){S.setTimeout(function(){throw t})};var Pt=wt.Deferred();wt.fn.ready=function(t){return Pt.then(t)["catch"](function(t){wt.readyException(t)}),this},wt.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--wt.readyWait:wt.isReady)||(wt.isReady=!0)!==t&&0<--wt.readyWait||Pt.resolveWith(st,[wt])}}),wt.ready.then=Pt.then,"complete"===st.readyState||"loading"!==st.readyState&&!st.documentElement.doScroll?S.setTimeout(wt.ready):(st.addEventListener("DOMContentLoaded",i),S.addEventListener("load",i));var jt=function(t,e,n,i,r,o,s){var a=0,u=t.length,c=null==n;if("object"===g(n))for(a in r=!0,n)jt(t,e,a,n[a],!0,o,s);else if(i!==undefined&&(r=!0,vt(i)||(s=!0),c&&(s?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(wt(t),n)})),e))for(;a<u;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:c?e.call(t):u?e(t[0],n):o},Mt=/^-ms-/,Bt=/-([a-z])/g,Ft=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};o.uid=1,o.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Ft(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[d(e)]=n;else for(i in e)r[d(i)]=e[i];return r},get:function(t,e){return e===undefined?this.cache(t):t[this.expando]&&t[this.expando][d(e)]},access:function(t,e,n){return e===undefined||e&&"string"==typeof e&&n===undefined?this.get(t,e):(this.set(t,e,n),n!==undefined?n:e)},remove:function(t,e){var n,i=t[this.expando];if(i!==undefined){if(e!==undefined){n=(e=Array.isArray(e)?e.map(d):(e=d(e))in i?[e]:e.match(Nt)||[]).length;for(;n--;)delete i[e[n]]}(e===undefined||wt.isEmptyObject(i))&&(t.nodeType?t[this.expando]=undefined:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return e!==undefined&&!wt.isEmptyObject(e)}};var qt=new o,Ht=new o,Wt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ut=/[A-Z]/g;wt.extend({hasData:function(t){return Ht.hasData(t)||qt.hasData(t)},data:function(t,e,n){return Ht.access(t,e,n)},removeData:function(t,e){Ht.remove(t,e)},_data:function(t,e,n){return qt.access(t,e,n)},_removeData:function(t,e){qt.remove(t,e)}}),wt.fn.extend({data:function(n,t){var e,i,r,o=this[0],s=o&&o.attributes;if(n!==undefined)return"object"==typeof n?this.each(function(){Ht.set(this,n)}):jt(this,function(t){var e;if(o&&t===undefined)return(e=Ht.get(o,n))!==undefined?e:(e=f(o,n))!==undefined?e:void 0;this.each(function(){Ht.set(this,n,t)})},null,t,1<arguments.length,null,!0);if(this.length&&(r=Ht.get(o),1===o.nodeType&&!qt.get(o,"hasDataAttrs"))){for(e=s.length;e--;)s[e]&&0===(i=s[e].name).indexOf("data-")&&(i=d(i.slice(5)),f(o,i,r[i]));qt.set(o,"hasDataAttrs",!0)}return r},removeData:function(t){return this.each(function(){Ht.remove(this,t)})}}),wt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=qt.get(t,e),n&&(!i||Array.isArray(n)?i=qt.access(t,e,wt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=wt.queue(t,e),i=n.length,r=n.shift(),o=wt._queueHooks(t,e),s=function(){wt.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return qt.get(t,n)||qt.access(t,n,{empty:wt.Callbacks("once memory").add(function(){qt.remove(t,[e+"queue",n])})})}}),wt.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?wt.queue(this[0],e):n===undefined?this:this.each(function(){var t=wt.queue(this,e,n);wt._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&wt.dequeue(this,e)})},dequeue:function(t){return this.each(function(){wt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=wt.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=undefined),t=t||"fx";s--;)(n=qt.get(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var Vt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Kt=new RegExp("^(?:([+-])=|)("+Vt+")([a-z%]*)$","i"),zt=["Top","Right","Bottom","Left"],Gt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&wt.contains(t.ownerDocument,t)&&"none"===wt.css(t,"display")},Jt=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=s[o];return r},$t={};wt.fn.extend({show:function(){return b(this,!0)},hide:function(){return b(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Gt(this)?wt(this).show():wt(this).hide()})}});var Xt=/^(?:checkbox|radio)$/i,Qt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Yt=/^$|^module$|\/(?:java|ecma)script/i,Zt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Zt.optgroup=Zt.option,Zt.tbody=Zt.tfoot=Zt.colgroup=Zt.caption=Zt.thead,Zt.th=Zt.td;var te,ee,ne=/<|&#?\w+;/;te=st.createDocumentFragment().appendChild(st.createElement("div")),(ee=st.createElement("input")).setAttribute("type","radio"),ee.setAttribute("checked","checked"),ee.setAttribute("name","t"),te.appendChild(ee),yt.checkClone=te.cloneNode(!0).cloneNode(!0).lastChild.checked,te.innerHTML="<textarea>x</textarea>",yt.noCloneChecked=!!te.cloneNode(!0).lastChild.defaultValue;var ie=st.documentElement,re=/^key/,oe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,se=/^([^.]*)(?:\.(.+)|)/;wt.event={global:{},add:function(e,t,n,i,r){var o,s,a,u,c,l,h,p,d,f,m,g=qt.get(e);if(g)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&wt.find.matchesSelector(ie,r),n.guid||(n.guid=wt.guid++),(u=g.events)||(u=g.events={}),(s=g.handle)||(s=g.handle=function(t){return void 0!==wt&&wt.event.triggered!==t.type?wt.event.dispatch.apply(e,arguments):undefined}),c=(t=(t||"").match(Nt)||[""]).length;c--;)d=m=(a=se.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),d&&(h=wt.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,h=wt.event.special[d]||{},l=wt.extend({type:d,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&wt.expr.match.needsContext.test(r),namespace:f.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,i,f,s)||e.addEventListener&&e.addEventListener(d,s)),h.add&&(h.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,l):p.push(l),wt.event.global[d]=!0)},remove:function(t,e,n,i,r){var o,s,a,u,c,l,h,p,d,f,m,g=qt.hasData(t)&&qt.get(t);if(g&&(u=g.events)){for(c=(e=(e||"").match(Nt)||[""]).length;c--;)if(d=m=(a=se.exec(e[c])||[])[1],f=(a[2]||"").split(".").sort(),d){for(h=wt.event.special[d]||{},p=u[d=(i?h.delegateType:h.bindType)||d]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)l=p[o],!r&&m!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||i&&i!==l.selector&&("**"!==i||!l.selector)||(p.splice(o,1),l.selector&&p.delegateCount--,h.remove&&h.remove.call(t,l));s&&!p.length&&(h.teardown&&!1!==h.teardown.call(t,f,g.handle)||wt.removeEvent(t,d,g.handle),delete u[d])}else for(d in u)wt.event.remove(t,d+e[c],n,i,!0);wt.isEmptyObject(u)&&qt.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,s,a=wt.event.fix(t),u=new Array(arguments.length),c=(qt.get(this,"events")||{})[a.type]||[],l=wt.event.special[a.type]||{};for(u[0]=a,e=1;e<arguments.length;e++)u[e]=arguments[e];if(a.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,a)){for(s=wt.event.handlers.call(this,a,c),e=0;(r=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,(i=((wt.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,u))!==undefined&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,r,o,s,a=[],u=e.delegateCount,c=t.target;if(u&&c.nodeType&&!("click"===t.type&&1<=t.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(o=[],s={},n=0;n<u;n++)s[r=(i=e[n]).selector+" "]===undefined&&(s[r]=i.needsContext?-1<wt(r,this).index(c):wt.find(r,this,null,[c]).length),s[r]&&o.push(i);o.length&&a.push({elem:c,handlers:o})}return c=this,u<e.length&&a.push({elem:c,handlers:e.slice(u)}),a},addProp:function(e,t){Object.defineProperty(wt.Event.prototype,e,{enumerable:!0,configurable:!0,get:vt(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(t){return t[wt.expando]?t:new wt.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==T()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===T()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&c(this,"input"))return this.click(),!1},_default:function(t){
return c(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==undefined&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},wt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},wt.Event=function(t,e){if(!(this instanceof wt.Event))return new wt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&!1===t.returnValue?C:x,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&wt.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[wt.expando]=!0},wt.Event.prototype={constructor:wt.Event,isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=C,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=C,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=C,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},wt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&re.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&e!==undefined&&oe.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},wt.event.addProp),wt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,o){wt.event.special[t]={delegateType:o,bindType:o,handle:function(t){var e,n=this,i=t.relatedTarget,r=t.handleObj;return i&&(i===n||wt.contains(n,i))||(t.type=r.origType,e=r.handler.apply(this,arguments),t.type=o),e}}}),wt.fn.extend({on:function(t,e,n,i){return _(this,t,e,n,i)},one:function(t,e,n,i){return _(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,wt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=undefined),!1===n&&(n=x),this.each(function(){wt.event.remove(this,t,n,e)});for(r in t)this.off(r,e,t[r]);return this}});var ae=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ue=/<script|<style|<link/i,ce=/checked\s*(?:[^=]|=\s*.checked.)/i,le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;wt.extend({htmlPrefilter:function(t){return t.replace(ae,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),u=wt.contains(t.ownerDocument,t);if(!(yt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||wt.isXMLDoc(t)))for(s=A(a),i=0,r=(o=A(t)).length;i<r;i++)R(o[i],s[i]);if(e)if(n)for(o=o||A(t),s=s||A(a),i=0,r=o.length;i<r;i++)L(o[i],s[i]);else L(t,a);return 0<(s=A(a,"script")).length&&E(s,!u&&A(t,"script")),a},cleanData:function(t){for(var e,n,i,r=wt.event.special,o=0;(n=t[o])!==undefined;o++)if(Ft(n)){if(e=n[qt.expando]){if(e.events)for(i in e.events)r[i]?wt.event.remove(n,i):wt.removeEvent(n,i,e.handle);n[qt.expando]=undefined}n[Ht.expando]&&(n[Ht.expando]=undefined)}}}),wt.fn.extend({detach:function(t){return I(this,t,!0)},remove:function(t){return I(this,t)},text:function(t){return jt(this,function(t){return t===undefined?wt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return N(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||D(this,t).appendChild(t)})},prepend:function(){return N(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=D(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return N(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return N(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(wt.cleanData(A(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return wt.clone(this,t,e)})},html:function(t){return jt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(t===undefined&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!ue.test(t)&&!Zt[(Qt.exec(t)||["",""])[1].toLowerCase()]){t=wt.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(wt.cleanData(A(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var n=[];return N(this,arguments,function(t){var e=this.parentNode;wt.inArray(this,n)<0&&(wt.cleanData(A(this)),e&&e.replaceChild(t,this))},n)}}),wt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,s){wt.fn[t]=function(t){for(var e,n=[],i=wt(t),r=i.length-1,o=0;o<=r;o++)e=o===r?this:this.clone(!0),wt(i[o])[s](e),lt.apply(n,e.get());return this.pushStack(n)}});var he=new RegExp("^("+Vt+")(?!px)[a-z%]+$","i"),pe=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=S),e.getComputedStyle(t)},de=new RegExp(zt.join("|"),"i");!function(){function t(){if(u){a.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(a).appendChild(u);var t=S.getComputedStyle(u);n="1%"!==t.top,s=12===e(t.marginLeft),u.style.right="60%",o=36===e(t.right),i=36===e(t.width),u.style.position="absolute",r=36===u.offsetWidth||"absolute",ie.removeChild(a),u=null}}function e(t){return Math.round(parseFloat(t))}var n,i,r,o,s,a=st.createElement("div"),u=st.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",yt.clearCloneStyle="content-box"===u.style.backgroundClip,wt.extend(yt,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),o},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),s},scrollboxSize:function(){return t(),r}}))}();var fe=/^(none|table(?!-c[ea]).+)/,me=/^--/,ge={position:"absolute",visibility:"hidden",display:"block"},ye={letterSpacing:"0",fontWeight:"400"},ve=["Webkit","Moz","ms"],be=st.createElement("div").style;wt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=P(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=d(e),u=me.test(e),c=t.style;if(u||(e=B(a)),s=wt.cssHooks[e]||wt.cssHooks[a],n===undefined)return s&&"get"in s&&(r=s.get(t,!1,i))!==undefined?r:c[e];"string"===(o=typeof n)&&(r=Kt.exec(n))&&r[1]&&(n=y(t,e,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(wt.cssNumber[a]?"":"px")),yt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),s&&"set"in s&&(n=s.set(t,n,i))===undefined||(u?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,i){var r,o,s,a=d(e);return me.test(e)||(e=B(a)),(s=wt.cssHooks[e]||wt.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),r===undefined&&(r=P(t,e,i)),"normal"===r&&e in ye&&(r=ye[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),wt.each(["height","width"],function(t,a){wt.cssHooks[a]={get:function(t,e,n){if(e)return!fe.test(wt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?H(t,a,n):Jt(t,ge,function(){return H(t,a,n)})},set:function(t,e,n){var i,r=pe(t),o="border-box"===wt.css(t,"boxSizing",!1,r),s=n&&q(t,a,n,o,r);return o&&yt.scrollboxSize()===r.position&&(s-=Math.ceil(t["offset"+a[0].toUpperCase()+a.slice(1)]-parseFloat(r[a])-q(t,a,"border",!1,r)-.5)),s&&(i=Kt.exec(e))&&"px"!==(i[3]||"px")&&(t.style[a]=e,e=wt.css(t,a)),F(t,e,s)}}}),wt.cssHooks.marginLeft=j(yt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(P(t,"marginLeft"))||t.getBoundingClientRect().left-Jt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),wt.each({margin:"",padding:"",border:"Width"},function(r,o){wt.cssHooks[r+o]={expand:function(t){for(var e=0,n={},i="string"==typeof t?t.split(" "):[t];e<4;e++)n[r+zt[e]+o]=i[e]||i[e-2]||i[0];return n}},"margin"!==r&&(wt.cssHooks[r+o].set=F)}),wt.fn.extend({css:function(t,e){return jt(this,function(t,e,n){var i,r,o={},s=0;if(Array.isArray(e)){for(i=pe(t),r=e.length;s<r;s++)o[e[s]]=wt.css(t,e[s],!1,i);return o}return n!==undefined?wt.style(t,e,n):wt.css(t,e)},t,e,1<arguments.length)}}),(wt.Tween=W).prototype={constructor:W,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||wt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(wt.cssNumber[n]?"":"px")},cur:function(){var t=W.propHooks[this.prop];return t&&t.get?t.get(this):W.propHooks._default.get(this)},run:function(t){var e,n=W.propHooks[this.prop];return this.options.duration?this.pos=e=wt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):W.propHooks._default.set(this),this}},W.prototype.init.prototype=W.prototype,W.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=wt.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){wt.fx.step[t.prop]?wt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[wt.cssProps[t.prop]]&&!wt.cssHooks[t.prop]?t.elem[t.prop]=t.now:wt.style(t.elem,t.prop,t.now+t.unit)}}},W.propHooks.scrollTop=W.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},wt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},wt.fx=W.prototype.init,wt.fx.step={};var Ae,Ee,we,Ce,Se=/^(?:toggle|show|hide)$/,xe=/queueHooks$/;wt.Animation=wt.extend($,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return y(n.elem,t,Kt.exec(e),n),n}]},tweener:function(t,e){vt(t)?(e=t,t=["*"]):t=t.match(Nt);for(var n,i=0,r=t.length;i<r;i++)n=t[i],$.tweeners[n]=$.tweeners[n]||[],$.tweeners[n].unshift(e)},prefilters:[G],prefilter:function(t,e){e?$.prefilters.unshift(t):$.prefilters.push(t)}}),wt.speed=function(t,e,n){var i=t&&"object"==typeof t?wt.extend({},t):{complete:n||!n&&e||vt(t)&&t,duration:t,easing:n&&e||e&&!vt(e)&&e};return wt.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in wt.fx.speeds?i.duration=wt.fx.speeds[i.duration]:i.duration=wt.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){vt(i.old)&&i.old.call(this),i.queue&&wt.dequeue(this,i.queue)},i},wt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Gt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,t,n,i){var r=wt.isEmptyObject(e),o=wt.speed(t,n,i),s=function(){var t=$(this,wt.extend({},e),o);(r||qt.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(r,t,o){var s=function(t){var e=t.stop;delete t.stop,e(o)};return"string"!=typeof r&&(o=t,t=r,r=undefined),t&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var t=!0,e=null!=r&&r+"queueHooks",n=wt.timers,i=qt.get(this);if(e)i[e]&&i[e].stop&&s(i[e]);else for(e in i)i[e]&&i[e].stop&&xe.test(e)&&s(i[e]);for(e=n.length;e--;)n[e].elem!==this||null!=r&&n[e].queue!==r||(n[e].anim.stop(o),t=!1,n.splice(e,1));!t&&o||wt.dequeue(this,r)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var t,e=qt.get(this),n=e[s+"queue"],i=e[s+"queueHooks"],r=wt.timers,o=n?n.length:0;for(e.finish=!0,wt.queue(this,s,[]),i&&i.stop&&i.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===s&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),wt.each(["toggle","show","hide"],function(t,i){var r=wt.fn[i];wt.fn[i]=function(t,e,n){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(K(i,!0),t,e,n)}}),wt.each({slideDown:K("show"),slideUp:K("hide"),slideToggle:K("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){wt.fn[t]=function(t,e,n){return this.animate(i,t,e,n)}}),wt.timers=[],wt.fx.tick=function(){var t,e=0,n=wt.timers;for(Ae=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||wt.fx.stop(),Ae=undefined},wt.fx.timer=function(t){wt.timers.push(t),wt.fx.start()},wt.fx.interval=13,wt.fx.start=function(){Ee||(Ee=!0,U())},wt.fx.stop=function(){Ee=null},wt.fx.speeds={slow:600,fast:200,_default:400},wt.fn.delay=function(i,t){return i=wt.fx&&wt.fx.speeds[i]||i,t=t||"fx",this.queue(t,function(t,e){var n=S.setTimeout(t,i);e.stop=function(){S.clearTimeout(n)}})},we=st.createElement("input"),Ce=st.createElement("select").appendChild(st.createElement("option")),we.type="checkbox",yt.checkOn=""!==we.value,yt.optSelected=Ce.selected,(we=st.createElement("input")).value="t",we.type="radio",yt.radioValue="t"===we.value;var Te,_e=wt.expr.attrHandle;wt.fn.extend({attr:function(t,e){return jt(this,wt.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){wt.removeAttr(this,t)})}}),wt.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?wt.prop(t,e,n):(1===o&&wt.isXMLDoc(t)||(r=wt.attrHooks[e.toLowerCase()]||(wt.expr.match.bool.test(e)?Te:undefined)),n!==undefined?null===n?void wt.removeAttr(t,e):r&&"set"in r&&(i=r.set(t,n,e))!==undefined?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=wt.find.attr(t,e))?undefined:i)},attrHooks:{type:{set:function(t,e){if(!yt.radioValue&&"radio"===e&&c(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(Nt);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),Te={set:function(t,e,n){return!1===e?wt.removeAttr(t,n):t.setAttribute(n,n),n}},wt.each(wt.expr.match.bool.source.match(/\w+/g),function(t,e){var s=_e[e]||wt.find.attr;_e[e]=function(t,e,n){var i,r,o=e.toLowerCase();return n||(r=_e[o],_e[o]=i,i=null!=s(t,e,n)?o:null,_e[o]=r),i}});var De=/^(?:input|select|textarea|button)$/i,ke=/^(?:a|area)$/i;wt.fn.extend({prop:function(t,e){return jt(this,wt.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[wt.propFix[t]||t]})}}),wt.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&wt.isXMLDoc(t)||(e=wt.propFix[e]||e,r=wt.propHooks[e]),n!==undefined?r&&"set"in r&&(i=r.set(t,n,e))!==undefined?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=wt.find.attr(t,"tabindex");return e?parseInt(e,10):De.test(t.nodeName)||ke.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),yt.optSelected||(wt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),wt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){wt.propFix[this.toLowerCase()]=this}),wt.fn.extend({addClass:function(e){var t,n,i,r,o,s,a,u=0;if(vt(e))return this.each(function(t){wt(this).addClass(e.call(this,t,Q(this)))});if((t=Y(e)).length)for(;n=this[u++];)if(r=Q(n),i=1===n.nodeType&&" "+X(r)+" "){for(s=0;o=t[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=X(i))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,i,r,o,s,a,u=0;if(vt(e))return this.each(function(t){wt(this).removeClass(e.call(this,t,Q(this)))});if(!arguments.length)return this.attr("class","");if((t=Y(e)).length)for(;n=this[u++];)if(r=Q(n),i=1===n.nodeType&&" "+X(r)+" "){for(s=0;o=t[s++];)for(;-1<i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");r!==(a=X(i))&&n.setAttribute("class",a)}return this},toggleClass:function(r,e){var o=typeof r,s="string"===o||Array.isArray(r);return"boolean"==typeof e&&s?e?this.addClass(r):this.removeClass(r):vt(r)?this.each(function(t){wt(this).toggleClass(r.call(this,t,Q(this),e),e)}):this.each(function(){var t,e,n,i;if(s)for(e=0,n=wt(this),i=Y(r);t=i[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else r!==undefined&&"boolean"!==o||((t=Q(this))&&qt.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===r?"":qt.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+X(Q(n))+" ").indexOf(e))return!0;return!1}});var Oe=/\r/g;wt.fn.extend({val:function(n){var i,t,r,e=this[0];return arguments.length?(r=vt(n),this.each(function(t){var e;1===this.nodeType&&(null==(e=r?n.call(this,t,wt(this).val()):n)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=wt.map(e,function(t){return null==t?"":t+""})),(i=wt.valHooks[this.type]||wt.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&i.set(this,e,"value")!==undefined||(this.value=e))})):e?(i=wt.valHooks[e.type]||wt.valHooks[e.nodeName.toLowerCase()])&&"get"in i&&(t=i.get(e,"value"))!==undefined?t:"string"==typeof(t=e.value)?t.replace(Oe,""):null==t?"":t:void 0}}),wt.extend({valHooks:{option:{get:function(t){var e=wt.find.attr(t,"value");return null!=e?e:X(wt.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],u=s?o+1:r.length;for(i=o<0?u:s?o:0;i<u;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!c(n.parentNode,"optgroup"))){if(e=wt(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=wt.makeArray(e),s=r.length;s--;)((i=r[s]).selected=-1<wt.inArray(wt.valHooks.option.get(i),o))&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),wt.each(["radio","checkbox"],function(){wt.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<wt.inArray(wt(t).val(),e)}},yt.checkOn||(wt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),yt.focusin="onfocusin"in S;var Le=/^(?:focusinfocus|focusoutblur)$/,Re=function(t){t.stopPropagation()};wt.extend(wt.event,{trigger:function(t,e,n,i){var r,o,s,a,u,c,l,h,p=[n||st],d=ft.call(t,"type")?t.type:t,f=ft.call(t,"namespace")?t.namespace.split("."):[];if(o=h=s=n=n||st,3!==n.nodeType&&8!==n.nodeType&&!Le.test(d+wt.event.triggered)&&(-1<d.indexOf(".")&&(d=(f=d.split(".")).shift(),f.sort()),u=d.indexOf(":")<0&&"on"+d,(t=t[wt.expando]?t:new wt.Event(d,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=n),e=null==e?[t]:wt.makeArray(e,[t]),l=wt.event.special[d]||{},i||!l.trigger||!1!==l.trigger.apply(n,e))){if(!i&&!l.noBubble&&!bt(n)){for(a=l.delegateType||d,Le.test(a+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),s=o;s===(n.ownerDocument||st)&&p.push(s.defaultView||s.parentWindow||S)}for(r=0;(o=p[r++])&&!t.isPropagationStopped();)h=o,t.type=1<r?a:l.bindType||d,(c=(qt.get(o,"events")||{})[t.type]&&qt.get(o,"handle"))&&c.apply(o,e),(c=u&&o[u])&&c.apply&&Ft(o)&&(t.result=c.apply(o,e),!1===t.result&&t.preventDefault());return t.type=d,i||t.isDefaultPrevented()||l._default&&!1!==l._default.apply(p.pop(),e)||!Ft(n)||u&&vt(n[d])&&!bt(n)&&((s=n[u])&&(n[u]=null),wt.event.triggered=d,t.isPropagationStopped()&&h.addEventListener(d,Re),n[d](),t.isPropagationStopped()&&h.removeEventListener(d,Re),wt.event.triggered=undefined,s&&(n[u]=s)),t.result}},simulate:function(t,e,n){var i=wt.extend(new wt.Event,n,{type:t,isSimulated:!0});wt.event.trigger(i,null,e)}}),wt.fn.extend({trigger:function(t,e){return this.each(function(){wt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return wt.event.trigger(t,e,n,!0)}}),yt.focusin||wt.each({focus:"focusin",blur:"focusout"},function(n,i){var r=function(t){wt.event.simulate(i,t.target,wt.event.fix(t))};wt.event.special[i]={setup:function(){var t=this.ownerDocument||this,e=qt.access(t,i);e||t.addEventListener(n,r,!0),qt.access(t,i,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=qt.access(t,i)-1;e?qt.access(t,i,e):(t.removeEventListener(n,r,!0),qt.remove(t,i))}}});var Ne=S.location,Ie=Date.now(),Pe=/\?/;wt.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new S.DOMParser).parseFromString(t,"text/xml")}catch(n){e=undefined}return e&&!e.getElementsByTagName("parsererror").length||wt.error("Invalid XML: "+t),e};var je=/\[\]$/,Me=/\r?\n/g,Be=/^(?:submit|button|image|reset|file)$/i,Fe=/^(?:input|select|textarea|keygen)/i;wt.param=function(t,e){var n,i=[],r=function(t,e){var n=vt(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!wt.isPlainObject(t))wt.each(t,function(){r(this.name,this.value)});else for(n in t)Z(n,t[n],e,r);return i.join("&")},wt.fn.extend({serialize:function(){return wt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=wt.prop(this,"elements");return t?wt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!wt(this).is(":disabled")&&Fe.test(this.nodeName)&&!Be.test(t)&&(this.checked||!Xt.test(t))}).map(function(t,e){var n=wt(this).val();return null==n?null:Array.isArray(n)?wt.map(n,function(t){return{name:e.name,value:t.replace(Me,"\r\n")}}):{name:e.name,value:n.replace(Me,"\r\n")}}).get()}});var qe=/%20/g,He=/#.*$/,We=/([?&])_=[^&]*/,Ue=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ve=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ke=/^(?:GET|HEAD)$/,ze=/^\/\//,Ge={},Je={},$e="*/".concat("*"),Xe=st.createElement("a");Xe.href=Ne.href,wt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ne.href,type:"GET",isLocal:Ve.test(Ne.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$e,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":wt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?nt(nt(t,wt.ajaxSettings),e):nt(wt.ajaxSettings,t)},ajaxPrefilter:tt(Ge),ajaxTransport:tt(Je),ajax:function(t,e){function n(t,e,n,i){var r,o,s,a,u,c=e;f||(f=!0,d&&S.clearTimeout(d),l=undefined,p=i||"",w.readyState=0<t?4:0,r=200<=t&&t<300||304===t,n&&(a=it(g,w,n)),a=rt(g,a,w,r),r?(g.ifModified&&((u=w.getResponseHeader("Last-Modified"))&&(wt.lastModified[h]=u),(u=w.getResponseHeader("etag"))&&(wt.etag[h]=u)),204===t||"HEAD"===g.type?c="nocontent":304===t?c="notmodified":(c=a.state,o=a.data,r=!(s=a.error))):(s=c,!t&&c||(c="error",t<0&&(t=0))),w.status=t,w.statusText=(e||c)+"",r?b.resolveWith(y,[o,c,w]):b.rejectWith(y,[w,c,s]),w.statusCode(E),E=undefined,m&&v.trigger(r?"ajaxSuccess":"ajaxError",[w,g,r?o:s]),A.fireWith(y,[w,c]),m&&(v.trigger("ajaxComplete",[w,g]),--wt.active||wt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=undefined),e=e||{};var l,h,p,i,d,r,f,m,o,s,g=wt.ajaxSetup({},e),y=g.context||g,v=g.context&&(y.nodeType||y.jquery)?wt(y):wt.event,b=wt.Deferred(),A=wt.Callbacks("once memory"),E=g.statusCode||{},a={},u={},c="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(f){if(!i)for(i={};e=Ue.exec(p);)i[e[1].toLowerCase()]=e[2];e=i[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return f?p:null},setRequestHeader:function(t,e){return null==f&&(t=u[t.toLowerCase()]=u[t.toLowerCase()]||t,a[t]=e),this},overrideMimeType:function(t){return null==f&&(g.mimeType=t),this},statusCode:function(t){var e;if(t)if(f)w.always(t[w.status]);else for(e in t)E[e]=[E[e],t[e]];return this},abort:function(t){var e=t||c;return l&&l.abort(e),n(0,e),this}};if(b.promise(w),g.url=((t||g.url||Ne.href)+"").replace(ze,Ne.protocol+"//"),g.type=e.method||e.type||g.method||g.type,g.dataTypes=(g.dataType||"*").toLowerCase().match(Nt)||[""],null==g.crossDomain){r=st.createElement("a");try{r.href=g.url,r.href=r.href,g.crossDomain=Xe.protocol+"//"+Xe.host!=r.protocol+"//"+r.host}catch(C){g.crossDomain=!0}}if(g.data&&g.processData&&"string"!=typeof g.data&&(g.data=wt.param(g.data,g.traditional)),et(Ge,g,e,w),f)return w;for(o in(m=wt.event&&g.global)&&0==wt.active++&&wt.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!Ke.test(g.type),h=g.url.replace(He,""),g.hasContent?g.data&&g.processData&&0===(g.contentType||"").indexOf("application/x-www-form-urlencoded")&&(g.data=g.data.replace(qe,"+")):(s=g.url.slice(h.length),g.data&&(g.processData||"string"==typeof g.data)&&(h+=(Pe.test(h)?"&":"?")+g.data,delete g.data),!1===g.cache&&(h=h.replace(We,"$1"),s=(Pe.test(h)?"&":"?")+"_="+Ie+++s),g.url=h+s),g.ifModified&&(wt.lastModified[h]&&w.setRequestHeader("If-Modified-Since",wt.lastModified[h]),wt.etag[h]&&w.setRequestHeader("If-None-Match",wt.etag[h])),(g.data&&g.hasContent&&!1!==g.contentType||e.contentType)&&w.setRequestHeader("Content-Type",g.contentType),w.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+$e+"; q=0.01":""):g.accepts["*"]),g.headers)w.setRequestHeader(o,g.headers[o]);if(g.beforeSend&&(!1===g.beforeSend.call(y,w,g)||f))return w.abort();if(c="abort",A.add(g.complete),w.done(g.success),w.fail(g.error),l=et(Je,g,e,w)){if(w.readyState=1,m&&v.trigger("ajaxSend",[w,g]),f)return w;g.async&&0<g.timeout&&(d=S.setTimeout(function(){w.abort("timeout")},g.timeout));try{f=!1,l.send(a,n)}catch(C){if(f)throw C;n(-1,C)}}else n(-1,"No Transport");return w},getJSON:function(t,e,n){return wt.get(t,e,n,"json")},getScript:function(t,e){return wt.get(t,undefined,e,"script")}}),wt.each(["get","post"],function(t,r){wt[r]=function(t,e,n,i){return vt(e)&&(i=i||n,n=e,e=undefined),wt.ajax(wt.extend({url:t,type:r,dataType:i,data:e,success:n},wt.isPlainObject(t)&&t))}}),wt._evalUrl=function(t){return wt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},wt.fn.extend({wrapAll:function(t){var e;return this[0]&&(vt(t)&&(t=t.call(this[0])),e=wt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(n){return vt(n)?this.each(function(t){wt(this).wrapInner(n.call(this,t))}):this.each(function(){var t=wt(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=vt(e);return this.each(function(t){wt(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(t){return this.parent(t).not("body").each(function(){wt(this).replaceWith(this.childNodes)}),this}}),wt.expr.pseudos.hidden=function(t){return!wt.expr.pseudos.visible(t)},wt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},wt.ajaxSettings.xhr=function(){try{return new S.XMLHttpRequest}catch(t){}};var Qe={0:200,1223:204},Ye=wt.ajaxSettings.xhr();yt.cors=!!Ye&&"withCredentials"in Ye,yt.ajax=Ye=!!Ye,wt.ajaxTransport(function(o){var s,a;if(yt.cors||Ye&&!o.crossDomain)return{send:function(t,e){var n,i=o.xhr();if(i.open(o.type,o.url,o.async,o.username,o.password),o.xhrFields)for(n in o.xhrFields)i[n]=o.xhrFields[n];for(n in o.mimeType&&i.overrideMimeType&&i.overrideMimeType(o.mimeType),o.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)i.setRequestHeader(n,t[n]);s=function(t){return function(){s&&(s=a=i.onload=i.onerror=i.onabort=i.ontimeout=i.onreadystatechange=null,"abort"===t?i.abort():"error"===t?"number"!=typeof i.status?e(0,"error"):e(i.status,i.statusText):e(Qe[i.status]||i.status,i.statusText,"text"!==(i.responseType||"text")||"string"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=s(),a=i.onerror=i.ontimeout=s("error"),i.onabort!==undefined?i.onabort=a:i.onreadystatechange=function(){4===i.readyState&&S.setTimeout(function(){s&&a()})},s=s("abort");try{i.send(o.hasContent&&o.data||null)}catch(r){if(s)throw r}},abort:function(){s&&s()}}}),wt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),wt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return wt.globalEval(t),t}}}),wt.ajaxPrefilter("script",function(t){t.cache===undefined&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),wt.ajaxTransport("script",function(n){var i,r;if(n.crossDomain)return{send:function(t,e){i=wt("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",r=function(t){i.remove(),r=null,t&&e("error"===t.type?404:200,t.type)}),st.head.appendChild(i[0])},abort:function(){r&&r()}}});var Ze,tn=[],en=/(=)\?(?=&|$)|\?\?/;wt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=tn.pop()||wt.expando+"_"+Ie++;return this[t]=!0,t}}),wt.ajaxPrefilter("json jsonp",function(t,e,n){var i,r,o,s=!1!==t.jsonp&&(en.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&en.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=vt(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(en,"$1"+i):!1!==t.jsonp&&(t.url+=(Pe.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||wt.error(i+" was not called"),o[0]},t.dataTypes[0]="json",r=S[i],S[i]=function(){o=arguments},n.always(function(){r===undefined?wt(S).removeProp(i):S[i]=r,t[i]&&(t.jsonpCallback=e.jsonpCallback,tn.push(i)),o&&vt(r)&&r(o[0]),o=r=undefined}),"script"}),yt.createHTMLDocument=((Ze=st.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ze.childNodes.length),wt.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(yt.createHTMLDocument?((i=(e=st.implementation.createHTMLDocument("")).createElement("base")).href=st.location.href,e.head.appendChild(i)):e=st),o=!n&&[],(r=Dt.exec(t))?[e.createElement(r[1])]:(r=w([t],e,o),o&&o.length&&wt(o).remove(),wt.merge([],r.childNodes)));var i,r,o},wt.fn.load=function(t,e,n){var i,r,o,s=this,a=t.indexOf(" ");return-1<a&&(i=X(t.slice(a)),t=t.slice(0,a)),vt(e)?(n=e,e=undefined):e&&"object"==typeof e&&(r="POST"),0<s.length&&wt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?wt("<div>").append(wt.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},wt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){wt.fn[e]=function(t){return this.on(e,t)}}),wt.expr.pseudos.animated=function(e){return wt.grep(wt.timers,function(t){return e===t.elem}).length},wt.offset={setOffset:function(t,e,n){var i,r,o,s,a,u,c=wt.css(t,"position"),l=wt(t),h={};"static"===c&&(t.style.position="relative"),a=l.offset(),o=wt.css(t,"top"),u=wt.css(t,"left"),("absolute"===c||"fixed"===c)&&-1<(o+u).indexOf("auto")?(s=(i=l.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(u)||0),vt(e)&&(e=e.call(t,n,wt.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):l.css(h)}},wt.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){wt.offset.setOffset(this,e,t)});var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===wt.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===wt.css(t,"position");)t=t.parentNode
;t&&t!==i&&1===t.nodeType&&((r=wt(t).offset()).top+=wt.css(t,"borderTopWidth",!0),r.left+=wt.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-wt.css(i,"marginTop",!0),left:e.left-r.left-wt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===wt.css(t,"position");)t=t.offsetParent;return t||ie})}}),wt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,r){var o="pageYOffset"===r;wt.fn[e]=function(t){return jt(this,function(t,e,n){var i;if(bt(t)?i=t:9===t.nodeType&&(i=t.defaultView),n===undefined)return i?i[r]:t[e];i?i.scrollTo(o?i.pageXOffset:n,o?n:i.pageYOffset):t[e]=n},e,t,arguments.length)}}),wt.each(["top","left"],function(t,n){wt.cssHooks[n]=j(yt.pixelPosition,function(t,e){if(e)return e=P(t,n),he.test(e)?wt(t).position()[n]+"px":e})}),wt.each({Height:"height",Width:"width"},function(s,a){wt.each({padding:"inner"+s,content:a,"":"outer"+s},function(i,o){wt.fn[o]=function(t,e){var n=arguments.length&&(i||"boolean"!=typeof t),r=i||(!0===t||!0===e?"margin":"border");return jt(this,function(t,e,n){var i;return bt(t)?0===o.indexOf("outer")?t["inner"+s]:t.document.documentElement["client"+s]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+s],i["scroll"+s],t.body["offset"+s],i["offset"+s],i["client"+s])):n===undefined?wt.css(t,e,r):wt.style(t,e,n,r)},a,n?t:undefined,n)}})}),wt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,n){wt.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),wt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),wt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),wt.proxy=function(t,e){var n,i,r;return"string"==typeof e&&(n=t[e],e=t,t=n),vt(t)?(i=ut.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(ut.call(arguments)))}).guid=t.guid=t.guid||wt.guid++,r):undefined},wt.holdReady=function(t){t?wt.readyWait++:wt.ready(!0)},wt.isArray=Array.isArray,wt.parseJSON=JSON.parse,wt.nodeName=c,wt.isFunction=vt,wt.isWindow=bt,wt.camelCase=d,wt.type=g,wt.now=Date.now,wt.isNumeric=function(t){var e=wt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return wt});var nn=S.jQuery,rn=S.$;return wt.noConflict=function(t){return S.$===wt&&(S.$=rn),t&&S.jQuery===wt&&(S.jQuery=nn),wt},t||(S.jQuery=S.$=wt),wt}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Popper=e()}(this,function(){"use strict";function t(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}function e(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},ct))}}function a(t){return t&&"[object Function]"==={}.toString.call(t)}function A(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function f(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function m(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=A(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?t:m(f(t))}function g(t){return 11===t?pt:10===t?dt:pt||dt}function b(t){if(!t)return document.documentElement;for(var e=g(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===A(n,"position")?b(n):n:t?t.ownerDocument.documentElement:document.documentElement}function u(t){var e=t.nodeName;return"BODY"!==e&&("HTML"===e||b(t.firstElementChild)===t)}function c(t){return null!==t.parentNode?c(t.parentNode):t}function y(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,r=n?e:t,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var s=o.commonAncestorContainer;if(t!==s&&e!==s||i.contains(r))return u(s)?s:b(s);var a=c(t);return a.host?y(a.host,e):y(t,c(e).host)}function p(t,e){var n="top"===(1<arguments.length&&e!==undefined?arguments[1]:"top")?"scrollTop":"scrollLeft",i=t.nodeName;if("BODY"!==i&&"HTML"!==i)return t[n];var r=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||r)[n]}function v(t,e,n){var i=2<arguments.length&&n!==undefined&&arguments[2],r=p(e,"top"),o=p(e,"left"),s=i?-1:1;return t.top+=r*s,t.bottom+=r*s,t.left+=o*s,t.right+=o*s,t}function d(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+i+"Width"],10)}function r(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],g(10)?parseInt(n["offset"+t])+parseInt(i["margin"+("Height"===t?"Top":"Left")])+parseInt(i["margin"+("Height"===t?"Bottom":"Right")]):0)}function E(t){var e=t.body,n=t.documentElement,i=g(10)&&getComputedStyle(n);return{height:r("Height",e,n,i),width:r("Width",e,n,i)}}function w(t){return yt({},t,{right:t.left+t.width,bottom:t.top+t.height})}function C(t){var e={};try{if(g(10)){e=t.getBoundingClientRect();var n=p(t,"top"),i=p(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(h){}var r={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?E(t.ownerDocument):{},s=o.width||t.clientWidth||r.right-r.left,a=o.height||t.clientHeight||r.bottom-r.top,u=t.offsetWidth-s,c=t.offsetHeight-a;if(u||c){var l=A(t);u-=d(l,"x"),c-=d(l,"y"),r.width-=u,r.height-=c}return w(r)}function S(t,e,n){var i=2<arguments.length&&n!==undefined&&arguments[2],r=g(10),o="HTML"===e.nodeName,s=C(t),a=C(e),u=m(t),c=A(e),l=parseFloat(c.borderTopWidth,10),h=parseFloat(c.borderLeftWidth,10);i&&o&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var p=w({top:s.top-a.top-l,left:s.left-a.left-h,width:s.width,height:s.height});if(p.marginTop=0,p.marginLeft=0,!r&&o){var d=parseFloat(c.marginTop,10),f=parseFloat(c.marginLeft,10);p.top-=l-d,p.bottom-=l-d,p.left-=h-f,p.right-=h-f,p.marginTop=d,p.marginLeft=f}return(r&&!i?e.contains(u):e===u&&"BODY"!==u.nodeName)&&(p=v(p,e)),p}function x(t,e){var n=1<arguments.length&&e!==undefined&&arguments[1],i=t.ownerDocument.documentElement,r=S(t,i),o=Math.max(i.clientWidth,window.innerWidth||0),s=Math.max(i.clientHeight,window.innerHeight||0),a=n?0:p(i),u=n?0:p(i,"left");return w({top:a-r.top+r.marginTop,left:u-r.left+r.marginLeft,width:o,height:s})}function T(t){var e=t.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===A(t,"position")||T(f(t)))}function _(t){if(!t||!t.parentElement||g())return document.documentElement;for(var e=t.parentElement;e&&"none"===A(e,"transform");)e=e.parentElement;return e||document.documentElement}function D(t,e,n,i,r){var o=4<arguments.length&&r!==undefined&&arguments[4],s={top:0,left:0},a=o?_(t):y(t,e);if("viewport"===i)s=x(a,o);else{var u=void 0;"scrollParent"===i?"BODY"===(u=m(f(e))).nodeName&&(u=t.ownerDocument.documentElement):u="window"===i?t.ownerDocument.documentElement:i;var c=S(u,a,o);if("HTML"!==u.nodeName||T(a))s=c;else{var l=E(t.ownerDocument),h=l.height,p=l.width;s.top+=c.top-c.marginTop,s.bottom=h+c.top,s.left+=c.left-c.marginLeft,s.right=p+c.left}}var d="number"==typeof(n=n||0);return s.left+=d?n:n.left||0,s.top+=d?n:n.top||0,s.right-=d?n:n.right||0,s.bottom-=d?n:n.bottom||0,s}function k(t){return t.width*t.height}function l(t,e,i,n,r,o){var s=5<arguments.length&&o!==undefined?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=D(i,n,s,r),u={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},c=Object.keys(u).map(function(t){return yt({key:t},u[t],{area:k(u[t])})}).sort(function(t,e){return e.area-t.area}),l=c.filter(function(t){var e=t.width,n=t.height;return e>=i.clientWidth&&n>=i.clientHeight}),h=0<l.length?l[0].key:c[0].key,p=t.split("-")[1];return h+(p?"-"+p:"")}function h(t,e,n,i){var r=3<arguments.length&&i!==undefined?arguments[3]:null;return S(n,r?_(e):y(e,n),r)}function O(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop)+parseFloat(e.marginBottom),i=parseFloat(e.marginLeft)+parseFloat(e.marginRight);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function L(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function R(t,e,n){n=n.split("-")[0];var i=O(t),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",u=o?"height":"width",c=o?"width":"height";return r[s]=e[s]+e[u]/2-i[u]/2,r[a]=n===a?e[a]-i[c]:e[L(a)],r}function N(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function i(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var i=N(t,function(t){return t[e]===n});return t.indexOf(i)}function I(t,n,e){return(e===undefined?t:t.slice(0,i(t,"name",e))).forEach(function(t){t["function"]&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var e=t["function"]||t.fn;t.enabled&&a(e)&&(n.offsets.popper=w(n.offsets.popper),n.offsets.reference=w(n.offsets.reference),n=e(n,t))}),n}function o(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=h(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=l(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=R(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=I(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function n(t,n){return t.some(function(t){var e=t.name;return t.enabled&&e===n})}function P(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var r=e[i],o=r?""+r+n:t;if("undefined"!=typeof document.body.style[o])return o}return null}function j(){return this.state.isDestroyed=!0,n(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[P("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function s(t){var e=t.ownerDocument;return e?e.defaultView:window}function M(t,e,n,i){var r="BODY"===t.nodeName,o=r?t.ownerDocument.defaultView:t;o.addEventListener(e,n,{passive:!0}),r||M(m(o.parentNode),e,n,i),i.push(o)}function B(t,e,n,i){n.updateBound=i,s(t).addEventListener("resize",n.updateBound,{passive:!0});var r=m(t);return M(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function F(){this.state.eventsEnabled||(this.state=B(this.reference,this.options,this.state,this.scheduleUpdate))}function q(t,e){return s(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function H(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=q(this.reference,this.state))}function W(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function U(n,i){Object.keys(i).forEach(function(t){var e="";-1!==["width","height","top","right","bottom","left"].indexOf(t)&&W(i[t])&&(e="px"),n.style[t]=i[t]+e})}function V(e,n){Object.keys(n).forEach(function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)})}function K(t){return U(t.instance.popper,t.styles),V(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&U(t.arrowElement,t.arrowStyles),t}function z(t,e,n,i,r){var o=h(r,e,t,n.positionFixed),s=l(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",s),U(e,{position:n.positionFixed?"fixed":"absolute"}),n}function G(t,e){var n=e.x,i=e.y,r=t.offsets.popper,o=N(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;o!==undefined&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=o!==undefined?o:e.gpuAcceleration,a=b(t.instance.popper),u=C(a),c={position:r.position},l={left:Math.floor(r.left),top:Math.round(r.top),bottom:Math.round(r.bottom),right:Math.floor(r.right)},h="bottom"===n?"top":"bottom",p="right"===i?"left":"right",d=P("transform"),f=void 0,m=void 0;if(m="bottom"===h?"HTML"===a.nodeName?-a.clientHeight+l.bottom:-u.height+l.bottom:l.top,f="right"===p?"HTML"===a.nodeName?-a.clientWidth+l.right:-u.width+l.right:l.left,s&&d)c[d]="translate3d("+f+"px, "+m+"px, 0)",c[h]=0,c[p]=0,c.willChange="transform";else{var g="bottom"===h?-1:1,y="right"===p?-1:1;c[h]=m*g,c[p]=f*y,c.willChange=h+", "+p}var v={"x-placement":t.placement};return t.attributes=yt({},v,t.attributes),t.styles=yt({},c,t.styles),t.arrowStyles=yt({},t.offsets.arrow,t.arrowStyles),t}function J(t,e,n){var i=N(t,function(t){return t.name===e}),r=!!i&&t.some(function(t){return t.name===n&&t.enabled&&t.order<i.order});if(!r){var o="`"+e+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}function $(t,e){var n;if(!J(t.instance.modifiers,"arrow","keepTogether"))return t;var i=e.element;if("string"==typeof i){if(!(i=t.instance.popper.querySelector(i)))return t}else if(!t.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var r=t.placement.split("-")[0],o=t.offsets,s=o.popper,a=o.reference,u=-1!==["left","right"].indexOf(r),c=u?"height":"width",l=u?"Top":"Left",h=l.toLowerCase(),p=u?"left":"top",d=u?"bottom":"right",f=O(i)[c];a[d]-f<s[h]&&(t.offsets.popper[h]-=s[h]-(a[d]-f)),a[h]+f>s[d]&&(t.offsets.popper[h]+=a[h]+f-s[d]),t.offsets.popper=w(t.offsets.popper);var m=a[h]+a[c]/2-f/2,g=A(t.instance.popper),y=parseFloat(g["margin"+l],10),v=parseFloat(g["border"+l+"Width"],10),b=m-t.offsets.popper[h]-y-v;return b=Math.max(Math.min(s[c]-f,b),0),t.arrowElement=i,t.offsets.arrow=(gt(n={},h,Math.round(b)),gt(n,p,""),n),t}function X(t){return"end"===t?"start":"start"===t?"end":t}function Q(t,e){var n=1<arguments.length&&e!==undefined&&arguments[1],i=bt.indexOf(t),r=bt.slice(i+1).concat(bt.slice(0,i));return n?r.reverse():r}function Y(d,f){if(n(d.instance.modifiers,"inner"))return d;if(d.flipped&&d.placement===d.originalPlacement)return d;var m=D(d.instance.popper,d.instance.reference,f.padding,f.boundariesElement,d.positionFixed),g=d.placement.split("-")[0],y=L(g),v=d.placement.split("-")[1]||"",b=[];switch(f.behavior){case At.FLIP:b=[g,y];break;case At.CLOCKWISE:b=Q(g);break;case At.COUNTERCLOCKWISE:b=Q(g,!0);break;default:b=f.behavior}return b.forEach(function(t,e){if(g!==t||b.length===e+1)return d;g=d.placement.split("-")[0],y=L(g);var n=d.offsets.popper,i=d.offsets.reference,r=Math.floor,o="left"===g&&r(n.right)>r(i.left)||"right"===g&&r(n.left)<r(i.right)||"top"===g&&r(n.bottom)>r(i.top)||"bottom"===g&&r(n.top)<r(i.bottom),s=r(n.left)<r(m.left),a=r(n.right)>r(m.right),u=r(n.top)<r(m.top),c=r(n.bottom)>r(m.bottom),l="left"===g&&s||"right"===g&&a||"top"===g&&u||"bottom"===g&&c,h=-1!==["top","bottom"].indexOf(g),p=!!f.flipVariations&&(h&&"start"===v&&s||h&&"end"===v&&a||!h&&"start"===v&&u||!h&&"end"===v&&c);(o||l||p)&&(d.flipped=!0,(o||l)&&(g=b[e+1]),p&&(v=X(v)),d.placement=g+(v?"-"+v:""),d.offsets.popper=yt({},d.offsets.popper,R(d.instance.popper,d.offsets.reference,d.placement)),d=I(d.instance.modifiers,d,"flip"))}),d}function Z(t){var e=t.offsets,n=e.popper,i=e.reference,r=t.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(r),a=s?"right":"bottom",u=s?"left":"top",c=s?"width":"height";return n[a]<o(i[u])&&(t.offsets.popper[u]=o(i[u])-n[c]),n[u]>o(i[a])&&(t.offsets.popper[u]=o(i[a])),t}function tt(t,e,n,i){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],s=r[2];if(!o)return t;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=i}return w(a)[e]/100*o}if("vh"!==s&&"vw"!==s)return o;return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}function et(t,r,o,e){var s=[0,0],a=-1!==["right","left"].indexOf(e),n=t.split(/(\+|\-)/).map(function(t){return t.trim()}),i=n.indexOf(N(n,function(t){return-1!==t.search(/,|\s/)}));n[i]&&-1===n[i].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,c=-1!==i?[n.slice(0,i).concat([n[i].split(u)[0]]),[n[i].split(u)[1]].concat(n.slice(i+1))]:[n];return(c=c.map(function(t,e){var n=(1===e?!a:a)?"height":"width",i=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,i=!0,t):i?(t[t.length-1]+=e,i=!1,t):t.concat(e)},[]).map(function(t){return tt(t,n,r,o)})})).forEach(function(n,i){n.forEach(function(t,e){W(t)&&(s[i]+=t*("-"===n[e-1]?-1:1))})}),s}function nt(t,e){var n=e.offset,i=t.placement,r=t.offsets,o=r.popper,s=r.reference,a=i.split("-")[0],u=void 0;return u=W(+n)?[+n,0]:et(n,o,s,a),"left"===a?(o.top+=u[0],o.left-=u[1]):"right"===a?(o.top+=u[0],o.left+=u[1]):"top"===a?(o.left+=u[0],o.top-=u[1]):"bottom"===a&&(o.left+=u[0],o.top+=u[1]),t.popper=o,t}function it(t,i){var e=i.boundariesElement||b(t.instance.popper);t.instance.reference===e&&(e=b(e));var n=P("transform"),r=t.instance.popper.style,o=r.top,s=r.left,a=r[n];r.top="",r.left="",r[n]="";var u=D(t.instance.popper,t.instance.reference,i.padding,e,t.positionFixed);r.top=o,r.left=s,r[n]=a,i.boundaries=u;var c=i.priority,l=t.offsets.popper,h={primary:function p(t){var e=l[t];return l[t]<u[t]&&!i.escapeWithReference&&(e=Math.max(l[t],u[t])),gt({},t,e)},secondary:function d(t){var e="right"===t?"left":"top",n=l[e];return l[t]>u[t]&&!i.escapeWithReference&&(n=Math.min(l[e],u[t]-("right"===t?l.width:l.height))),gt({},e,n)}};return c.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";l=yt({},l,h[e](t))}),t.offsets.popper=l,t}function rt(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var r=t.offsets,o=r.reference,s=r.popper,a=-1!==["bottom","top"].indexOf(n),u=a?"left":"top",c=a?"width":"height",l={start:gt({},u,o[u]),end:gt({},u,o[u]+o[c]-s[c])};t.offsets.popper=yt({},s,l[i])}return t}function ot(t){if(!J(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=N(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}function st(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,r=i.popper,o=i.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return r[s?"left":"top"]=o[n]-(a?r[s?"width":"height"]:0),t.placement=L(e),t.offsets.popper=w(r),t}for(var at="undefined"!=typeof window&&"undefined"!=typeof document,ut=["Edge","Trident","Firefox"],ct=0,lt=0;lt<ut.length;lt+=1)if(at&&0<=navigator.userAgent.indexOf(ut[lt])){ct=1;break}var ht=at&&window.Promise?t:e,pt=at&&!(!window.MSInputMethodContext||!document.documentMode),dt=at&&/MSIE 10/.test(navigator.userAgent),ft=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},mt=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),gt=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},yt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},vt=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],bt=vt.slice(3),At={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},Et={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function Ct(){},onUpdate:function St(){},modifiers:{shift:{order:100,enabled:!0,fn:rt},offset:{order:200,enabled:!0,fn:nt,offset:0},preventOverflow:{order:300,enabled:!0,fn:it,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:Z},arrow:{order:500,enabled:!0,fn:$,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:Y,behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:st},hide:{order:800,enabled:!0,fn:ot},computeStyle:{order:850,enabled:!0,fn:G,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:K,onLoad:z,gpuAcceleration:undefined}}},wt=function(){function s(t,e,n){var i=this,r=2<arguments.length&&n!==undefined?arguments[2]:{};ft(this,s),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=ht(this.update.bind(this)),this.options=yt({},s.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=e&&e.jquery?e[0]:e,this.options.modifiers={},Object.keys(yt({},s.Defaults.modifiers,r.modifiers)).forEach(function(t){i.options.modifiers[t]=yt({},s.Defaults.modifiers[t]||{},r.modifiers?r.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return yt({name:t},i.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&a(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return mt(s,[{key:"update",value:function t(){return o.call(this)}},{key:"destroy",value:function e(){return j.call(this)}},{key:"enableEventListeners",value:function n(){return F.call(this)}},{key:"disableEventListeners",value:function i(){return H.call(this)}}]),s}();return wt.Utils=("undefined"!=typeof window?window:global).PopperUtils,wt.placements=vt,wt.Defaults=Et,wt}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):t.Util=e(t.jQuery)}(this,function(t){"use strict";return function(i){function a(t){return{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase()}function t(){return{bindType:r,delegateType:r,handle:function e(t){return i(t.target).is(this)?t.handleObj.handler.apply(this,arguments):undefined}}}function e(t){var e=this,n=!1;return i(this).one(u.TRANSITION_END,function(){n=!0}),setTimeout(function(){n||u.triggerTransitionEnd(e)},t),this}function n(){i.fn.emulateTransitionEnd=e,i.event.special[u.TRANSITION_END]=t()}var r="transitionend",o=1e6,s=1e3,u={TRANSITION_END:"bsTransitionEnd",getUID:function c(t){for(;t+=~~(Math.random()*o),document.getElementById(t););return t},getSelectorFromElement:function l(t){var e=t.getAttribute("data-target");e&&"#"!==e||(e=t.getAttribute("href")||"");try{return document.querySelector(e)?e:null}catch(n){return null}},getTransitionDurationFromElement:function h(t){if(!t)return 0;var e=i(t).css("transition-duration");return parseFloat(e)?(e=e.split(",")[0],parseFloat(e)*s):0},reflow:function p(t){return t.offsetHeight},triggerTransitionEnd:function d(t){i(t).trigger(r)},supportsTransitionEnd:function f(){return Boolean(r)},isElement:function m(t){return(t[0]||t).nodeType},typeCheckConfig:function g(t,e,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i],o=e[i],s=o&&u.isElement(o)?"element":a(o);if(!new RegExp(r).test(s))throw new Error(t.toUpperCase()+': Option "'+i+'" provided type "'+s+'" but expected type "'+r+'".')}}};return n(),u}(t=t&&t.hasOwnProperty("default")?t["default"]:t)}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("./util.js")):"function"==typeof define&&define.amd?define(["jquery","./util.js"],e):t.ScrollSpy=e(t.jQuery,t.Util)}(this,function(t,d){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(t){r(e,t,n[t])})}return e}var g,y,v,b,A,e,n,E,w,C,S,x,T,o;return t=t&&t.hasOwnProperty("default")?t["default"]:t,d=d&&d.hasOwnProperty("default")?d["default"]:d,y="scrollspy",v="4.1.3",A="."+(b="bs.scrollspy"),e=".data-api",n=(g=t).fn[y],E={offset:10,method:"auto",target:""},w={offset:"number",method:"string",target:"(string|element)"},C={ACTIVATE:"activate"+A,SCROLL:"scroll"+A,LOAD_DATA_API:"load"+A+e},S={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active"},x={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},T={OFFSET:"offset",POSITION:"position"},o=function(){function n(t,e){var n=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(e),this._selector=this._config.target+" "+x.NAV_LINKS+","+this._config.target+" "+x.LIST_ITEMS+","+this._config.target+" "+x.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,g(this._scrollElement).on(C.SCROLL,function(t){return n._process(t)}),this.refresh(),this._process()}var t=n.prototype;return t.refresh=function i(){var e=this,t=this._scrollElement===this._scrollElement.window?T.OFFSET:T.POSITION,r="auto"===this._config.method?t:this._config.method,o=r===T.POSITION?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(t){var e,n=d.getSelectorFromElement(t);if(n&&(e=document.querySelector(n)),e){var i=e.getBoundingClientRect();if(i.width||i.height)return[g(e)[r]().top+o,n]}return null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(t){e._offsets.push(t[0]),e._targets.push(t[1])})},t.dispose=function e(){g.removeData(this._element,b),g(this._scrollElement).off(A),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},t._getConfig=function r(t){if("string"!=typeof(t=m({},E,"object"==typeof t&&t?t:{})).target){var e=g(t.target).attr("id");e||(e=d.getUID(y),g(t.target).attr("id",e)),t.target="#"+e}return d.typeCheckConfig(y,t,w),t},t._getScrollTop=function o(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},t._getScrollHeight=function s(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},t._getOffsetHeight=function a(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},t._process=function u(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),n<=t){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&t<this._offsets[0]&&0<this._offsets[0])return this._activeTarget=null,void this._clear();for(var r=this._offsets.length;r--;){this._activeTarget!==this._targets[r]&&t>=this._offsets[r]&&("undefined"==typeof this._offsets[r+1]||t<this._offsets[r+1])&&this._activate(this._targets[r])}}},t._activate=function c(e){this._activeTarget=e,this._clear();var t=this._selector.split(",");t=t.map(function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'});var n=g([].slice.call(document.querySelectorAll(t.join(","))));n.hasClass(S.DROPDOWN_ITEM)?(n.closest(x.DROPDOWN).find(x.DROPDOWN_TOGGLE).addClass(S.ACTIVE),n.addClass(S.ACTIVE)):(n.addClass(S.ACTIVE),n.parents(x.NAV_LIST_GROUP).prev(x.NAV_LINKS+", "+x.LIST_ITEMS).addClass(S.ACTIVE),n.parents(x.NAV_LIST_GROUP).prev(x.NAV_ITEMS).children(x.NAV_LINKS).addClass(S.ACTIVE)),g(this._scrollElement).trigger(C.ACTIVATE,{relatedTarget:e})},t._clear=function l(){var t=[].slice.call(document.querySelectorAll(this._selector));g(t).filter(x.ACTIVE).removeClass(S.ACTIVE)},n._jQueryInterface=function h(e){return this.each(function(){var t=g(this).data(b);if(t||(t=new n(this,"object"==typeof e&&e),g(this).data(b,t)),"string"==typeof e){if("undefined"==typeof t[e])throw new TypeError('No method named "'+e+'"');t[e]()}})},f(n,null,[{key:"VERSION",get:function p(){return v}},{key:"Default",get:function p(){return E}}]),n}(),g(window).on(C.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll(x.DATA_SPY)),e=t.length;e--;){var n=g(t[e]);o._jQueryInterface.call(n,n.data())}}),g.fn[y]=o._jQueryInterface,g.fn[y].Constructor=o,g.fn[y].noConflict=function(){return g.fn[y]=n,o._jQueryInterface},o}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("./util.js")):"function"==typeof define&&define.amd?define(["jquery","./util.js"],e):t.Collapse=e(t.jQuery,t.Util)}(this,function(t,f){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function m(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(t){r(e,t,n[t])})}return e}var y,v,b,A,e,n,o,E,w,C,S,x,T,s;return t=t&&t.hasOwnProperty("default")?t["default"]:t,f=f&&f.hasOwnProperty("default")?f["default"]:f,v="collapse",b="4.1.3",e="."+(A="bs.collapse"),n=".data-api",o=(y=t).fn[v],E={toggle:!0,parent:""},w={toggle:"boolean",parent:"(string|element)"},C={SHOW:"show"+e,SHOWN:"shown"+e,HIDE:"hide"+e,HIDDEN:"hidden"+e,CLICK_DATA_API:"click"+e+n},S={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},x={WIDTH:"width",HEIGHT:"height"},T={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},s=function(){function u(e,t){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(t),this._triggerArray=y.makeArray(document.querySelectorAll('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var n=[].slice.call(document.querySelectorAll(T.DATA_TOGGLE)),i=0,r=n.length;i<r;i++){var o=n[i],s=f.getSelectorFromElement(o),a=[].slice.call(document.querySelectorAll(s)).filter(function(t){return t===e});null!==s&&0<a.length&&(this._selector=s,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,
this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var t=u.prototype;return t.toggle=function e(){y(this._element).hasClass(S.SHOW)?this.hide():this.show()},t.show=function c(){var t,e,n=this;if(!this._isTransitioning&&!y(this._element).hasClass(S.SHOW)&&(this._parent&&0===(t=[].slice.call(this._parent.querySelectorAll(T.ACTIVES)).filter(function(t){return t.getAttribute("data-parent")===n._config.parent})).length&&(t=null),!(t&&(e=y(t).not(this._selector).data(A))&&e._isTransitioning))){var i=y.Event(C.SHOW);if(y(this._element).trigger(i),!i.isDefaultPrevented()){t&&(u._jQueryInterface.call(y(t).not(this._selector),"hide"),e||y(t).data(A,null));var r=this._getDimension();y(this._element).removeClass(S.COLLAPSE).addClass(S.COLLAPSING),this._element.style[r]=0,this._triggerArray.length&&y(this._triggerArray).removeClass(S.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var o=function o(){y(n._element).removeClass(S.COLLAPSING).addClass(S.COLLAPSE).addClass(S.SHOW),n._element.style[r]="",n.setTransitioning(!1),y(n._element).trigger(C.SHOWN)},s="scroll"+(r[0].toUpperCase()+r.slice(1)),a=f.getTransitionDurationFromElement(this._element);y(this._element).one(f.TRANSITION_END,o).emulateTransitionEnd(a),this._element.style[r]=this._element[s]+"px"}}},t.hide=function l(){var t=this;if(!this._isTransitioning&&y(this._element).hasClass(S.SHOW)){var e=y.Event(C.HIDE);if(y(this._element).trigger(e),!e.isDefaultPrevented()){var n=this._getDimension();this._element.style[n]=this._element.getBoundingClientRect()[n]+"px",f.reflow(this._element),y(this._element).addClass(S.COLLAPSING).removeClass(S.COLLAPSE).removeClass(S.SHOW);var i=this._triggerArray.length;if(0<i)for(var r=0;r<i;r++){var o=this._triggerArray[r],s=f.getSelectorFromElement(o);if(null!==s)y([].slice.call(document.querySelectorAll(s))).hasClass(S.SHOW)||y(o).addClass(S.COLLAPSED).attr("aria-expanded",!1)}this.setTransitioning(!0);var a=function a(){t.setTransitioning(!1),y(t._element).removeClass(S.COLLAPSING).addClass(S.COLLAPSE).trigger(C.HIDDEN)};this._element.style[n]="";var u=f.getTransitionDurationFromElement(this._element);y(this._element).one(f.TRANSITION_END,a).emulateTransitionEnd(u)}}},t.setTransitioning=function n(t){this._isTransitioning=t},t.dispose=function i(){y.removeData(this._element,A),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},t._getConfig=function r(t){return(t=g({},E,t)).toggle=Boolean(t.toggle),f.typeCheckConfig(v,t,w),t},t._getDimension=function o(){return y(this._element).hasClass(x.WIDTH)?x.WIDTH:x.HEIGHT},t._getParent=function s(){var n=this,t=null;f.isElement(this._config.parent)?(t=this._config.parent,"undefined"!=typeof this._config.parent.jquery&&(t=this._config.parent[0])):t=document.querySelector(this._config.parent);var e='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',i=[].slice.call(t.querySelectorAll(e));return y(i).each(function(t,e){n._addAriaAndCollapsedClass(u._getTargetFromElement(e),[e])}),t},t._addAriaAndCollapsedClass=function a(t,e){if(t){var n=y(t).hasClass(S.SHOW);e.length&&y(e).toggleClass(S.COLLAPSED,!n).attr("aria-expanded",n)}},u._getTargetFromElement=function h(t){var e=f.getSelectorFromElement(t);return e?document.querySelector(e):null},u._jQueryInterface=function p(i){return this.each(function(){var t=y(this),e=t.data(A),n=g({},E,t.data(),"object"==typeof i&&i?i:{});if(!e&&n.toggle&&/show|hide/.test(i)&&(n.toggle=!1),e||(e=new u(this,n),t.data(A,e)),"string"==typeof i){if("undefined"==typeof e[i])throw new TypeError('No method named "'+i+'"');e[i]()}})},m(u,null,[{key:"VERSION",get:function d(){return b}},{key:"Default",get:function d(){return E}}]),u}(),y(document).on(C.CLICK_DATA_API,T.DATA_TOGGLE,function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var n=y(this),e=f.getSelectorFromElement(this),i=[].slice.call(document.querySelectorAll(e));y(i).each(function(){var t=y(this),e=t.data(A)?"toggle":n.data();s._jQueryInterface.call(t,e)})}),y.fn[v]=s._jQueryInterface,y.fn[v].Constructor=s,y.fn[v].noConflict=function(){return y.fn[v]=o,s._jQueryInterface},s}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("./util.js")):"function"==typeof define&&define.amd?define(["jquery","./util.js"],e):t.Alert=e(t.jQuery,t.Util)}(this,function(t,h){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function p(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}var d,e,f,m,n,r,o,s,g,y,a;return t=t&&t.hasOwnProperty("default")?t["default"]:t,h=h&&h.hasOwnProperty("default")?h["default"]:h,e="alert",f="4.1.3",n="."+(m="bs.alert"),r=".data-api",o=(d=t).fn[e],s={DISMISS:'[data-dismiss="alert"]'},g={CLOSE:"close"+n,CLOSED:"closed"+n,CLICK_DATA_API:"click"+n+r},y={ALERT:"alert",FADE:"fade",SHOW:"show"},a=function(){function i(t){this._element=t}var t=i.prototype;return t.close=function n(t){var e=this._element;t&&(e=this._getRootElement(t)),this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},t.dispose=function e(){d.removeData(this._element,m),this._element=null},t._getRootElement=function r(t){var e=h.getSelectorFromElement(t),n=!1;return e&&(n=document.querySelector(e)),n||(n=d(t).closest("."+y.ALERT)[0]),n},t._triggerCloseEvent=function o(t){var e=d.Event(g.CLOSE);return d(t).trigger(e),e},t._removeElement=function s(e){var n=this;if(d(e).removeClass(y.SHOW),d(e).hasClass(y.FADE)){var t=h.getTransitionDurationFromElement(e);d(e).one(h.TRANSITION_END,function(t){return n._destroyElement(e,t)}).emulateTransitionEnd(t)}else this._destroyElement(e)},t._destroyElement=function a(t){d(t).detach().trigger(g.CLOSED).remove()},i._jQueryInterface=function u(n){return this.each(function(){var t=d(this),e=t.data(m);e||(e=new i(this),t.data(m,e)),"close"===n&&e[n](this)})},i._handleDismiss=function c(e){return function(t){t&&t.preventDefault(),e.close(this)}},p(i,null,[{key:"VERSION",get:function l(){return f}}]),i}(),d(document).on(g.CLICK_DATA_API,s.DISMISS,a._handleDismiss(new a)),d.fn[e]=a._jQueryInterface,d.fn[e].Constructor=a,d.fn[e].noConflict=function(){return d.fn[e]=o,a._jQueryInterface},a}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("popper.js"),require("./util.js")):"function"==typeof define&&define.amd?define(["jquery","popper.js","./util.js"],e):t.Tooltip=e(t.jQuery,t.Popper,t.Util)}(this,function(t,k,O){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function L(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(t){r(e,t,n[t])})}return e}var N,I,P,j,M,e,B,F,q,H,W,U,V,K,z,G,n;return t=t&&t.hasOwnProperty("default")?t["default"]:t,k=k&&k.hasOwnProperty("default")?k["default"]:k,O=O&&O.hasOwnProperty("default")?O["default"]:O,I="tooltip",P="4.1.3",M="."+(j="bs.tooltip"),e=(N=t).fn[I],B="bs-tooltip",F=new RegExp("(^|\\s)"+B+"\\S+","g"),W={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!(H={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"}),selector:!(q={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"}),placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},U={SHOW:"show",OUT:"out"},V={HIDE:"hide"+M,HIDDEN:"hidden"+M,SHOW:"show"+M,SHOWN:"shown"+M,INSERTED:"inserted"+M,CLICK:"click"+M,FOCUSIN:"focusin"+M,FOCUSOUT:"focusout"+M,MOUSEENTER:"mouseenter"+M,MOUSELEAVE:"mouseleave"+M},K={FADE:"fade",SHOW:"show"},z={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner",ARROW:".arrow"},G={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},n=function(){function i(t,e){if(void 0===k)throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var t=i.prototype;return t.enable=function e(){this._isEnabled=!0},t.disable=function n(){this._isEnabled=!1},t.toggleEnabled=function r(){this._isEnabled=!this._isEnabled},t.toggle=function o(t){if(this._isEnabled)if(t){var e=this.constructor.DATA_KEY,n=N(t.currentTarget).data(e);n||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),N(t.currentTarget).data(e,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(N(this.getTipElement()).hasClass(K.SHOW))return void this._leave(null,this);this._enter(null,this)}},t.dispose=function s(){clearTimeout(this._timeout),N.removeData(this.element,this.constructor.DATA_KEY),N(this.element).off(this.constructor.EVENT_KEY),N(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&N(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,(this._activeTrigger=null)!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},t.show=function p(){var e=this;if("none"===N(this.element).css("display"))throw new Error("Please use show on visible elements");var t=N.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){N(this.element).trigger(t);var n=N.contains(this.element.ownerDocument.documentElement,this.element);if(t.isDefaultPrevented()||!n)return;var i=this.getTipElement(),r=O.getUID(this.constructor.NAME);i.setAttribute("id",r),this.element.setAttribute("aria-describedby",r),this.setContent(),this.config.animation&&N(i).addClass(K.FADE);var o="function"==typeof this.config.placement?this.config.placement.call(this,i,this.element):this.config.placement,s=this._getAttachment(o);this.addAttachmentClass(s);var a=!1===this.config.container?document.body:N(document).find(this.config.container);N(i).data(this.constructor.DATA_KEY,this),N.contains(this.element.ownerDocument.documentElement,this.tip)||N(i).appendTo(a),N(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new k(this.element,i,{placement:s,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:z.ARROW},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function l(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function h(t){e._handlePopperPlacementChange(t)}}),N(i).addClass(K.SHOW),"ontouchstart"in document.documentElement&&N(document.body).children().on("mouseover",null,N.noop);var u=function u(){e.config.animation&&e._fixTransition();var t=e._hoverState;e._hoverState=null,N(e.element).trigger(e.constructor.Event.SHOWN),t===U.OUT&&e._leave(null,e)};if(N(this.tip).hasClass(K.FADE)){var c=O.getTransitionDurationFromElement(this.tip);N(this.tip).one(O.TRANSITION_END,u).emulateTransitionEnd(c)}else u()}},t.hide=function a(t){var e=this,n=this.getTipElement(),i=N.Event(this.constructor.Event.HIDE),r=function r(){e._hoverState!==U.SHOW&&n.parentNode&&n.parentNode.removeChild(n),e._cleanTipClass(),e.element.removeAttribute("aria-describedby"),N(e.element).trigger(e.constructor.Event.HIDDEN),null!==e._popper&&e._popper.destroy(),t&&t()};if(N(this.element).trigger(i),!i.isDefaultPrevented()){if(N(n).removeClass(K.SHOW),"ontouchstart"in document.documentElement&&N(document.body).children().off("mouseover",null,N.noop),this._activeTrigger[G.CLICK]=!1,this._activeTrigger[G.FOCUS]=!1,this._activeTrigger[G.HOVER]=!1,N(this.tip).hasClass(K.FADE)){var o=O.getTransitionDurationFromElement(n);N(n).one(O.TRANSITION_END,r).emulateTransitionEnd(o)}else r();this._hoverState=""}},t.update=function u(){null!==this._popper&&this._popper.scheduleUpdate()},t.isWithContent=function c(){return Boolean(this.getTitle())},t.addAttachmentClass=function l(t){N(this.getTipElement()).addClass(B+"-"+t)},t.getTipElement=function h(){return this.tip=this.tip||N(this.config.template)[0],this.tip},t.setContent=function d(){var t=this.getTipElement();this.setElementContent(N(t.querySelectorAll(z.TOOLTIP_INNER)),this.getTitle()),N(t).removeClass(K.FADE+" "+K.SHOW)},t.setElementContent=function f(t,e){var n=this.config.html;"object"==typeof e&&(e.nodeType||e.jquery)?n?N(e).parent().is(t)||t.empty().append(e):t.text(N(e).text()):t[n?"html":"text"](e)},t.getTitle=function m(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},t._getAttachment=function g(t){return H[t.toUpperCase()]},t._setListeners=function y(){var i=this;this.config.trigger.split(" ").forEach(function(t){if("click"===t)N(i.element).on(i.constructor.Event.CLICK,i.config.selector,function(t){return i.toggle(t)});else if(t!==G.MANUAL){var e=t===G.HOVER?i.constructor.Event.MOUSEENTER:i.constructor.Event.FOCUSIN,n=t===G.HOVER?i.constructor.Event.MOUSELEAVE:i.constructor.Event.FOCUSOUT;N(i.element).on(e,i.config.selector,function(t){return i._enter(t)}).on(n,i.config.selector,function(t){return i._leave(t)})}N(i.element).closest(".modal").on("hide.bs.modal",function(){return i.hide()})}),this.config.selector?this.config=R({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},t._fixTitle=function v(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},t._enter=function b(t,e){var n=this.constructor.DATA_KEY;(e=e||N(t.currentTarget).data(n))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),N(t.currentTarget).data(n,e)),t&&(e._activeTrigger["focusin"===t.type?G.FOCUS:G.HOVER]=!0),N(e.getTipElement()).hasClass(K.SHOW)||e._hoverState===U.SHOW?e._hoverState=U.SHOW:(clearTimeout(e._timeout),e._hoverState=U.SHOW,e.config.delay&&e.config.delay.show?e._timeout=setTimeout(function(){e._hoverState===U.SHOW&&e.show()},e.config.delay.show):e.show())},t._leave=function A(t,e){var n=this.constructor.DATA_KEY;(e=e||N(t.currentTarget).data(n))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),N(t.currentTarget).data(n,e)),t&&(e._activeTrigger["focusout"===t.type?G.FOCUS:G.HOVER]=!1),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState=U.OUT,e.config.delay&&e.config.delay.hide?e._timeout=setTimeout(function(){e._hoverState===U.OUT&&e.hide()},e.config.delay.hide):e.hide())},t._isWithActiveTrigger=function E(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},t._getConfig=function w(t){return"number"==typeof(t=R({},this.constructor.Default,N(this.element).data(),"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),O.typeCheckConfig(I,t,this.constructor.DefaultType),t},t._getDelegateConfig=function C(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},t._cleanTipClass=function S(){var t=N(this.getTipElement()),e=t.attr("class").match(F);null!==e&&e.length&&t.removeClass(e.join(""))},t._handlePopperPlacementChange=function x(t){var e=t.instance;this.tip=e.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},t._fixTransition=function T(){var t=this.getTipElement(),e=this.config.animation;null===t.getAttribute("x-placement")&&(N(t).removeClass(K.FADE),this.config.animation=!1,this.hide(),this.show(),this.config.animation=e)},i._jQueryInterface=function _(n){return this.each(function(){var t=N(this).data(j),e="object"==typeof n&&n;if((t||!/dispose|hide/.test(n))&&(t||(t=new i(this,e),N(this).data(j,t)),"string"==typeof n)){if("undefined"==typeof t[n])throw new TypeError('No method named "'+n+'"');t[n]()}})},L(i,null,[{key:"VERSION",get:function D(){return P}},{key:"Default",get:function D(){return W}},{key:"NAME",get:function D(){return I}},{key:"DATA_KEY",get:function D(){return j}},{key:"Event",get:function D(){return V}},{key:"EVENT_KEY",get:function D(){return M}},{key:"DefaultType",get:function D(){return q}}]),i}(),N.fn[I]=n._jQueryInterface,N.fn[I].Constructor=n,N.fn[I].noConflict=function(){return N.fn[I]=e,n._jQueryInterface},n}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("./tooltip.js")):"function"==typeof define&&define.amd?define(["jquery","./tooltip.js"],e):t.Popover=e(t.jQuery,t.Tooltip)}(this,function(t,e){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(t){r(e,t,n[t])})}return e}function p(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}var d,f,m,g,y,o,v,b,A,E,w,C,S,s;return t=t&&t.hasOwnProperty("default")?t["default"]:t,e=e&&e.hasOwnProperty("default")?e["default"]:e,f="popover",m="4.1.3",y="."+(g="bs.popover"),o=(d=t).fn[f],v="bs-popover",b=new RegExp("(^|\\s)"+v+"\\S+","g"),A=n({},e.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),E=n({},e.DefaultType,{content:"(string|element|function)"}),w={FADE:"fade",SHOW:"show"},C={TITLE:".popover-header",CONTENT:".popover-body"},S={HIDE:"hide"+y,HIDDEN:"hidden"+y,SHOW:"show"+y,SHOWN:"shown"+y,INSERTED:"inserted"+y,CLICK:"click"+y,FOCUSIN:"focusin"+y,FOCUSOUT:"focusout"+y,MOUSEENTER:"mouseenter"+y,MOUSELEAVE:"mouseleave"+y},s=function(t){function i(){return t.apply(this,arguments)||this}p(i,t);var e=i.prototype;return e.isWithContent=function n(){return this.getTitle()||this._getContent()},e.addAttachmentClass=function r(t){d(this.getTipElement()).addClass(v+"-"+t)},e.getTipElement=function o(){return this.tip=this.tip||d(this.config.template)[0],this.tip},e.setContent=function s(){var t=d(this.getTipElement());this.setElementContent(t.find(C.TITLE),this.getTitle());var e=this._getContent();"function"==typeof e&&(e=e.call(this.element)),this.setElementContent(t.find(C.CONTENT),e),t.removeClass(w.FADE+" "+w.SHOW)},e._getContent=function a(){return this.element.getAttribute("data-content")||this.config.content},e._cleanTipClass=function u(){var t=d(this.getTipElement()),e=t.attr("class").match(b);null!==e&&0<e.length&&t.removeClass(e.join(""))},i._jQueryInterface=function c(n){return this.each(function(){var t=d(this).data(g),e="object"==typeof n?n:null;if((t||!/destroy|hide/.test(n))&&(t||(t=new i(this,e),d(this).data(g,t)),"string"==typeof n)){if("undefined"==typeof t[n])throw new TypeError('No method named "'+n+'"');t[n]()}})},h(i,null,[{key:"VERSION",get:function l(){return m}},{key:"Default",get:function l(){return A}},{key:"NAME",get:function l(){return f}},{key:"DATA_KEY",get:function l(){return g}},{key:"Event",get:function l(){return S}},{key:"EVENT_KEY",get:function l(){return y}},{key:"DefaultType",get:function l(){return E}}]),i}(e),d.fn[f]=s._jQueryInterface,d.fn[f].Constructor=s,d.fn[f].noConflict=function(){return d.fn[f]=o,s._jQueryInterface},s}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("popper.js"),require("./util.js")):"function"==typeof define&&define.amd?define(["jquery","popper.js","./util.js"],e):t.Dropdown=e(t.jQuery,t.Popper,t.Util)}(this,function(t,g,y){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function v(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(t){r(e,t,n[t])})}return e}var A,E,w,C,S,e,n,x,T,_,D,k,O,L,R,N,I,P,j,M,o;return t=t&&t.hasOwnProperty("default")?t["default"]:t,g=g&&g.hasOwnProperty("default")?g["default"]:g,y=y&&y.hasOwnProperty("default")?y["default"]:y,E="dropdown",w="4.1.3",S="."+(C="bs.dropdown"),e=".data-api",n=(A=t).fn[E],x=27,T=32,_=9,D=38,k=40,O=3,L=new RegExp(D+"|"+k+"|"+x),R={HIDE:"hide"+S,HIDDEN:"hidden"+S,SHOW:"show"+S,SHOWN:"shown"+S,CLICK:"click"+S,CLICK_DATA_API:"click"+S+e,KEYDOWN_DATA_API:"keydown"+S+e,KEYUP_DATA_API:"keyup"+S+e},N={DISABLED:"disabled",SHOW:"show",DROPUP:"dropup",DROPRIGHT:"dropright",DROPLEFT:"dropleft",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",POSITION_STATIC:"position-static"},I={DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)"},P={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end",RIGHT:"right-start",RIGHTEND:"right-end",LEFT:"left-start",LEFTEND:"left-end"},j={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},M={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},o=function(){function c(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var t=c.prototype;return t.toggle=function o(){if(!this._element.disabled&&!A(this._element).hasClass(N.DISABLED)){var t=c._getParentFromElement(this._element),e=A(this._menu).hasClass(N.SHOW);if(c._clearMenus(),!e){var n={relatedTarget:this._element},i=A.Event(R.SHOW,n);if(A(t).trigger(i),!i.isDefaultPrevented()){if(!this._inNavbar){if(void 0===g)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");var r=this._element;"parent"===this._config.reference?r=t:y.isElement(this._config.reference)&&(r=this._config.reference,"undefined"!=typeof this._config.reference.jquery&&(r=this._config.reference[0])),"scrollParent"!==this._config.boundary&&A(t).addClass(N.POSITION_STATIC),this._popper=new g(r,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===A(t).closest(I.NAVBAR_NAV).length&&A(document.body).children().on("mouseover",null,A.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),A(this._menu).toggleClass(N.SHOW),A(t).toggleClass(N.SHOW).trigger(A.Event(R.SHOWN,n))}}}},t.dispose=function e(){A.removeData(this._element,C),A(this._element).off(S),this._element=null,(this._menu=null)!==this._popper&&(this._popper.destroy(),this._popper=null)},t.update=function n(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},t._addEventListeners=function i(){var e=this;A(this._element).on(R.CLICK,function(t){t.preventDefault(),t.stopPropagation(),e.toggle()})},t._getConfig=function r(t){return t=b({},this.constructor.Default,A(this._element).data(),t),y.typeCheckConfig(E,t,this.constructor.DefaultType),t},t._getMenuElement=function s(){if(!this._menu){var t=c._getParentFromElement(this._element);t&&(this._menu=t.querySelector(I.MENU))}return this._menu},t._getPlacement=function a(){var t=A(this._element.parentNode),e=P.BOTTOM;return t.hasClass(N.DROPUP)?(e=P.TOP,A(this._menu).hasClass(N.MENURIGHT)&&(e=P.TOPEND)):t.hasClass(N.DROPRIGHT)?e=P.RIGHT:t.hasClass(N.DROPLEFT)?e=P.LEFT:A(this._menu).hasClass(N.MENURIGHT)&&(e=P.BOTTOMEND),e},t._detectNavbar=function u(){return 0<A(this._element).closest(".navbar").length},t._getPopperConfig=function l(){var e=this,t={};"function"==typeof this._config.offset?t.fn=function(t){return t.offsets=b({},t.offsets,e._config.offset(t.offsets)||{}),t}:t.offset=this._config.offset;var n={placement:this._getPlacement(),modifiers:{offset:t,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(n.modifiers.applyStyle={enabled:!1}),n},c._jQueryInterface=function h(e){return this.each(function(){var t=A(this).data(C);if(t||(t=new c(this,"object"==typeof e?e:null),A(this).data(C,t)),"string"==typeof e){if("undefined"==typeof t[e])throw new TypeError('No method named "'+e+'"');t[e]()}})},c._clearMenus=function p(t){if(!t||t.which!==O&&("keyup"!==t.type||t.which===_))for(var e=[].slice.call(document.querySelectorAll(I.DATA_TOGGLE)),n=0,i=e.length;n<i;n++){var r=c._getParentFromElement(e[n]),o=A(e[n]).data(C),s={relatedTarget:e[n]};if(t&&"click"===t.type&&(s.clickEvent=t),o){var a=o._menu;if(A(r).hasClass(N.SHOW)&&!(t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&t.which===_)&&A.contains(r,t.target))){var u=A.Event(R.HIDE,s);A(r).trigger(u),u.isDefaultPrevented()||("ontouchstart"in document.documentElement&&A(document.body).children().off("mouseover",null,A.noop),e[n].setAttribute("aria-expanded","false"),A(a).removeClass(N.SHOW),A(r).removeClass(N.SHOW).trigger(A.Event(R.HIDDEN,s)))}}}},c._getParentFromElement=function d(t){var e,n=y.getSelectorFromElement(t);return n&&(e=document.querySelector(n)),e||t.parentNode},c._dataApiKeydownHandler=function f(t){if((/input|textarea/i.test(t.target.tagName)?!(t.which===T||t.which!==x&&(t.which!==k&&t.which!==D||A(t.target).closest(I.MENU).length)):L.test(t.which))&&(t.preventDefault(),t.stopPropagation(),!this.disabled&&!A(this).hasClass(N.DISABLED))){var e=c._getParentFromElement(this),n=A(e).hasClass(N.SHOW);if((n||t.which===x&&t.which===T)&&(!n||t.which!==x&&t.which!==T)){var i=[].slice.call(e.querySelectorAll(I.VISIBLE_ITEMS));if(0!==i.length){var r=i.indexOf(t.target);t.which===D&&0<r&&r--,t.which===k&&r<i.length-1&&r++,r<0&&(r=0),i[r].focus()}}else{if(t.which===x){var o=e.querySelector(I.DATA_TOGGLE);A(o).trigger("focus")}A(this).trigger("click")}}},v(c,null,[{key:"VERSION",get:function m(){return w}},{key:"Default",get:function m(){return j}},{key:"DefaultType",get:function m(){return M}}]),c}(),A(document).on(R.KEYDOWN_DATA_API,I.DATA_TOGGLE,o._dataApiKeydownHandler).on(R.KEYDOWN_DATA_API,I.MENU,o._dataApiKeydownHandler).on(R.CLICK_DATA_API+" "+R.KEYUP_DATA_API,o._clearMenus).on(R.CLICK_DATA_API,I.DATA_TOGGLE,function(t){t.preventDefault(),t.stopPropagation(),o._jQueryInterface.call(A(this),"toggle")}).on(R.CLICK_DATA_API,I.FORM_CHILD,function(t){t.stopPropagation()}),A.fn[E]=o._jQueryInterface,A.fn[E].Constructor=o,A.fn[E].noConflict=function(){return A.fn[E]=n,o._jQueryInterface},o}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):t.Button=e(t.jQuery)}(this,function(t){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}var a,e,u,c,n,r,o,l,h,p,d;return t=t&&t.hasOwnProperty("default")?t["default"]:t,e="button",u="4.1.3",n="."+(c="bs.button"),r=".data-api",o=(a=t).fn[e],l={ACTIVE:"active",BUTTON:"btn",FOCUS:"focus"},h={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLE:'[data-toggle="buttons"]',INPUT:"input",ACTIVE:".active",BUTTON:".btn"},p={CLICK_DATA_API:"click"+n+r,FOCUS_BLUR_DATA_API:"focus"+n+r+" blur"+n+r},d=function(){function n(t){this._element=t}var t=n.prototype;return t.toggle=function o(){var t=!0,e=!0,n=a(this._element).closest(h.DATA_TOGGLE)[0];if(n){var i=this._element.querySelector(h.INPUT);if(i){if("radio"===i.type)if(i.checked&&this._element.classList.contains(l.ACTIVE))t=!1;else{var r=n.querySelector(h.ACTIVE);r&&a(r).removeClass(l.ACTIVE)}if(t){if(i.hasAttribute("disabled")||n.hasAttribute("disabled")||i.classList.contains("disabled")||n.classList.contains("disabled"))return;i.checked=!this._element.classList.contains(l.ACTIVE),a(i).trigger("change")}i.focus(),e=!1}}e&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(l.ACTIVE)),t&&a(this._element).toggleClass(l.ACTIVE)},t.dispose=function e(){a.removeData(this._element,c),this._element=null},n._jQueryInterface=function i(e){return this.each(function(){var t=a(this).data(c);t||(t=new n(this),a(this).data(c,t)),"toggle"===e&&t[e]()})},s(n,null,[{key:"VERSION",get:function r(){return u}}]),n}(),a(document).on(p.CLICK_DATA_API,h.DATA_TOGGLE_CARROT,function(t){t.preventDefault();var e=t.target;a(e).hasClass(l.BUTTON)||(e=a(e).closest(h.BUTTON)),d._jQueryInterface.call(a(e),"toggle")}).on(p.FOCUS_BLUR_DATA_API,h.DATA_TOGGLE_CARROT,function(t){var e=a(t.target).closest(h.BUTTON)[0];a(e).toggleClass(l.FOCUS,/^focus(in)?$/.test(t.type))}),a.fn[e]=d._jQueryInterface,a.fn[e].Constructor=d,a.fn[e].noConflict=function(){return a.fn[e]=o,d._jQueryInterface},d}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("./util.js")):"function"==typeof define&&define.amd?define(["jquery","./util.js"],e):t.Modal=e(t.jQuery,t.Util)}(this,function(t,C){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function S(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(t){r(e,t,n[t])})}return e}var T,_,D,k,O,e,n,L,R,N,I,P,j,s;return t=t&&t.hasOwnProperty("default")?t["default"]:t,C=C&&C.hasOwnProperty("default")?C["default"]:C,_="modal",D="4.1.3",O="."+(k="bs.modal"),e=".data-api",n=(T=t).fn[_],L=27,R={backdrop:!0,keyboard:!0,focus:!0,show:!0},N={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},I={HIDE:"hide"+O,HIDDEN:"hidden"+O,SHOW:"show"+O,SHOWN:"shown"+O,FOCUSIN:"focusin"+O,RESIZE:"resize"+O,CLICK_DISMISS:"click.dismiss"+O,KEYDOWN_DISMISS:"keydown.dismiss"+O,MOUSEUP_DISMISS:"mouseup.dismiss"+O,MOUSEDOWN_DISMISS:"mousedown.dismiss"+O,CLICK_DATA_API:"click"+O+e},P={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},j={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top"},s=function(){function r(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(j.DIALOG),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._scrollbarWidth=0}var t=r.prototype;return t.toggle=function e(t){return this._isShown?this.hide():this.show(t)},t.show=function i(t){var e=this;if(!this._isTransitioning&&!this._isShown){T(this._element).hasClass(P.FADE)&&(this._isTransitioning=!0);var n=T.Event(
I.SHOW,{relatedTarget:t});T(this._element).trigger(n),this._isShown||n.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),T(document.body).addClass(P.OPEN),this._setEscapeEvent(),this._setResizeEvent(),T(this._element).on(I.CLICK_DISMISS,j.DATA_DISMISS,function(t){return e.hide(t)}),T(this._dialog).on(I.MOUSEDOWN_DISMISS,function(){T(e._element).one(I.MOUSEUP_DISMISS,function(t){T(t.target).is(e._element)&&(e._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return e._showElement(t)}))}},t.hide=function o(t){var e=this;if(t&&t.preventDefault(),!this._isTransitioning&&this._isShown){var n=T.Event(I.HIDE);if(T(this._element).trigger(n),this._isShown&&!n.isDefaultPrevented()){this._isShown=!1;var i=T(this._element).hasClass(P.FADE);if(i&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),T(document).off(I.FOCUSIN),T(this._element).removeClass(P.SHOW),T(this._element).off(I.CLICK_DISMISS),T(this._dialog).off(I.MOUSEDOWN_DISMISS),i){var r=C.getTransitionDurationFromElement(this._element);T(this._element).one(C.TRANSITION_END,function(t){return e._hideModal(t)}).emulateTransitionEnd(r)}else this._hideModal()}}},t.dispose=function n(){T.removeData(this._element,k),T(window,document,this._element,this._backdrop).off(O),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},t.handleUpdate=function s(){this._adjustDialog()},t._getConfig=function a(t){return t=x({},R,t),C.typeCheckConfig(_,t,N),t},t._showElement=function u(t){var e=this,n=T(this._element).hasClass(P.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,n&&C.reflow(this._element),T(this._element).addClass(P.SHOW),this._config.focus&&this._enforceFocus();var i=T.Event(I.SHOWN,{relatedTarget:t}),r=function r(){e._config.focus&&e._element.focus(),e._isTransitioning=!1,T(e._element).trigger(i)};if(n){var o=C.getTransitionDurationFromElement(this._element);T(this._dialog).one(C.TRANSITION_END,r).emulateTransitionEnd(o)}else r()},t._enforceFocus=function c(){var e=this;T(document).off(I.FOCUSIN).on(I.FOCUSIN,function(t){document!==t.target&&e._element!==t.target&&0===T(e._element).has(t.target).length&&e._element.focus()})},t._setEscapeEvent=function l(){var e=this;this._isShown&&this._config.keyboard?T(this._element).on(I.KEYDOWN_DISMISS,function(t){t.which===L&&(t.preventDefault(),e.hide())}):this._isShown||T(this._element).off(I.KEYDOWN_DISMISS)},t._setResizeEvent=function h(){var e=this;this._isShown?T(window).on(I.RESIZE,function(t){return e.handleUpdate(t)}):T(window).off(I.RESIZE)},t._hideModal=function p(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop(function(){T(document.body).removeClass(P.OPEN),t._resetAdjustments(),t._resetScrollbar(),T(t._element).trigger(I.HIDDEN)})},t._removeBackdrop=function d(){this._backdrop&&(T(this._backdrop).remove(),this._backdrop=null)},t._showBackdrop=function f(t){var e=this,n=T(this._element).hasClass(P.FADE)?P.FADE:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=P.BACKDROP,n&&this._backdrop.classList.add(n),T(this._backdrop).appendTo(document.body),T(this._element).on(I.CLICK_DISMISS,function(t){e._ignoreBackdropClick?e._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===e._config.backdrop?e._element.focus():e.hide())}),n&&C.reflow(this._backdrop),T(this._backdrop).addClass(P.SHOW),!t)return;if(!n)return void t();var i=C.getTransitionDurationFromElement(this._backdrop);T(this._backdrop).one(C.TRANSITION_END,t).emulateTransitionEnd(i)}else if(!this._isShown&&this._backdrop){T(this._backdrop).removeClass(P.SHOW);var r=function r(){e._removeBackdrop(),t&&t()};if(T(this._element).hasClass(P.FADE)){var o=C.getTransitionDurationFromElement(this._backdrop);T(this._backdrop).one(C.TRANSITION_END,r).emulateTransitionEnd(o)}else r()}else t&&t()},t._adjustDialog=function m(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},t._resetAdjustments=function g(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},t._checkScrollbar=function y(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},t._setScrollbar=function v(){var r=this;if(this._isBodyOverflowing){var t=[].slice.call(document.querySelectorAll(j.FIXED_CONTENT)),e=[].slice.call(document.querySelectorAll(j.STICKY_CONTENT));T(t).each(function(t,e){var n=e.style.paddingRight,i=T(e).css("padding-right");T(e).data("padding-right",n).css("padding-right",parseFloat(i)+r._scrollbarWidth+"px")}),T(e).each(function(t,e){var n=e.style.marginRight,i=T(e).css("margin-right");T(e).data("margin-right",n).css("margin-right",parseFloat(i)-r._scrollbarWidth+"px")});var n=document.body.style.paddingRight,i=T(document.body).css("padding-right");T(document.body).data("padding-right",n).css("padding-right",parseFloat(i)+this._scrollbarWidth+"px")}},t._resetScrollbar=function b(){var t=[].slice.call(document.querySelectorAll(j.FIXED_CONTENT));T(t).each(function(t,e){var n=T(e).data("padding-right");T(e).removeData("padding-right"),e.style.paddingRight=n||""});var e=[].slice.call(document.querySelectorAll(""+j.STICKY_CONTENT));T(e).each(function(t,e){var n=T(e).data("margin-right");void 0!==n&&T(e).css("margin-right",n).removeData("margin-right")});var n=T(document.body).data("padding-right");T(document.body).removeData("padding-right"),document.body.style.paddingRight=n||""},t._getScrollbarWidth=function A(){var t=document.createElement("div");t.className=P.SCROLLBAR_MEASURER,document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},r._jQueryInterface=function E(n,i){return this.each(function(){var t=T(this).data(k),e=x({},R,T(this).data(),"object"==typeof n&&n?n:{});if(t||(t=new r(this,e),T(this).data(k,t)),"string"==typeof n){if("undefined"==typeof t[n])throw new TypeError('No method named "'+n+'"');t[n](i)}else e.show&&t.show(i)})},S(r,null,[{key:"VERSION",get:function w(){return D}},{key:"Default",get:function w(){return R}}]),r}(),T(document).on(I.CLICK_DATA_API,j.DATA_TOGGLE,function(t){var e,n=this,i=C.getSelectorFromElement(this);i&&(e=document.querySelector(i));var r=T(e).data(k)?"toggle":x({},T(e).data(),T(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var o=T(e).one(I.SHOW,function(t){t.isDefaultPrevented()||o.one(I.HIDDEN,function(){T(n).is(":visible")&&n.focus()})});s._jQueryInterface.call(T(e),r,this)}),T.fn[_]=s._jQueryInterface,T.fn[_].Constructor=s,T.fn[_].noConflict=function(){return T.fn[_]=n,s._jQueryInterface},s}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("./util.js")):"function"==typeof define&&define.amd?define(["jquery","./util.js"],e):t.Carousel=e(t.jQuery,t.Util)}(this,function(t,A){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function E(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(t){r(e,t,n[t])})}return e}var C,S,x,T,_,e,n,D,k,O,L,R,N,I,P,j,o;return t=t&&t.hasOwnProperty("default")?t["default"]:t,A=A&&A.hasOwnProperty("default")?A["default"]:A,S="carousel",x="4.1.3",_="."+(T="bs.carousel"),e=".data-api",n=(C=t).fn[S],D=37,k=39,L={interval:5e3,keyboard:!0,slide:!(O=500),pause:"hover",wrap:!0},R={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},N={NEXT:"next",PREV:"prev",LEFT:"left",RIGHT:"right"},I={SLIDE:"slide"+_,SLID:"slid"+_,KEYDOWN:"keydown"+_,MOUSEENTER:"mouseenter"+_,MOUSELEAVE:"mouseleave"+_,TOUCHEND:"touchend"+_,LOAD_DATA_API:"load"+_+e,CLICK_DATA_API:"click"+_+e},P={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"carousel-item-right",LEFT:"carousel-item-left",NEXT:"carousel-item-next",PREV:"carousel-item-prev",ITEM:"carousel-item"},j={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},o=function(){function o(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(e),this._element=C(t)[0],this._indicatorsElement=this._element.querySelector(j.INDICATORS),this._addEventListeners()}var t=o.prototype;return t.next=function e(){this._isSliding||this._slide(N.NEXT)},t.nextWhenVisible=function n(){!document.hidden&&C(this._element).is(":visible")&&"hidden"!==C(this._element).css("visibility")&&this.next()},t.prev=function i(){this._isSliding||this._slide(N.PREV)},t.pause=function r(t){t||(this._isPaused=!0),this._element.querySelector(j.NEXT_PREV)&&(A.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},t.cycle=function s(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},t.to=function a(t){var e=this;this._activeElement=this._element.querySelector(j.ACTIVE_ITEM);var n=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)C(this._element).one(I.SLID,function(){return e.to(t)});else{if(n===t)return this.pause(),void this.cycle();var i=n<t?N.NEXT:N.PREV;this._slide(i,this._items[t])}},t.dispose=function u(){C(this._element).off(_),C.removeData(this._element,T),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},t._getConfig=function c(t){return t=w({},L,t),A.typeCheckConfig(S,t,R),t},t._addEventListeners=function l(){var e=this;this._config.keyboard&&C(this._element).on(I.KEYDOWN,function(t){return e._keydown(t)}),"hover"===this._config.pause&&(C(this._element).on(I.MOUSEENTER,function(t){return e.pause(t)}).on(I.MOUSELEAVE,function(t){return e.cycle(t)}),"ontouchstart"in document.documentElement&&C(this._element).on(I.TOUCHEND,function(){e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout(function(t){return e.cycle(t)},O+e._config.interval)}))},t._keydown=function h(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case D:t.preventDefault(),this.prev();break;case k:t.preventDefault(),this.next()}},t._getItemIndex=function p(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(j.ITEM)):[],this._items.indexOf(t)},t._getItemByDirection=function d(t,e){var n=t===N.NEXT,i=t===N.PREV,r=this._getItemIndex(e),o=this._items.length-1;if((i&&0===r||n&&r===o)&&!this._config.wrap)return e;var s=(r+(t===N.PREV?-1:1))%this._items.length;return-1===s?this._items[this._items.length-1]:this._items[s]},t._triggerSlideEvent=function f(t,e){var n=this._getItemIndex(t),i=this._getItemIndex(this._element.querySelector(j.ACTIVE_ITEM)),r=C.Event(I.SLIDE,{relatedTarget:t,direction:e,from:i,to:n});return C(this._element).trigger(r),r},t._setActiveIndicatorElement=function m(t){if(this._indicatorsElement){var e=[].slice.call(this._indicatorsElement.querySelectorAll(j.ACTIVE));C(e).removeClass(P.ACTIVE);var n=this._indicatorsElement.children[this._getItemIndex(t)];n&&C(n).addClass(P.ACTIVE)}},t._slide=function g(t,e){var n,i,r,o=this,s=this._element.querySelector(j.ACTIVE_ITEM),a=this._getItemIndex(s),u=e||s&&this._getItemByDirection(t,s),c=this._getItemIndex(u),l=Boolean(this._interval);if(t===N.NEXT?(n=P.LEFT,i=P.NEXT,r=N.LEFT):(n=P.RIGHT,i=P.PREV,r=N.RIGHT),u&&C(u).hasClass(P.ACTIVE))this._isSliding=!1;else if(!this._triggerSlideEvent(u,r).isDefaultPrevented()&&s&&u){this._isSliding=!0,l&&this.pause(),this._setActiveIndicatorElement(u);var h=C.Event(I.SLID,{relatedTarget:u,direction:r,from:a,to:c});if(C(this._element).hasClass(P.SLIDE)){C(u).addClass(i),A.reflow(u),C(s).addClass(n),C(u).addClass(n);var p=A.getTransitionDurationFromElement(s);C(s).one(A.TRANSITION_END,function(){C(u).removeClass(n+" "+i).addClass(P.ACTIVE),C(s).removeClass(P.ACTIVE+" "+i+" "+n),o._isSliding=!1,setTimeout(function(){return C(o._element).trigger(h)},0)}).emulateTransitionEnd(p)}else C(s).removeClass(P.ACTIVE),C(u).addClass(P.ACTIVE),this._isSliding=!1,C(this._element).trigger(h);l&&this.cycle()}},o._jQueryInterface=function y(i){return this.each(function(){var t=C(this).data(T),e=w({},L,C(this).data());"object"==typeof i&&(e=w({},e,i));var n="string"==typeof i?i:e.slide;if(t||(t=new o(this,e),C(this).data(T,t)),"number"==typeof i)t.to(i);else if("string"==typeof n){if("undefined"==typeof t[n])throw new TypeError('No method named "'+n+'"');t[n]()}else e.interval&&(t.pause(),t.cycle())})},o._dataApiClickHandler=function v(t){var e=A.getSelectorFromElement(this);if(e){var n=C(e)[0];if(n&&C(n).hasClass(P.CAROUSEL)){var i=w({},C(n).data(),C(this).data()),r=this.getAttribute("data-slide-to");r&&(i.interval=!1),o._jQueryInterface.call(C(n),i),r&&C(n).data(T).to(r),t.preventDefault()}}},E(o,null,[{key:"VERSION",get:function b(){return x}},{key:"Default",get:function b(){return L}}]),o}(),C(document).on(I.CLICK_DATA_API,j.DATA_SLIDE,o._dataApiClickHandler),C(window).on(I.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll(j.DATA_RIDE)),e=0,n=t.length;e<n;e++){var i=C(t[e]);o._jQueryInterface.call(i,i.data())}}),C.fn[S]=o._jQueryInterface,C.fn[S].Constructor=o,C.fn[S].noConflict=function(){return C.fn[S]=n,o._jQueryInterface},o}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("./util.js")):"function"==typeof define&&define.amd?define(["jquery","./util.js"],e):t.Tab=e(t.jQuery,t.Util)}(this,function(t,l){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}var h,e,a,p,n,r,s,d,f,m,u;return t=t&&t.hasOwnProperty("default")?t["default"]:t,l=l&&l.hasOwnProperty("default")?l["default"]:l,e="tab",a="4.1.3",n="."+(p="bs.tab"),r=".data-api",s=(h=t).fn[e],d={HIDE:"hide"+n,HIDDEN:"hidden"+n,SHOW:"show"+n,SHOWN:"shown"+n,CLICK_DATA_API:"click"+n+r},f={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"},m={DROPDOWN:".dropdown",NAV_LIST_GROUP:".nav, .list-group",ACTIVE:".active",ACTIVE_UL:"> li > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"},u=function(){function i(t){this._element=t}var t=i.prototype;return t.show=function c(){var n=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&h(this._element).hasClass(f.ACTIVE)||h(this._element).hasClass(f.DISABLED))){var t,i,e=h(this._element).closest(m.NAV_LIST_GROUP)[0],r=l.getSelectorFromElement(this._element);if(e){var o="UL"===e.nodeName?m.ACTIVE_UL:m.ACTIVE;i=(i=h.makeArray(h(e).find(o)))[i.length-1]}var s=h.Event(d.HIDE,{relatedTarget:this._element}),a=h.Event(d.SHOW,{relatedTarget:i});if(i&&h(i).trigger(s),h(this._element).trigger(a),!a.isDefaultPrevented()&&!s.isDefaultPrevented()){r&&(t=document.querySelector(r)),this._activate(this._element,e);var u=function u(){var t=h.Event(d.HIDDEN,{relatedTarget:n._element}),e=h.Event(d.SHOWN,{relatedTarget:i});h(i).trigger(t),h(n._element).trigger(e)};t?this._activate(t,t.parentNode,u):u()}}},t.dispose=function e(){h.removeData(this._element,p),this._element=null},t._activate=function u(t,e,n){var i=this,r=("UL"===e.nodeName?h(e).find(m.ACTIVE_UL):h(e).children(m.ACTIVE))[0],o=n&&r&&h(r).hasClass(f.FADE),s=function s(){return i._transitionComplete(t,r,n)};if(r&&o){var a=l.getTransitionDurationFromElement(r);h(r).one(l.TRANSITION_END,s).emulateTransitionEnd(a)}else s()},t._transitionComplete=function s(t,e,n){if(e){h(e).removeClass(f.SHOW+" "+f.ACTIVE);var i=h(e.parentNode).find(m.DROPDOWN_ACTIVE_CHILD)[0];i&&h(i).removeClass(f.ACTIVE),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}if(h(t).addClass(f.ACTIVE),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),l.reflow(t),h(t).addClass(f.SHOW),t.parentNode&&h(t.parentNode).hasClass(f.DROPDOWN_MENU)){var r=h(t).closest(m.DROPDOWN)[0];if(r){var o=[].slice.call(r.querySelectorAll(m.DROPDOWN_TOGGLE));h(o).addClass(f.ACTIVE)}t.setAttribute("aria-expanded",!0)}n&&n()},i._jQueryInterface=function r(n){return this.each(function(){var t=h(this),e=t.data(p);if(e||(e=new i(this),t.data(p,e)),"string"==typeof n){if("undefined"==typeof e[n])throw new TypeError('No method named "'+n+'"');e[n]()}})},o(i,null,[{key:"VERSION",get:function n(){return a}}]),i}(),h(document).on(d.CLICK_DATA_API,m.DATA_TOGGLE,function(t){t.preventDefault(),u._jQueryInterface.call(h(this),"show")}),h.fn[e]=u._jQueryInterface,h.fn[e].Constructor=u,h.fn[e].noConflict=function(){return h.fn[e]=s,u._jQueryInterface},u}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ActiveStorage=e():t.ActiveStorage=e()}(this,function(){return function(n){function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var r={};return i.m=n,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=2)}([function(t,e){"use strict";function n(t){var e=r(document.head,'meta[name="'+t+'"]');if(e)return e.getAttribute("content")}function i(t,e){return"string"==typeof t&&(e=t,t=document),s(t.querySelectorAll(e))}function r(t,e){return"string"==typeof t&&(e=t,t=document),t.querySelector(e)}function o(t,e,n){var i=2<arguments.length&&void 0!==n?arguments[2]:{},r=t.disabled,o=i.bubbles,s=i.cancelable,a=i.detail,u=document.createEvent("Event");u.initEvent(e,o||!0,s||!0),u.detail=a||{};try{t.disabled=!1,t.dispatchEvent(u)}finally{t.disabled=r}return u}function s(t){return Array.isArray(t)?t:Array.from?Array.from(t):[].slice.call(t)}e.d=n,e.c=i,e.b=r,e.a=o,e.e=s},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(t&&"function"==typeof t[e]){for(var n=arguments.length,i=Array(2<n?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return t[e].apply(t,i)}}n.d(e,"a",function(){return i});var s=n(6),a=n(8),u=n(9),c=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),l=0,i=function(){function i(t,e,n){r(this,i),this.id=++l,this.file=t,this.url=e,this.delegate=n}return c(i,[{key:"create",value:function(i){var r=this;s.a.create(this.file,function(t,e){if(t)i(t);else{var n=new a.a(r.file,e,r.url);o(r.delegate,"directUploadWillCreateBlobWithXHR",n.xhr),n.create(function(t){if(t)i(t);else{var e=new u.a(n);o(r.delegate,"directUploadWillStoreFileWithXHR",e.xhr),e.create(function(t){t?i(t):i(null,n.toJSON())})}})}})}}]),i}()},function(t,e,n){"use strict";function i(){window.ActiveStorage&&Object(r.a)()}Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n(1);n.d(e,"start",function(){return r.a}),n.d(e,"DirectUpload",function(){return o.a}),setTimeout(i,1)},function(t,e,n){"use strict";function i(){d||(d=!0,document.addEventListener("submit",r),document.addEventListener("ajax:before",o))}function r(t){s(t)}function o(t){"FORM"==t.target.tagName&&s(t)}function s(t){var e=t.target;if(e.hasAttribute(p))t.preventDefault();else{var n=new l.a(e),i=n.inputs;i.length&&(t.preventDefault(),e.setAttribute(p,""),i.forEach(u),n.start(function(t){e.removeAttribute(p),t?i.forEach(c):a(e)}))}}function a(t){var e=Object(h.b)(t,"input[type=submit]");if(e){var n=e.disabled;e.disabled=!1,e.focus(),e.click(),e.disabled=n}else(e=document.createElement("input")).type="submit",e.style.display="none",t.appendChild(e),e.click(),t.removeChild(e)}function u(t){t.disabled=!0}function c(t){t.disabled=!1}e.a=i;var l=n(4),h=n(0),p="data-direct-uploads-processing",d=!1},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return u});var r=n(5),o=n(0),s=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),a="input[type=file][data-direct-upload-url]:not([disabled])",u=function(){function e(t){i(this,e),this.form=t,this.inputs=Object(o.c)(t,a).filter(function(t){return t.files.length})}return s(e,[{key:"start",value:function(e){var n=this,i=this.createDirectUploadControllers();this.dispatch("start"),function r(){var t=i.shift();t?t.start(function(t){t?(e(t),n.dispatch("end")):r()}):(e(),n.dispatch("end"))}()}},{key:"createDirectUploadControllers",value:function(){var i=[];return this.inputs.forEach(function(n){Object(o.e)(n.files).forEach(function(t){var e=new r.a(n,t);i.push(e)})}),i}},{key:"dispatch",value:function(t,e){var n=1<arguments.length&&void 0!==e?arguments[1]:{};return Object(o.a)(this.form,"direct-uploads:"+t,{detail:n})}}]),e}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return a});var r=n(1),o=n(0),s=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),a=function(){function n(t,e){i(this,n),this.input=t,this.file=e,this.directUpload=new r.a(this.file,this.url,this),this.dispatch("initialize")}return s(n,[{key:"start",value:function(n){var i=this,r=document.createElement("input");r.type="hidden",r.name=this.input.name,this.input.insertAdjacentElement("beforebegin",r),this.dispatch("start"),this.directUpload.create(function(t,e){t?(r.parentNode.removeChild(r),i.dispatchError(t)):r.value=e.signed_id,i.dispatch("end"),n(t)})}},{key:"uploadRequestDidProgress",value:function(t){var e=t.loaded/t.total*100;e&&this.dispatch("progress",{progress:e})}},{key:"dispatch",value:function(t,e){var n=1<arguments.length&&void 0!==e?arguments[1]:{};return n.file=this.file,n.id=this.directUpload.id,Object(o.a)(this.input,"direct-upload:"+t,{detail:n})}},{key:"dispatchError",value:function(t){this.dispatch("error",{error:t}).defaultPrevented||alert(t)}},{key:"directUploadWillCreateBlobWithXHR",value:function(t){this.dispatch("before-blob-request",{xhr:t})}},{key:"directUploadWillStoreFileWithXHR",value:function(t){var e=this;this.dispatch("before-storage-request",{xhr:t}),t.upload.addEventListener("progress",function(t){return e.uploadRequestDidProgress(t)})}},{key:"url",get:function(){return this.input.getAttribute("data-direct-upload-url")}}]),n}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return u});var r=n(7),o=n.n(r),s=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),a=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,u=function(){function n(t){i(this,n),this.file=t,this.chunkSize=2097152,this.chunkCount=Math.ceil(this.file.size/this.chunkSize),this.chunkIndex=0}return s(n,null,[{key:"create",value:function(t,e){new n(t).create(e)}}]),s(n,[{key:"create",value:function(t){var e=this;this.callback=t,this.md5Buffer=new o.a.ArrayBuffer,this.fileReader=new FileReader,this.fileReader.addEventListener("load",function(t){return e.fileReaderDidLoad(t)}),this.fileReader.addEventListener("error",function(t){return e.fileReaderDidError(t)}),this.readNextChunk()}},{key:"fileReaderDidLoad",value:function(t){if(this.md5Buffer.append(t.target.result),!this.readNextChunk()){var e=this.md5Buffer.end(!0),n=btoa(e);this.callback(null,n)}}},{key:"fileReaderDidError",value:function(){this.callback("Error reading "+this.file.name)}},{key:"readNextChunk",value:function(){if(this.chunkIndex<this.chunkCount||0==this.chunkIndex&&0==this.chunkCount){var t=this.chunkIndex*this.chunkSize,e=Math.min(t+this.chunkSize,this.file.size),n=a.call(this.file,t,e);return this.fileReader.readAsArrayBuffer(n),this.chunkIndex++,!0}return!1}}]),n}()},function(t){var e;e=function(l){"use strict";function c(t,e){var n=t[0],i=t[1],r=t[2],o=t[3];i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+e[0]-680876936|0)<<7|n>>>25)+i|0)&i|~n&r)+e[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&i)+e[2]+606105819|0)<<17|r>>>15)+o|0)&o|~r&n)+e[3]-1044525330|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+e[4]-176418897|0)<<7|n>>>25)+i|0)&i|~n&r)+e[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&i)+e[6]-1473231341|0)<<17|r>>>15)+o|0)&o|~r&n)+e[7]-45705983|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+e[8]+1770035416|0)<<7|n>>>25)+i|0)&i|~n&r)+e[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&i)+e[10]-42063|0)<<17|r>>>15)+o|0)&o|~r&n)+e[11]-1990404162|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+e[12]+1804603682|0)<<7|n>>>25)+i|0)&i|~n&r)+e[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&i)+e[14]-1502002290|0)<<17|r>>>15)+o|0)&o|~r&n)+e[15]+1236535329|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+e[1]-165796510|0)<<5|n>>>27)+i|0)&r|i&~r)+e[6]-1069501632|0)<<9|o>>>23)+n|0)&i|n&~i)+e[11]+643717713|0)<<14|r>>>18)+o|0)&n|o&~n)+e[0]-373897302|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+e[5]-701558691|0)<<5|n>>>27)+i|0)&r|i&~r)+e[10]+38016083|0)<<9|o>>>23)+n|0)&i|n&~i)+e[15]-660478335|0)<<14|r>>>18)+o|0)&n|o&~n)+e[4]-405537848|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+e[9]+568446438|0)<<5|n>>>27)+i|0)&r|i&~r)+e[14]-1019803690|0)<<9|o>>>23)+n|0)&i|n&~i)+e[3]-187363961|0)<<14|r>>>18)+o|0)&n|o&~n)+e[8]+1163531501|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+e[13]-1444681467|0)<<5|n>>>27)+i|0)&r|i&~r)+e[2]-51403784|0)<<9|o>>>23)+n|0)&i|n&~i)+e[7]+1735328473|0)<<14|r>>>18)+o|0)&n|o&~n)+e[12]-1926607734|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+e[5]-378558|0)<<4|n>>>28)+i|0)^i^r)+e[8]-2022574463|0)<<11|o>>>21)+n|0)^n^i)+e[11]+1839030562|0)<<16|r>>>16)+o|0)^o^n)+e[14]-35309556|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+e[1]-1530992060|0)<<4|n>>>28)+i|0)^i^r)+e[4]+1272893353|0)<<11|o>>>21)+n|0)^n^i)+e[7]-155497632|0)<<16|r>>>16)+o|0)^o^n)+e[10]-1094730640|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+e[13]+681279174|0)<<4|n>>>28)+i|0)^i^r)+e[0]-358537222|0)<<11|o>>>21)+n|0)^n^i)+e[3]-722521979|0)<<16|r>>>16)+o|0)^o^n)+e[6]+76029189|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+e[9]-640364487|0)<<4|n>>>28)+i|0)^i^r)+e[12]-421815835|0)<<11|o>>>21)+n|0)^n^i)+e[15]+530742520|0)<<16|r>>>16)+o|0)^o^n)+e[2]-995338651|0)<<23|i>>>9)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+e[0]-198630844|0)<<6|n>>>26)+i|0)|~r))+e[7]+1126891415|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+e[14]-1416354905|0)<<15|r>>>17)+o|0)|~n))+e[5]-57434055|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+e[12]+1700485571|0)<<6|n>>>26)+i|0)|~r))+e[3]-1894986606|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+e[10]-1051523|0)<<15|r>>>17)+o|0)|~n))+e[1]-2054922799|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+e[8]+1873313359|0)<<6|n>>>26)+i|0)|~r))+e[15]-30611744|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+e[6]-1560198380|0)<<15|r>>>17)+o|0)|~n))+e[13]+1309151649|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+e[4]-145523070|0)<<6|n>>>26)+i|0)|~r))+e[11]-1120210379|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+e[2]+718787259|0)<<15|r>>>17)+o|0)|~n))+e[9]-343485551|0)<<21|i>>>11)+r|0,t[0]=n+t[0]|0,t[1]=i+t[1]|0,t[2]=r+t[2]|0,t[3]=o+t[3]|0}function h(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function p(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return n}function i(t){var e,n,i,r,o,s,a=t.length,u=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=a;e+=64)c(u,h(t.substring(e-64,e)));for(n=(t=t.substring(e-64)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<n;e+=1)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),55<e)for(c(u,i),e=0;e<16;e+=1)i[e]=0;return r=(r=8*a).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),s=parseInt(r[1],16)||0,i[14]=o,i[15]=s,c(u,i),u}function r(t){var e,n,i,r,o,s,a=t.length,u=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=a;e+=64)c(u,p(t.subarray(e-64,e)));for(n=(t=e-64<a?t.subarray(e-64):new Uint8Array(0)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<n;e+=1)i[e>>2]|=t[e]<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),55<e)for(c(u,i),e=0;e<16;e+=1)i[e]=0;return r=(r=8*a).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),s=parseInt(r[1],16)||0,i[14]=o,i[15]=s,c(u,i),u}function n(t){var e,n="";for(e=0;e<4;e+=1)n+=m[t>>8*e+4&15]+m[t>>8*e&15];return n}function s(t){var e;for(e=0;e<t.length;e+=1)t[e]=n(t[e]);return t.join("")}function o(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function e(t,e){var n,i=t.length,r=new ArrayBuffer(i),o=new Uint8Array(r);for(n=0;n<i;n+=1)o[n]=t.charCodeAt(n);return e?o:r}function a(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function u(t,e,n){var i=new Uint8Array(t.byteLength+e.byteLength);return i.set(new Uint8Array(t)),i.set(new Uint8Array(e),t.byteLength),n?i:i.buffer}function d(t){var e,n=[],i=t.length;for(e=0;e<i-1;e+=2)n.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,n)}function f(){this.reset()}var m=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return s(i("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function c(t,e){return(t=0|t||0)<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(t,e){var n,i,r,o,s=this.byteLength,a=c(t,s),u=s;return e!==l&&(u=c(e,s)),u<a?new ArrayBuffer(0):(n=u-a,i=new ArrayBuffer(n),r=new Uint8Array(i),o=new Uint8Array(this,a,n),r.set(o),i)}}(),f.prototype.append=function(t){return this.appendBinary(o(t)),this},f.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,n=this._buff.length;for(e=64;e<=n;e+=64)c(this._hash,h(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},f.prototype.end=function(t){var e,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r;e+=1)o[e>>2]|=i.charCodeAt(e)<<(e%4<<3);return this._finish(o,r),n=s(this._hash),t&&(n=d(n)),this.reset(),n},f.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},f.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},f.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,
this._hash=t.hash,this},f.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},f.prototype._finish=function(t,e){var n,i,r,o=e;if(t[o>>2]|=128<<(o%4<<3),55<o)for(c(this._hash,t),o=0;o<16;o+=1)t[o]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(n[2],16),r=parseInt(n[1],16)||0,t[14]=i,t[15]=r,c(this._hash,t)},f.hash=function(t,e){return f.hashBinary(o(t),e)},f.hashBinary=function(t,e){var n=s(i(t));return e?d(n):n},f.ArrayBuffer=function(){this.reset()},f.ArrayBuffer.prototype.append=function(t){var e,n=u(this._buff.buffer,t,!0),i=n.length;for(this._length+=t.byteLength,e=64;e<=i;e+=64)c(this._hash,p(n.subarray(e-64,e)));return this._buff=e-64<i?new Uint8Array(n.buffer.slice(e-64)):new Uint8Array(0),this},f.ArrayBuffer.prototype.end=function(t){var e,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r;e+=1)o[e>>2]|=i[e]<<(e%4<<3);return this._finish(o,r),n=s(this._hash),t&&(n=d(n)),this.reset(),n},f.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},f.ArrayBuffer.prototype.getState=function(){var t=f.prototype.getState.call(this);return t.buff=a(t.buff),t},f.ArrayBuffer.prototype.setState=function(t){return t.buff=e(t.buff,!0),f.prototype.setState.call(this,t)},f.ArrayBuffer.prototype.destroy=f.prototype.destroy,f.ArrayBuffer.prototype._finish=f.prototype._finish,f.ArrayBuffer.hash=function(t,e){var n=s(r(new Uint8Array(t)));return e?d(n):n},f},t.exports=e()},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return r});var s=n(0),i=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),r=function(){function r(t,e,n){var i=this;o(this,r),this.file=t,this.attributes={filename:t.name,content_type:t.type,byte_size:t.size,checksum:e},this.xhr=new XMLHttpRequest,this.xhr.open("POST",n,!0),this.xhr.responseType="json",this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.setRequestHeader("Accept","application/json"),this.xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),this.xhr.setRequestHeader("X-CSRF-Token",Object(s.d)("csrf-token")),this.xhr.addEventListener("load",function(t){return i.requestDidLoad(t)}),this.xhr.addEventListener("error",function(t){return i.requestDidError(t)})}return i(r,[{key:"create",value:function(t){this.callback=t,this.xhr.send(JSON.stringify({blob:this.attributes}))}},{key:"requestDidLoad",value:function(t){if(200<=this.status&&this.status<300){var e=this.response,n=e.direct_upload;delete e.direct_upload,this.attributes=e,this.directUploadData=n,this.callback(null,this.toJSON())}else this.requestDidError(t)}},{key:"requestDidError",value:function(){this.callback('Error creating Blob for "'+this.file.name+'". Status: '+this.status)}},{key:"toJSON",value:function(){var t={};for(var e in this.attributes)t[e]=this.attributes[e];return t}},{key:"status",get:function(){return this.xhr.status}},{key:"response",get:function(){var t=this.xhr,e=t.responseType,n=t.response;return"json"==e?n:JSON.parse(n)}}]),r}()},function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return r});var i=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),r=function(){function s(t){var e=this;a(this,s),this.blob=t,this.file=t.file;var n=t.directUploadData,i=n.url,r=n.headers;for(var o in this.xhr=new XMLHttpRequest,this.xhr.open("PUT",i,!0),this.xhr.responseType="text",r)this.xhr.setRequestHeader(o,r[o]);this.xhr.addEventListener("load",function(t){return e.requestDidLoad(t)}),this.xhr.addEventListener("error",function(t){return e.requestDidError(t)})}return i(s,[{key:"create",value:function(t){this.callback=t,this.xhr.send(this.file.slice())}},{key:"requestDidLoad",value:function(t){var e=this.xhr,n=e.status,i=e.response;200<=n&&n<300?this.callback(null,i):this.requestDidError(t)}},{key:"requestDidError",value:function(){this.callback('Error storing "'+this.file.name+'". Status: '+this.xhr.status)}}]),s}()}])}),function(){var t=this;(function(){(function(){this.Turbolinks={supported:null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener,visit:function(t,e){return l.controller.visit(t,e)},clearCache:function(){return l.controller.clearCache()},setProgressBarDelay:function(t){return l.controller.setProgressBarDelay(t)}}}).call(this)}).call(t);var l=t.Turbolinks;(function(){(function(){var n,i,u,t,e,r,o,s,a,c=[].slice;l.copyObject=function(t){var e,n,i;for(e in n={},t)i=t[e],n[e]=i;return n},l.closest=function(t,e){return n.call(t,e)},n=null!=(a=document.documentElement.closest)?a:function(t){var e;for(e=this;e;){if(e.nodeType===Node.ELEMENT_NODE&&i.call(e,t))return e;e=e.parentNode}},l.defer=function(t){return setTimeout(t,1)},l.throttle=function(n){var i;return i=null,function(){var t,e;return t=1<=arguments.length?c.call(arguments,0):[],null!=i?i:i=requestAnimationFrame((e=this,function(){return i=null,n.apply(e,t)}))}},l.dispatch=function(t,e){var n,i,r,o,s,a;return a=(s=null!=e?e:{}).target,n=s.cancelable,i=s.data,(r=document.createEvent("Events")).initEvent(t,!0,!0===n),r.data=null!=i?i:{},r.cancelable&&!u&&(o=r.preventDefault,r.preventDefault=function(){return this.defaultPrevented||Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),o.call(this)}),(null!=a?a:document).dispatchEvent(r),r},(s=document.createEvent("Events")).initEvent("test",!0,!0),s.preventDefault(),u=s.defaultPrevented,l.match=function(t,e){return i.call(t,e)},i=null!=(e=null!=(r=null!=(o=(t=document.documentElement).matchesSelector)?o:t.webkitMatchesSelector)?r:t.msMatchesSelector)?e:t.mozMatchesSelector,l.uuid=function(){var t,e,n;for(n="",t=e=1;e<=36;t=++e)n+=9===t||14===t||19===t||24===t?"-":15===t?"4":20===t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return n}}).call(this),function(){l.Location=function(){function t(t){var e,n;null==t&&(t=""),(n=document.createElement("a")).href=t.toString(),this.absoluteURL=n.href,(e=n.hash.length)<2?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-e),this.anchor=n.hash.slice(1))}var e,n,i,r;return t.wrap=function(t){return t instanceof this?t:new this(t)},t.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},t.prototype.getPath=function(){var t,e;return null!=(t=null!=(e=this.requestURL.match(/\/\/[^\/]*(\/[^?;]*)/))?e[1]:void 0)?t:"/"},t.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},t.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},t.prototype.getExtension=function(){var t,e;return null!=(t=null!=(e=this.getLastPathComponent().match(/\.[^.]*$/))?e[0]:void 0)?t:""},t.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},t.prototype.isPrefixedBy=function(t){var e;return e=n(t),this.isEqualTo(t)||r(this.absoluteURL,e)},t.prototype.isEqualTo=function(t){return this.absoluteURL===(null!=t?t.absoluteURL:void 0)},t.prototype.toCacheKey=function(){return this.requestURL},t.prototype.toJSON=function(){return this.absoluteURL},t.prototype.toString=function(){return this.absoluteURL},t.prototype.valueOf=function(){return this.absoluteURL},n=function(t){return e(t.getOrigin()+t.getPath())},e=function(t){return i(t,"/")?t:t+"/"},r=function(t,e){return t.slice(0,e.length)===e},i=function(t,e){return t.slice(-e.length)===e},t}()}.call(this),function(){var i=function(t,e){return function(){return t.apply(e,arguments)}};l.HttpRequest=function(){function t(t,e,n){this.delegate=t,this.requestCanceled=i(this.requestCanceled,this),this.requestTimedOut=i(this.requestTimedOut,this),this.requestFailed=i(this.requestFailed,this),this.requestLoaded=i(this.requestLoaded,this),this.requestProgressed=i(this.requestProgressed,this),this.url=l.Location.wrap(e).requestURL,this.referrer=l.Location.wrap(n).absoluteURL,this.createXHR()}return t.NETWORK_FAILURE=0,t.TIMEOUT_FAILURE=-1,t.timeout=60,t.prototype.send=function(){var t;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(t=this.delegate).requestStarted?t.requestStarted():void 0):void 0},t.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},t.prototype.requestProgressed=function(t){return t.lengthComputable?this.setProgress(t.loaded/t.total):void 0},t.prototype.requestLoaded=function(){return this.endRequest((e=this,function(){var t;return 200<=(t=e.xhr.status)&&t<300?e.delegate.requestCompletedWithResponse(e.xhr.responseText,e.xhr.getResponseHeader("Turbolinks-Location")):(e.failed=!0,e.delegate.requestFailedWithStatusCode(e.xhr.status,e.xhr.responseText))}));var e},t.prototype.requestFailed=function(){return this.endRequest((t=this,function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.NETWORK_FAILURE)}));var t},t.prototype.requestTimedOut=function(){return this.endRequest((t=this,function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.TIMEOUT_FAILURE)}));var t},t.prototype.requestCanceled=function(){return this.endRequest()},t.prototype.notifyApplicationBeforeRequestStart=function(){return l.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},t.prototype.notifyApplicationAfterRequestEnd=function(){return l.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},t.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},t.prototype.endRequest=function(t){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=t&&t.call(this),this.destroy()):void 0},t.prototype.setProgress=function(t){var e;return this.progress=t,"function"==typeof(e=this.delegate).requestProgressed?e.requestProgressed(this.progress):void 0},t.prototype.destroy=function(){var t;return this.setProgress(1),"function"==typeof(t=this.delegate).requestFinished&&t.requestFinished(),this.delegate=null,this.xhr=null},t}()}.call(this),function(){var n=function(t,e){return function(){return t.apply(e,arguments)}};l.ProgressBar=function(){function t(){this.trickle=n(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var e;return e=300,t.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+e+"ms ease-out, opacity "+e/2+"ms "+e/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",t.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},t.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement((t=this,function(){return t.uninstallProgressElement(),t.stopTrickling(),t.visible=!1,t.hiding=!1}))):void 0;var t},t.prototype.setValue=function(t){return this.value=t,this.refresh()},t.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},t.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},t.prototype.fadeProgressElement=function(t){return this.progressElement.style.opacity=0,setTimeout(t,1.5*e)},t.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},t.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,e)},t.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},t.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},t.prototype.refresh=function(){return requestAnimationFrame((t=this,function(){return t.progressElement.style.width=10+90*t.value+"%"}));var t},t.prototype.createStylesheetElement=function(){var t;return(t=document.createElement("style")).type="text/css",t.textContent=this.constructor.defaultCSS,t},t.prototype.createProgressElement=function(){var t;return(t=document.createElement("div")).className="turbolinks-progress-bar",t},t}()}.call(this),function(){var r=function(t,e){return function(){return t.apply(e,arguments)}};l.BrowserAdapter=function(){function t(t){this.controller=t,this.showProgressBar=r(this.showProgressBar,this),this.progressBar=new l.ProgressBar}var n,i,e;return e=l.HttpRequest,n=e.NETWORK_FAILURE,i=e.TIMEOUT_FAILURE,t.prototype.visitProposedToLocationWithAction=function(t,e){return this.controller.startVisitToLocationWithAction(t,e)},t.prototype.visitStarted=function(t){return t.issueRequest(),t.changeHistory(),t.loadCachedSnapshot()},t.prototype.visitRequestStarted=function(t){return this.progressBar.setValue(0),t.hasCachedSnapshot()||"restore"!==t.action?this.showProgressBarAfterDelay():this.showProgressBar()},t.prototype.visitRequestProgressed=function(t){return this.progressBar.setValue(t.progress)},t.prototype.visitRequestCompleted=function(t){return t.loadResponse()},t.prototype.visitRequestFailedWithStatusCode=function(t,e){switch(e){case n:case i:return this.reload();default:return t.loadResponse()}},t.prototype.visitRequestFinished=function(){return this.hideProgressBar()},t.prototype.visitCompleted=function(t){return t.followRedirect()},t.prototype.pageInvalidated=function(){return this.reload()},t.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,this.controller.progressBarDelay)},t.prototype.showProgressBar=function(){return this.progressBar.show()},t.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},t.prototype.reload=function(){return window.location.reload()},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};l.History=function(){function t(t){this.delegate=t,this.onPageLoad=e(this.onPageLoad,this),this.onPopState=e(this.onPopState,this)}return t.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0)},t.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1):void 0},t.prototype.push=function(t,e){return t=l.Location.wrap(t),this.update("push",t,e)},t.prototype.replace=function(t,e){return t=l.Location.wrap(t),this.update("replace",t,e)},t.prototype.onPopState=function(t){var e,n,i,r;return this.shouldHandlePopState()&&(r=null!=(n=t.state)?n.turbolinks:void 0)?(e=l.Location.wrap(window.location),i=r.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(e,i)):void 0},t.prototype.onPageLoad=function(){return l.defer((t=this,function(){return t.pageLoaded=!0}));var t},t.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},t.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"===document.readyState},t.prototype.update=function(t,e,n){var i;return i={turbolinks:{restorationIdentifier:n}},history[t+"State"](i,null,e)},t}()}.call(this),function(){l.HeadDetails=function(){function t(t){var e,n,i,r,o;for(this.elements={},n=0,r=t.length;n<r;n++)(o=t[n]).nodeType===Node.ELEMENT_NODE&&(i=o.outerHTML,(null!=(e=this.elements)[i]?e[i]:e[i]={type:a(o),tracked:s(o),elements:[]}).elements.push(o))}var o,e,n,s,a;return t.fromHeadElement=function(t){var e;return new this(null!=(e=null!=t?t.childNodes:void 0)?e:[])},t.prototype.hasElementWithKey=function(t){return t in this.elements},t.prototype.getTrackedElementSignature=function(){var n;return function(){var t,e;for(n in e=[],t=this.elements)t[n].tracked&&e.push(n);return e}.call(this).join("")},t.prototype.getScriptElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("script",t)},t.prototype.getStylesheetElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("stylesheet",t)},t.prototype.getElementsMatchingTypeNotInDetails=function(t,e){var n,i,r,o,s,a;for(i in s=[],r=this.elements)a=(o=r[i]).type,n=o.elements,a!==t||e.hasElementWithKey(i)||s.push(n[0]);return s},t.prototype.getProvisionalElements=function(){var t,e,n,i,r,o,s;for(e in n=[],i=this.elements)s=(r=i[e]).type,o=r.tracked,t=r.elements,null!=s||o?1<t.length&&n.push.apply(n,t.slice(1)):n.push.apply(n,t);return n},t.prototype.getMetaValue=function(t){var e;return null!=(e=this.findMetaElementByName(t))?e.getAttribute("content"):void 0},t.prototype.findMetaElementByName=function(t){var e,n,i,r;for(i in e=void 0,r=this.elements)n=r[i].elements,o(n[0],t)&&(e=n[0]);return e},a=function(t){return e(t)?"script":n(t)?"stylesheet":void 0},s=function(t){return"reload"===t.getAttribute("data-turbolinks-track")},e=function(t){return"script"===t.tagName.toLowerCase()},n=function(t){var e;return"style"===(e=t.tagName.toLowerCase())||"link"===e&&"stylesheet"===t.getAttribute("rel")},o=function(t,e){return"meta"===t.tagName.toLowerCase()&&t.getAttribute("name")===e},t}()}.call(this),function(){l.Snapshot=function(){function t(t,e){this.headDetails=t,this.bodyElement=e}return t.wrap=function(t){return t instanceof this?t:"string"==typeof t?this.fromHTMLString(t):this.fromHTMLElement(t)},t.fromHTMLString=function(t){var e;return(e=document.createElement("html")).innerHTML=t,this.fromHTMLElement(e)},t.fromHTMLElement=function(t){var e,n,i;return n=t.querySelector("head"),e=null!=(i=t.querySelector("body"))?i:document.createElement("body"),new this(l.HeadDetails.fromHeadElement(n),e)},t.prototype.clone=function(){return new this.constructor(this.headDetails,this.bodyElement.cloneNode(!0))},t.prototype.getRootLocation=function(){var t,e;return e=null!=(t=this.getSetting("root"))?t:"/",new l.Location(e)},t.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},t.prototype.getElementForAnchor=function(t){try{return this.bodyElement.querySelector("[id='"+t+"'], a[name='"+t+"']")}catch(l){}},t.prototype.getPermanentElements=function(){return this.bodyElement.querySelectorAll("[id][data-turbolinks-permanent]")},t.prototype.getPermanentElementById=function(t){return this.bodyElement.querySelector("#"+t+"[data-turbolinks-permanent]")},t.prototype.getPermanentElementsPresentInSnapshot=function(t){var e,n,i,r,o;for(o=[],n=0,i=(r=this.getPermanentElements()).length;n<i;n++)e=r[n],t.getPermanentElementById(e.id)&&o.push(e);return o},t.prototype.findFirstAutofocusableElement=function(){return this.bodyElement.querySelector("[autofocus]")},t.prototype.hasAnchor=function(t){return null!=this.getElementForAnchor(t)},t.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},t.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},t.prototype.isVisitable=function(){return"reload"!==this.getSetting("visit-control")},t.prototype.getSetting=function(t){return this.headDetails.getMetaValue("turbolinks-"+t)},t}()}.call(this),function(){var o=[].slice;l.Renderer=function(){function t(){}var n;return t.render=function(t,e){var n,i,r;return i=t,n=e,(r=function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(this,3<=arguments.length?o.call(arguments,2):[],function(){})).delegate=i,r.render(n),r},t.prototype.renderView=function(t){return this.delegate.viewWillRender(this.newBody),t(),this.delegate.viewRendered(this.newBody)},t.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},t.prototype.createScriptElement=function(t){var e;return"false"===t.getAttribute("data-turbolinks-eval")?t:((e=document.createElement("script")).textContent=t.textContent,e.async=!1,n(e,t),e)},n=function(t,e){var n,i,r,o,s,a,u;for(a=[],n=0,i=(o=e.attributes).length;n<i;n++)r=(s=o[n]).name,u=s.value,a.push(t.setAttribute(r,u));return a},t}()}.call(this),function(){var a,u,n=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;l.SnapshotRenderer=function(t){function e(t,e,n){this.currentSnapshot=t,this.newSnapshot=e,this.isPreview=n,this.currentHeadDetails=this.currentSnapshot.headDetails,this.newHeadDetails=this.newSnapshot.headDetails,this.currentBody=this.currentSnapshot.bodyElement,this.newBody=this.newSnapshot.bodyElement}return n(e,t),e.prototype.render=function(t){return this.shouldRender()?(this.mergeHead(),this.renderView((e=this,function(){return e.replaceBody(),e.isPreview||e.focusFirstAutofocusableElement(),t()}))):this.invalidateView();var e},e.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},e.prototype.replaceBody=function(){var t;return t=this.relocateCurrentBodyPermanentElements(),this.activateNewBodyScriptElements(),this.assignNewBody(),this.replacePlaceholderElementsWithClonedPermanentElements(t)},e.prototype.shouldRender=function(){return this.newSnapshot.isVisitable()&&this.trackedElementsAreIdentical()},e.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},e.prototype.copyNewHeadStylesheetElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getNewHeadStylesheetElements()).length;e<n;e++)t=i[e],r.push(document.head.appendChild(t));return r},e.prototype.copyNewHeadScriptElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getNewHeadScriptElements()).length;e<n;e++)t=i[e],r.push(document.head.appendChild(this.createScriptElement(t)));return r},e.prototype.removeCurrentHeadProvisionalElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getCurrentHeadProvisionalElements()).length;e<n;e++)t=i[e],r.push(document.head.removeChild(t));return r},e.prototype.copyNewHeadProvisionalElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getNewHeadProvisionalElements()).length;e<n;e++)t=i[e],r.push(document.head.appendChild(t));return r},e.prototype.relocateCurrentBodyPermanentElements=function(){var t,e,n,i,r,o,s;for(s=[],t=0,e=(o=this.getCurrentBodyPermanentElements()).length;t<e;t++)i=o[t],r=a(i),n=this.newSnapshot.getPermanentElementById(i.id),u(i,r.element),u(n,i),s.push(r);return s},e.prototype.replacePlaceholderElementsWithClonedPermanentElements=function(t){var e,n,i,r,o,s;for(s=[],i=0,r=t.length;i<r;i++)n=(o=t[i]).element,e=o.permanentElement.cloneNode(!0),s.push(u(n,e));return s},e.prototype.activateNewBodyScriptElements=function(){var t,e,n,i,r,o;for(o=[],e=0,i=(r=this.getNewBodyScriptElements()).length;e<i;e++)n=r[e],t=this.createScriptElement(n),o.push(u(n,t));return o},e.prototype.assignNewBody=function(){return document.body=this.newBody},e.prototype.focusFirstAutofocusableElement=function(){var t;return null!=(t=this.newSnapshot.findFirstAutofocusableElement())?t.focus():void 0},e.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},e.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},e.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},e.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},e.prototype.getCurrentBodyPermanentElements=function(){return this.currentSnapshot.getPermanentElementsPresentInSnapshot(this.newSnapshot)},e.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},e}(l.Renderer),a=function(t){var e;return(e=document.createElement("meta")).setAttribute("name","turbolinks-permanent-placeholder"),e.setAttribute("content",t.id),{element:e,permanentElement:t}},u=function(t,e){var n;return(n=t.parentNode)?n.replaceChild(e,t):void 0}}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;l.ErrorRenderer=function(t){function e(t){var e;(e=document.createElement("html")).innerHTML=t,this.newHead=e.querySelector("head"),this.newBody=e.querySelector("body")}return n(e,t),e.prototype.render=function(t){return this.renderView((e=this,function(){return e.replaceHeadAndBody(),e.activateBodyScriptElements(),t()}));var e},e.prototype.replaceHeadAndBody=function(){var t,e;return e=document.head,t=document.body,e.parentNode.replaceChild(this.newHead,e),t.parentNode.replaceChild(this.newBody,t)},e.prototype.activateBodyScriptElements=function(){var t,e,n,i,r,o;for(o=[],e=0,n=(i=this.getScriptElements()).length;e<n;e++)r=i[e],t=this.createScriptElement(r),o.push(r.parentNode.replaceChild(t,r));return o},e.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},e}(l.Renderer)}.call(this),function(){l.View=function(){function t(t){this.delegate=t,this.htmlElement=document.documentElement}return t.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},t.prototype.getElementForAnchor=function(t){return this.getSnapshot().getElementForAnchor(t)},t.prototype.getSnapshot=function(){return l.Snapshot.fromHTMLElement(this.htmlElement)},t.prototype.render=function(t,e){var n,i,r;return r=t.snapshot,n=t.error,i=t.isPreview,this.markAsPreview(i),null!=r?this.renderSnapshot(r,i,e):this.renderError(n,e)},t.prototype.markAsPreview=function(t){return t?this.htmlElement.setAttribute("data-turbolinks-preview",""):this.htmlElement.removeAttribute("data-turbolinks-preview")},t.prototype.renderSnapshot=function(t,e,n){return l.SnapshotRenderer.render(this.delegate,n,this.getSnapshot(),l.Snapshot.wrap(t),e)},t.prototype.renderError=function(t,e){return l.ErrorRenderer.render(this.delegate,e,t)},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};l.ScrollManager=function(){function t(t){this.delegate=t,this.onScroll=e(this.onScroll,this),this.onScroll=l.throttle(this.onScroll)}return t.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},t.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},t.prototype.scrollToElement=function(t){return t.scrollIntoView()},t.prototype.scrollToPosition=function(t){var e,n;return e=t.x,n=t.y,window.scrollTo(e,n)},t.prototype.onScroll=function(){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},t.prototype.updatePosition=function(t){var e;return this.position=t,null!=(e=this.delegate)?e.scrollPositionChanged(this.position):void 0},t}()}.call(this),function(){l.SnapshotCache=function(){function t(t){this.size=t,this.keys=[],this.snapshots={}}var i;return t.prototype.has=function(t){return i(t)in this.snapshots},t.prototype.get=function(t){var e;if(this.has(t))return e=this.read(t),this.touch(t),e},t.prototype.put=function(t,e){return this.write(t,e),this.touch(t),e},t.prototype.read=function(t){var e;return e=i(t),this.snapshots[e]},t.prototype.write=function(t,e){var n;return n=i(t),this.snapshots[n]=e},t.prototype.touch=function(t){var e,n;return n=i(t),-1<(e=this.keys.indexOf(n))&&this.keys.splice(e,1),this.keys.unshift(n),this.trim()},t.prototype.trim=function(){var t,e,n,i,r;for(r=[],t=0,n=(i=this.keys.splice(this.size)).length;t<n;t++)e=i[t],r.push(delete this.snapshots[e]);return r},i=function(t){return l.Location.wrap(t).toCacheKey()},t}()}.call(this),function(){var i=function(t,e){return function(){return t.apply(e,arguments)}};l.Visit=function(){function t(t,e,n){this.controller=t,this.action=n,this.performScroll=i(this.performScroll,this),this.identifier=l.uuid(),this.location=l.Location.wrap(e),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var n;return t.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},t.prototype.cancel=function(){var t;return"started"===this.state?(null!=(t=this.request)&&t.cancel(),this.cancelRender(),this.state="canceled"):void 0},t.prototype.complete=function(){var t;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(t=this.adapter).visitCompleted&&t.visitCompleted(this),this.controller.visitCompleted(this)):void 0},t.prototype.fail=function(){var t;return"started"===this.state?(this.state="failed","function"==typeof(t=this.adapter).visitFailed?t.visitFailed(this):void 0):void 0},t.prototype.changeHistory=function(){var t,e;return this.historyChanged?void 0:(t=this.location.isEqualTo(this.referrer)?"replace":this.action,e=n(t),this.controller[e](this.location,this.restorationIdentifier),this.historyChanged=!0)},t.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new l.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},t.prototype.getCachedSnapshot=function(){var t;return!(t=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!t.hasAnchor(this.location.anchor)||"restore"!==this.action&&!t.isPreviewable()?void 0:t},t.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},t.prototype.loadCachedSnapshot=function(){var e,n;return(n=this.getCachedSnapshot())?(e=this.shouldIssueRequest(),this.render(function(){var t;return this.cacheSnapshot(),this.controller.render({snapshot:n,isPreview:e},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),e?void 0:this.complete()})):void 0},t.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var t,e;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.complete())}):void 0},t.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},t.prototype.requestStarted=function(){var t;return this.recordTimingMetric("requestStart"),"function"==typeof(t=this.adapter).visitRequestStarted?t.visitRequestStarted(this):void 0},t.prototype.requestProgressed=function(t){var e;return this.progress=t,"function"==typeof(e=this.adapter).visitRequestProgressed?e.visitRequestProgressed(this):void 0},t.prototype.requestCompletedWithResponse=function(t,e){return this.response=t,null!=e&&(this.redirectedToLocation=l.Location.wrap(e)),this.adapter.visitRequestCompleted(this)},t.prototype.requestFailedWithStatusCode=function(t,e){return this.response=e,this.adapter.visitRequestFailedWithStatusCode(this,t)},t.prototype.requestFinished=function(){var t;return this.recordTimingMetric("requestEnd"),"function"==typeof(t=this.adapter).visitRequestFinished?t.visitRequestFinished(this):void 0},t.prototype.performScroll=function(){return this.scrolled?void 0:(
"restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},t.prototype.scrollToRestoredPosition=function(){var t,e;return null!=(t=null!=(e=this.restorationData)?e.scrollPosition:void 0)?(this.controller.scrollToPosition(t),!0):void 0},t.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},t.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},t.prototype.recordTimingMetric=function(t){var e;return null!=(e=this.timingMetrics)[t]?e[t]:e[t]=(new Date).getTime()},t.prototype.getTimingMetrics=function(){return l.copyObject(this.timingMetrics)},n=function(t){switch(t){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},t.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},t.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},t.prototype.render=function(t){return this.cancelRender(),this.frame=requestAnimationFrame((e=this,function(){return e.frame=null,t.call(e)}));var e},t.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};l.Controller=function(){function t(){this.clickBubbled=e(this.clickBubbled,this),this.clickCaptured=e(this.clickCaptured,this),this.pageLoaded=e(this.pageLoaded,this),this.history=new l.History(this),this.view=new l.View(this),this.scrollManager=new l.ScrollManager(this),this.restorationData={},this.clearCache(),this.setProgressBarDelay(500)}return t.prototype.start=function(){return l.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},t.prototype.clearCache=function(){return this.cache=new l.SnapshotCache(10)},t.prototype.visit=function(t,e){var n,i;return null==e&&(e={}),t=l.Location.wrap(t),this.applicationAllowsVisitingLocation(t)?this.locationIsVisitable(t)?(n=null!=(i=e.action)?i:"advance",this.adapter.visitProposedToLocationWithAction(t,n)):window.location=t:void 0},t.prototype.startVisitToLocationWithAction=function(t,e,n){var i;return l.supported?(i=this.getRestorationDataForIdentifier(n),this.startVisit(t,e,{restorationData:i})):window.location=t},t.prototype.setProgressBarDelay=function(t){return this.progressBarDelay=t},t.prototype.startHistory=function(){return this.location=l.Location.wrap(window.location),this.restorationIdentifier=l.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},t.prototype.stopHistory=function(){return this.history.stop()},t.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(t,e){return this.restorationIdentifier=e,this.location=l.Location.wrap(t),this.history.push(this.location,this.restorationIdentifier)},t.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(t,e){return this.restorationIdentifier=e,this.location=l.Location.wrap(t),this.history.replace(this.location,this.restorationIdentifier)},t.prototype.historyPoppedToLocationWithRestorationIdentifier=function(t,e){var n;return this.restorationIdentifier=e,this.enabled?(n=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(t,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:n,historyChanged:!0}),this.location=l.Location.wrap(t)):this.adapter.pageInvalidated()},t.prototype.getCachedSnapshotForLocation=function(t){var e;return null!=(e=this.cache.get(t))?e.clone():void 0},t.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},t.prototype.cacheSnapshot=function(){var t,e,n;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),e=this.view.getSnapshot(),t=this.lastRenderedLocation,l.defer((n=this,function(){return n.cache.put(t,e.clone())}))):void 0},t.prototype.scrollToAnchor=function(t){var e;return(e=this.view.getElementForAnchor(t))?this.scrollToElement(e):this.scrollToPosition({x:0,y:0})},t.prototype.scrollToElement=function(t){return this.scrollManager.scrollToElement(t)},t.prototype.scrollToPosition=function(t){return this.scrollManager.scrollToPosition(t)},t.prototype.scrollPositionChanged=function(t){return this.getCurrentRestorationData().scrollPosition=t},t.prototype.render=function(t,e){return this.view.render(t,e)},t.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},t.prototype.viewWillRender=function(t){return this.notifyApplicationBeforeRender(t)},t.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},t.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},t.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},t.prototype.clickBubbled=function(t){var e,n,i;return this.enabled&&this.clickEventIsSignificant(t)&&(n=this.getVisitableLinkForNode(t.target))&&(i=this.getVisitableLocationForLink(n))&&this.applicationAllowsFollowingLinkToLocation(n,i)?(t.preventDefault(),e=this.getActionForLink(n),this.visit(i,{action:e})):void 0},t.prototype.applicationAllowsFollowingLinkToLocation=function(t,e){return!this.notifyApplicationAfterClickingLinkToLocation(t,e).defaultPrevented},t.prototype.applicationAllowsVisitingLocation=function(t){return!this.notifyApplicationBeforeVisitingLocation(t).defaultPrevented},t.prototype.notifyApplicationAfterClickingLinkToLocation=function(t,e){return l.dispatch("turbolinks:click",{target:t,data:{url:e.absoluteURL},cancelable:!0})},t.prototype.notifyApplicationBeforeVisitingLocation=function(t){return l.dispatch("turbolinks:before-visit",{data:{url:t.absoluteURL},cancelable:!0})},t.prototype.notifyApplicationAfterVisitingLocation=function(t){return l.dispatch("turbolinks:visit",{data:{url:t.absoluteURL}})},t.prototype.notifyApplicationBeforeCachingSnapshot=function(){return l.dispatch("turbolinks:before-cache")},t.prototype.notifyApplicationBeforeRender=function(t){return l.dispatch("turbolinks:before-render",{data:{newBody:t}})},t.prototype.notifyApplicationAfterRender=function(){return l.dispatch("turbolinks:render")},t.prototype.notifyApplicationAfterPageLoad=function(t){return null==t&&(t={}),l.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:t}})},t.prototype.startVisit=function(t,e,n){var i;return null!=(i=this.currentVisit)&&i.cancel(),this.currentVisit=this.createVisit(t,e,n),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(t)},t.prototype.createVisit=function(t,e,n){var i,r,o,s,a;return s=(r=null!=n?n:{}).restorationIdentifier,o=r.restorationData,i=r.historyChanged,(a=new l.Visit(this,t,e)).restorationIdentifier=null!=s?s:l.uuid(),a.restorationData=l.copyObject(o),a.historyChanged=i,a.referrer=this.location,a},t.prototype.visitCompleted=function(t){return this.notifyApplicationAfterPageLoad(t.getTimingMetrics())},t.prototype.clickEventIsSignificant=function(t){return!(t.defaultPrevented||t.target.isContentEditable||1<t.which||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)},t.prototype.getVisitableLinkForNode=function(t){return this.nodeIsVisitable(t)?l.closest(t,"a[href]:not([target]):not([download])"):void 0},t.prototype.getVisitableLocationForLink=function(t){var e;return e=new l.Location(t.getAttribute("href")),this.locationIsVisitable(e)?e:void 0},t.prototype.getActionForLink=function(t){var e;return null!=(e=t.getAttribute("data-turbolinks-action"))?e:"advance"},t.prototype.nodeIsVisitable=function(t){var e;return!(e=l.closest(t,"[data-turbolinks]"))||"false"!==e.getAttribute("data-turbolinks")},t.prototype.locationIsVisitable=function(t){return t.isPrefixedBy(this.view.getRootLocation())&&t.isHTML()},t.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},t.prototype.getRestorationDataForIdentifier=function(t){var e;return null!=(e=this.restorationData)[t]?e[t]:e[t]={}},t}()}.call(this),function(){!function(){var t,e;if((t=e=document.currentScript)&&!e.hasAttribute("data-turbolinks-suppress-warning"))for(;t=t.parentNode;)if(t===document.body)return console.warn("You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\n\nLoad your application\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\nFor more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\n\n\u2014\u2014\nSuppress this warning by adding a `data-turbolinks-suppress-warning` attribute to: %s",e.outerHTML)}()}.call(this),function(){var t,e,n;l.start=function(){return e()?(null==l.controller&&(l.controller=t()),l.controller.start()):void 0},e=function(){return null==window.Turbolinks&&(window.Turbolinks=l),n()},t=function(){var t;return(t=new l.Controller).adapter=new l.BrowserAdapter(t),t},(n=function(){return window.Turbolinks===l})()&&l.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=l:"function"==typeof define&&define.amd&&define(l)}.call(this),function(){}.call(this),function(){var t=this;(function(){(function(){var n=[].slice;this.ActionCable={INTERNAL:{message_types:{welcome:"welcome",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]},WebSocket:window.WebSocket,logger:window.console,createConsumer:function(t){var e;return null==t&&(t=null!=(e=this.getConfig("url"))?e:this.INTERNAL.default_mount_path),new u.Consumer(this.createWebSocketURL(t))},getConfig:function(t){var e;return null!=(e=document.head.querySelector("meta[name='action-cable-"+t+"']"))?e.getAttribute("content"):void 0},createWebSocketURL:function(t){var e;return t&&!/^wss?:/i.test(t)?((e=document.createElement("a")).href=t,e.href=e.href,e.protocol=e.protocol.replace("http","ws"),e.href):t},startDebugging:function(){return this.debugging=!0},stopDebugging:function(){return this.debugging=null},log:function(){var t,e;if(t=1<=arguments.length?n.call(arguments,0):[],this.debugging)return t.push(Date.now()),(e=this.logger).log.apply(e,["[ActionCable]"].concat(n.call(t)))}}}).call(this)}).call(t);var u=t.ActionCable;(function(){(function(){var i=function(t,e){return function(){return t.apply(e,arguments)}};u.ConnectionMonitor=function(){function t(t){this.connection=t,this.visibilityDidChange=i(this.visibilityDidChange,this),this.reconnectAttempts=0}var r,e,n;return t.pollInterval={min:3,max:30},t.staleThreshold=6,t.prototype.start=function(){if(!this.isRunning())return this.startedAt=e(),delete this.stoppedAt,this.startPolling(),document.addEventListener("visibilitychange",this.visibilityDidChange),u.log("ConnectionMonitor started. pollInterval = "+this.getPollInterval()+" ms")},t.prototype.stop=function(){if(this.isRunning())return this.stoppedAt=e(),this.stopPolling(),document.removeEventListener("visibilitychange",this.visibilityDidChange),u.log("ConnectionMonitor stopped")},t.prototype.isRunning=function(){return null!=this.startedAt&&null==this.stoppedAt},t.prototype.recordPing=function(){return this.pingedAt=e()},t.prototype.recordConnect=function(){return this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,u.log("ConnectionMonitor recorded connect")},t.prototype.recordDisconnect=function(){return this.disconnectedAt=e(),u.log("ConnectionMonitor recorded disconnect")},t.prototype.startPolling=function(){return this.stopPolling(),this.poll()},t.prototype.stopPolling=function(){return clearTimeout(this.pollTimeout)},t.prototype.poll=function(){return this.pollTimeout=setTimeout((t=this,function(){return t.reconnectIfStale(),t.poll()}),this.getPollInterval());var t},t.prototype.getPollInterval=function(){var t,e,n,i;return n=(i=this.constructor.pollInterval).min,e=i.max,t=5*Math.log(this.reconnectAttempts+1),Math.round(1e3*r(t,n,e))},t.prototype.reconnectIfStale=function(){if(this.connectionIsStale())return u.log("ConnectionMonitor detected stale connection. reconnectAttempts = "+this.reconnectAttempts+", pollInterval = "+this.getPollInterval()+" ms, time disconnected = "+n(this.disconnectedAt)+" s, stale threshold = "+this.constructor.staleThreshold+" s"),this.reconnectAttempts++,this.disconnectedRecently()?u.log("ConnectionMonitor skipping reopening recent disconnect"):(u.log("ConnectionMonitor reopening"),this.connection.reopen())},t.prototype.connectionIsStale=function(){var t;return n(null!=(t=this.pingedAt)?t:this.startedAt)>this.constructor.staleThreshold},t.prototype.disconnectedRecently=function(){return this.disconnectedAt&&n(this.disconnectedAt)<this.constructor.staleThreshold},t.prototype.visibilityDidChange=function(){if("visible"===document.visibilityState)return setTimeout((t=this,function(){if(t.connectionIsStale()||!t.connection.isOpen())return u.log("ConnectionMonitor reopening stale connection on visibilitychange. visbilityState = "+document.visibilityState),t.connection.reopen()}),200);var t},e=function(){return(new Date).getTime()},n=function(t){return(e()-t)/1e3},r=function(t,e,n){return Math.max(e,Math.min(n,t))},t}()}).call(this),function(){var t,r,e,n,i,o=[].slice,s=function(t,e){return function(){return t.apply(e,arguments)}},a=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};n=u.INTERNAL,r=n.message_types,e=n.protocols,i=2<=e.length?o.call(e,0,t=e.length-1):(t=0,[]),e[t++],u.Connection=function(){function t(t){this.consumer=t,this.open=s(this.open,this),this.subscriptions=this.consumer.subscriptions,this.monitor=new u.ConnectionMonitor(this),this.disconnected=!0}return t.reopenDelay=500,t.prototype.send=function(t){return!!this.isOpen()&&(this.webSocket.send(JSON.stringify(t)),!0)},t.prototype.open=function(){return this.isActive()?(u.log("Attempted to open WebSocket, but existing socket is "+this.getState()),!1):(u.log("Opening WebSocket, current state is "+this.getState()+", subprotocols: "+e),null!=this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new u.WebSocket(this.consumer.url,e),this.installEventHandlers(),this.monitor.start(),!0)},t.prototype.close=function(t){var e;if((null!=t?t:{allowReconnect:!0}).allowReconnect||this.monitor.stop(),this.isActive())return null!=(e=this.webSocket)?e.close():void 0},t.prototype.reopen=function(){var t;if(u.log("Reopening WebSocket, current state is "+this.getState()),!this.isActive())return this.open();try{return this.close()}catch(e){return t=e,u.log("Failed to reopen WebSocket",t)}finally{u.log("Reopening WebSocket in "+this.constructor.reopenDelay+"ms"),setTimeout(this.open,this.constructor.reopenDelay)}},t.prototype.getProtocol=function(){var t;return null!=(t=this.webSocket)?t.protocol:void 0},t.prototype.isOpen=function(){return this.isState("open")},t.prototype.isActive=function(){return this.isState("open","connecting")},t.prototype.isProtocolSupported=function(){var t;return t=this.getProtocol(),0<=a.call(i,t)},t.prototype.isState=function(){var t,e;return e=1<=arguments.length?o.call(arguments,0):[],t=this.getState(),0<=a.call(e,t)},t.prototype.getState=function(){var t,e;for(e in WebSocket)if(WebSocket[e]===(null!=(t=this.webSocket)?t.readyState:void 0))return e.toLowerCase();return null},t.prototype.installEventHandlers=function(){var t,e;for(t in this.events)e=this.events[t].bind(this),this.webSocket["on"+t]=e},t.prototype.uninstallEventHandlers=function(){var t;for(t in this.events)this.webSocket["on"+t]=function(){}},t.prototype.events={message:function(t){var e,n,i;if(this.isProtocolSupported())switch(e=(i=JSON.parse(t.data)).identifier,n=i.message,i.type){case r.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case r.ping:return this.monitor.recordPing();case r.confirmation:return this.subscriptions.notify(e,"connected");case r.rejection:return this.subscriptions.reject(e);default:return this.subscriptions.notify(e,"received",n)}},open:function(){if(u.log("WebSocket onopen event, using '"+this.getProtocol()+"' subprotocol"),this.disconnected=!1,!this.isProtocolSupported())return u.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close:function(){if(u.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error:function(){return u.log("WebSocket onerror event")}},t}()}.call(this),function(){var c=[].slice;u.Subscriptions=function(){function t(t){this.consumer=t,this.subscriptions=[]}return t.prototype.create=function(t,e){var n,i,r;return i="object"==typeof(n=t)?n:{channel:n},r=new u.Subscription(this.consumer,i,e),this.add(r)},t.prototype.add=function(t){return this.subscriptions.push(t),this.consumer.ensureActiveConnection(),this.notify(t,"initialized"),this.sendCommand(t,"subscribe"),t},t.prototype.remove=function(t){return this.forget(t),this.findAll(t.identifier).length||this.sendCommand(t,"unsubscribe"),t},t.prototype.reject=function(t){var e,n,i,r,o;for(r=[],e=0,n=(i=this.findAll(t)).length;e<n;e++)o=i[e],this.forget(o),this.notify(o,"rejected"),r.push(o);return r},t.prototype.forget=function(r){var o;return this.subscriptions=function(){var t,e,n,i;for(i=[],t=0,e=(n=this.subscriptions).length;t<e;t++)(o=n[t])!==r&&i.push(o);return i}.call(this),r},t.prototype.findAll=function(t){var e,n,i,r,o;for(r=[],e=0,n=(i=this.subscriptions).length;e<n;e++)(o=i[e]).identifier===t&&r.push(o);return r},t.prototype.reload=function(){var t,e,n,i,r;for(i=[],t=0,e=(n=this.subscriptions).length;t<e;t++)r=n[t],i.push(this.sendCommand(r,"subscribe"));return i},t.prototype.notifyAll=function(t){var e,n,i,r,o,s,a;for(n=t,e=2<=arguments.length?c.call(arguments,1):[],s=[],i=0,r=(o=this.subscriptions).length;i<r;i++)a=o[i],s.push(this.notify.apply(this,[a,n].concat(c.call(e))));return s},t.prototype.notify=function(t,e){var n,i,r,o,s,a,u;for(a=t,i=e,n=3<=arguments.length?c.call(arguments,2):[],s=[],r=0,o=(u="string"==typeof a?this.findAll(a):[a]).length;r<o;r++)a=u[r],s.push("function"==typeof a[i]?a[i].apply(a,n):void 0);return s},t.prototype.sendCommand=function(t,e){var n;return n=t.identifier,this.consumer.send({command:e,identifier:n})},t}()}.call(this),function(){u.Subscription=function(){function t(t,e,n){this.consumer=t,null==e&&(e={}),this.identifier=JSON.stringify(e),i(this,n)}var i;return t.prototype.perform=function(t,e){return null==e&&(e={}),e.action=t,this.send(e)},t.prototype.send=function(t){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(t)})},t.prototype.unsubscribe=function(){return this.consumer.subscriptions.remove(this)},i=function(t,e){var n,i;if(null!=e)for(n in e)i=e[n],t[n]=i;return t},t}()}.call(this),function(){u.Consumer=function(){function t(t){this.url=t,this.subscriptions=new u.Subscriptions(this),this.connection=new u.Connection(this)}return t.prototype.send=function(t){return this.connection.send(t)},t.prototype.connect=function(){return this.connection.open()},t.prototype.disconnect=function(){return this.connection.close({allowReconnect:!1})},t.prototype.ensureActiveConnection=function(){if(!this.connection.isActive())return this.connection.open()},t}()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=u:"function"==typeof define&&define.amd&&define(u)}.call(this),function(){this.App||(this.App={}),App.cable=ActionCable.createConsumer()}.call(this),function(){}.call(this),document.addEventListener("trix-attachment-add",function(t){var e=t.attachment;if(e.file)return uploadAttachment(e)});